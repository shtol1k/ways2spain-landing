{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/server/instrumentation/utils.ts"],"sourcesContent":["export function getRevalidateReason(params: {\n  isOnDemandRevalidate?: boolean\n  isStaticGeneration?: boolean\n}): 'on-demand' | 'stale' | undefined {\n  if (params.isOnDemandRevalidate) {\n    return 'on-demand'\n  }\n  if (params.isStaticGeneration) {\n    return 'stale'\n  }\n  return undefined\n}\n"],"names":["getRevalidateReason","params","isOnDemandRevalidate","isStaticGeneration","undefined"],"mappings":";;;;AAAO,SAASA,oBAAoBC,MAGnC;IACC,IAAIA,OAAOC,oBAAoB,EAAE;QAC/B,OAAO;IACT;IACA,IAAID,OAAOE,kBAAkB,EAAE;QAC7B,OAAO;IACT;IACA,OAAOC;AACT","ignoreList":[0]}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/server/app-render/interop-default.ts"],"sourcesContent":["/**\n * Interop between \"export default\" and \"module.exports\".\n */\nexport function interopDefault(mod: any) {\n  return mod.default || mod\n}\n"],"names":["interopDefault","mod","default"],"mappings":"AAAA;;CAEC,GACD;;;;AAAO,SAASA,eAAeC,GAAQ;IACrC,OAAOA,IAAIC,OAAO,IAAID;AACxB","ignoreList":[0]}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/server/app-render/strip-flight-headers.ts"],"sourcesContent":["import type { IncomingHttpHeaders } from 'node:http'\n\nimport { FLIGHT_HEADERS } from '../../client/components/app-router-headers'\n\n/**\n * Removes the flight headers from the request.\n *\n * @param req the request to strip the headers from\n */\nexport function stripFlightHeaders(headers: IncomingHttpHeaders) {\n  for (const header of FLIGHT_HEADERS) {\n    delete headers[header]\n  }\n}\n"],"names":["FLIGHT_HEADERS","stripFlightHeaders","headers","header"],"mappings":";;;;AAEA,SAASA,cAAc,QAAQ,6CAA4C;;AAOpE,SAASC,mBAAmBC,OAA4B;IAC7D,KAAK,MAAMC,UAAUH,yMAAAA,CAAgB;QACnC,OAAOE,OAAO,CAACC,OAAO;IACxB;AACF","ignoreList":[0]}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/server/web/spec-extension/adapters/headers.ts"],"sourcesContent":["import type { IncomingHttpHeaders } from 'http'\n\nimport { ReflectAdapter } from './reflect'\n\n/**\n * @internal\n */\nexport class ReadonlyHeadersError extends Error {\n  constructor() {\n    super(\n      'Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers'\n    )\n  }\n\n  public static callable() {\n    throw new ReadonlyHeadersError()\n  }\n}\n\nexport type ReadonlyHeaders = Headers & {\n  /** @deprecated Method unavailable on `ReadonlyHeaders`. Read more: https://nextjs.org/docs/app/api-reference/functions/headers */\n  append(...args: any[]): void\n  /** @deprecated Method unavailable on `ReadonlyHeaders`. Read more: https://nextjs.org/docs/app/api-reference/functions/headers */\n  set(...args: any[]): void\n  /** @deprecated Method unavailable on `ReadonlyHeaders`. Read more: https://nextjs.org/docs/app/api-reference/functions/headers */\n  delete(...args: any[]): void\n}\nexport class HeadersAdapter extends Headers {\n  private readonly headers: IncomingHttpHeaders\n\n  constructor(headers: IncomingHttpHeaders) {\n    // We've already overridden the methods that would be called, so we're just\n    // calling the super constructor to ensure that the instanceof check works.\n    super()\n\n    this.headers = new Proxy(headers, {\n      get(target, prop, receiver) {\n        // Because this is just an object, we expect that all \"get\" operations\n        // are for properties. If it's a \"get\" for a symbol, we'll just return\n        // the symbol.\n        if (typeof prop === 'symbol') {\n          return ReflectAdapter.get(target, prop, receiver)\n        }\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, return undefined.\n        if (typeof original === 'undefined') return\n\n        // If the original casing exists, return the value.\n        return ReflectAdapter.get(target, original, receiver)\n      },\n      set(target, prop, value, receiver) {\n        if (typeof prop === 'symbol') {\n          return ReflectAdapter.set(target, prop, value, receiver)\n        }\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, use the prop as the key.\n        return ReflectAdapter.set(target, original ?? prop, value, receiver)\n      },\n      has(target, prop) {\n        if (typeof prop === 'symbol') return ReflectAdapter.has(target, prop)\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, return false.\n        if (typeof original === 'undefined') return false\n\n        // If the original casing exists, return true.\n        return ReflectAdapter.has(target, original)\n      },\n      deleteProperty(target, prop) {\n        if (typeof prop === 'symbol')\n          return ReflectAdapter.deleteProperty(target, prop)\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, return true.\n        if (typeof original === 'undefined') return true\n\n        // If the original casing exists, delete the property.\n        return ReflectAdapter.deleteProperty(target, original)\n      },\n    })\n  }\n\n  /**\n   * Seals a Headers instance to prevent modification by throwing an error when\n   * any mutating method is called.\n   */\n  public static seal(headers: Headers): ReadonlyHeaders {\n    return new Proxy<ReadonlyHeaders>(headers, {\n      get(target, prop, receiver) {\n        switch (prop) {\n          case 'append':\n          case 'delete':\n          case 'set':\n            return ReadonlyHeadersError.callable\n          default:\n            return ReflectAdapter.get(target, prop, receiver)\n        }\n      },\n    })\n  }\n\n  /**\n   * Merges a header value into a string. This stores multiple values as an\n   * array, so we need to merge them into a string.\n   *\n   * @param value a header value\n   * @returns a merged header value (a string)\n   */\n  private merge(value: string | string[]): string {\n    if (Array.isArray(value)) return value.join(', ')\n\n    return value\n  }\n\n  /**\n   * Creates a Headers instance from a plain object or a Headers instance.\n   *\n   * @param headers a plain object or a Headers instance\n   * @returns a headers instance\n   */\n  public static from(headers: IncomingHttpHeaders | Headers): Headers {\n    if (headers instanceof Headers) return headers\n\n    return new HeadersAdapter(headers)\n  }\n\n  public append(name: string, value: string): void {\n    const existing = this.headers[name]\n    if (typeof existing === 'string') {\n      this.headers[name] = [existing, value]\n    } else if (Array.isArray(existing)) {\n      existing.push(value)\n    } else {\n      this.headers[name] = value\n    }\n  }\n\n  public delete(name: string): void {\n    delete this.headers[name]\n  }\n\n  public get(name: string): string | null {\n    const value = this.headers[name]\n    if (typeof value !== 'undefined') return this.merge(value)\n\n    return null\n  }\n\n  public has(name: string): boolean {\n    return typeof this.headers[name] !== 'undefined'\n  }\n\n  public set(name: string, value: string): void {\n    this.headers[name] = value\n  }\n\n  public forEach(\n    callbackfn: (value: string, name: string, parent: Headers) => void,\n    thisArg?: any\n  ): void {\n    for (const [name, value] of this.entries()) {\n      callbackfn.call(thisArg, value, name, this)\n    }\n  }\n\n  public *entries(): HeadersIterator<[string, string]> {\n    for (const key of Object.keys(this.headers)) {\n      const name = key.toLowerCase()\n      // We assert here that this is a string because we got it from the\n      // Object.keys() call above.\n      const value = this.get(name) as string\n\n      yield [name, value] as [string, string]\n    }\n  }\n\n  public *keys(): HeadersIterator<string> {\n    for (const key of Object.keys(this.headers)) {\n      const name = key.toLowerCase()\n      yield name\n    }\n  }\n\n  public *values(): HeadersIterator<string> {\n    for (const key of Object.keys(this.headers)) {\n      // We assert here that this is a string because we got it from the\n      // Object.keys() call above.\n      const value = this.get(key) as string\n\n      yield value\n    }\n  }\n\n  public [Symbol.iterator](): HeadersIterator<[string, string]> {\n    return this.entries()\n  }\n}\n"],"names":["ReflectAdapter","ReadonlyHeadersError","Error","constructor","callable","HeadersAdapter","Headers","headers","Proxy","get","target","prop","receiver","lowercased","toLowerCase","original","Object","keys","find","o","set","value","has","deleteProperty","seal","merge","Array","isArray","join","from","append","name","existing","push","delete","forEach","callbackfn","thisArg","entries","call","key","values","Symbol","iterator"],"mappings":";;;;;;AAEA,SAASA,cAAc,QAAQ,YAAW;;AAKnC,MAAMC,6BAA6BC;IACxCC,aAAc;QACZ,KAAK,CACH;IAEJ;IAEA,OAAcC,WAAW;QACvB,MAAM,IAAIH;IACZ;AACF;AAUO,MAAMI,uBAAuBC;IAGlCH,YAAYI,OAA4B,CAAE;QACxC,2EAA2E;QAC3E,2EAA2E;QAC3E,KAAK;QAEL,IAAI,CAACA,OAAO,GAAG,IAAIC,MAAMD,SAAS;YAChCE,KAAIC,MAAM,EAAEC,IAAI,EAAEC,QAAQ;gBACxB,sEAAsE;gBACtE,sEAAsE;gBACtE,cAAc;gBACd,IAAI,OAAOD,SAAS,UAAU;oBAC5B,OAAOX,kNAAAA,CAAeS,GAAG,CAACC,QAAQC,MAAMC;gBAC1C;gBAEA,MAAMC,aAAaF,KAAKG,WAAW;gBAEnC,wEAAwE;gBACxE,qEAAqE;gBACrE,kBAAkB;gBAClB,MAAMC,WAAWC,OAAOC,IAAI,CAACV,SAASW,IAAI,CACxC,CAACC,IAAMA,EAAEL,WAAW,OAAOD;gBAG7B,0DAA0D;gBAC1D,IAAI,OAAOE,aAAa,aAAa;gBAErC,mDAAmD;gBACnD,OAAOf,kNAAAA,CAAeS,GAAG,CAACC,QAAQK,UAAUH;YAC9C;YACAQ,KAAIV,MAAM,EAAEC,IAAI,EAAEU,KAAK,EAAET,QAAQ;gBAC/B,IAAI,OAAOD,SAAS,UAAU;oBAC5B,OAAOX,kNAAAA,CAAeoB,GAAG,CAACV,QAAQC,MAAMU,OAAOT;gBACjD;gBAEA,MAAMC,aAAaF,KAAKG,WAAW;gBAEnC,wEAAwE;gBACxE,qEAAqE;gBACrE,kBAAkB;gBAClB,MAAMC,WAAWC,OAAOC,IAAI,CAACV,SAASW,IAAI,CACxC,CAACC,IAAMA,EAAEL,WAAW,OAAOD;gBAG7B,iEAAiE;gBACjE,OAAOb,kNAAAA,CAAeoB,GAAG,CAACV,QAAQK,YAAYJ,MAAMU,OAAOT;YAC7D;YACAU,KAAIZ,MAAM,EAAEC,IAAI;gBACd,IAAI,OAAOA,SAAS,UAAU,OAAOX,kNAAAA,CAAesB,GAAG,CAACZ,QAAQC;gBAEhE,MAAME,aAAaF,KAAKG,WAAW;gBAEnC,wEAAwE;gBACxE,qEAAqE;gBACrE,kBAAkB;gBAClB,MAAMC,WAAWC,OAAOC,IAAI,CAACV,SAASW,IAAI,CACxC,CAACC,IAAMA,EAAEL,WAAW,OAAOD;gBAG7B,sDAAsD;gBACtD,IAAI,OAAOE,aAAa,aAAa,OAAO;gBAE5C,8CAA8C;gBAC9C,OAAOf,kNAAAA,CAAesB,GAAG,CAACZ,QAAQK;YACpC;YACAQ,gBAAeb,MAAM,EAAEC,IAAI;gBACzB,IAAI,OAAOA,SAAS,UAClB,OAAOX,kNAAAA,CAAeuB,cAAc,CAACb,QAAQC;gBAE/C,MAAME,aAAaF,KAAKG,WAAW;gBAEnC,wEAAwE;gBACxE,qEAAqE;gBACrE,kBAAkB;gBAClB,MAAMC,WAAWC,OAAOC,IAAI,CAACV,SAASW,IAAI,CACxC,CAACC,IAAMA,EAAEL,WAAW,OAAOD;gBAG7B,qDAAqD;gBACrD,IAAI,OAAOE,aAAa,aAAa,OAAO;gBAE5C,sDAAsD;gBACtD,OAAOf,kNAAAA,CAAeuB,cAAc,CAACb,QAAQK;YAC/C;QACF;IACF;IAEA;;;GAGC,GACD,OAAcS,KAAKjB,OAAgB,EAAmB;QACpD,OAAO,IAAIC,MAAuBD,SAAS;YACzCE,KAAIC,MAAM,EAAEC,IAAI,EAAEC,QAAQ;gBACxB,OAAQD;oBACN,KAAK;oBACL,KAAK;oBACL,KAAK;wBACH,OAAOV,qBAAqBG,QAAQ;oBACtC;wBACE,OAAOJ,kNAAAA,CAAeS,GAAG,CAACC,QAAQC,MAAMC;gBAC5C;YACF;QACF;IACF;IAEA;;;;;;GAMC,GACOa,MAAMJ,KAAwB,EAAU;QAC9C,IAAIK,MAAMC,OAAO,CAACN,QAAQ,OAAOA,MAAMO,IAAI,CAAC;QAE5C,OAAOP;IACT;IAEA;;;;;GAKC,GACD,OAAcQ,KAAKtB,OAAsC,EAAW;QAClE,IAAIA,mBAAmBD,SAAS,OAAOC;QAEvC,OAAO,IAAIF,eAAeE;IAC5B;IAEOuB,OAAOC,IAAY,EAAEV,KAAa,EAAQ;QAC/C,MAAMW,WAAW,IAAI,CAACzB,OAAO,CAACwB,KAAK;QACnC,IAAI,OAAOC,aAAa,UAAU;YAChC,IAAI,CAACzB,OAAO,CAACwB,KAAK,GAAG;gBAACC;gBAAUX;aAAM;QACxC,OAAO,IAAIK,MAAMC,OAAO,CAACK,WAAW;YAClCA,SAASC,IAAI,CAACZ;QAChB,OAAO;YACL,IAAI,CAACd,OAAO,CAACwB,KAAK,GAAGV;QACvB;IACF;IAEOa,OAAOH,IAAY,EAAQ;QAChC,OAAO,IAAI,CAACxB,OAAO,CAACwB,KAAK;IAC3B;IAEOtB,IAAIsB,IAAY,EAAiB;QACtC,MAAMV,QAAQ,IAAI,CAACd,OAAO,CAACwB,KAAK;QAChC,IAAI,OAAOV,UAAU,aAAa,OAAO,IAAI,CAACI,KAAK,CAACJ;QAEpD,OAAO;IACT;IAEOC,IAAIS,IAAY,EAAW;QAChC,OAAO,OAAO,IAAI,CAACxB,OAAO,CAACwB,KAAK,KAAK;IACvC;IAEOX,IAAIW,IAAY,EAAEV,KAAa,EAAQ;QAC5C,IAAI,CAACd,OAAO,CAACwB,KAAK,GAAGV;IACvB;IAEOc,QACLC,UAAkE,EAClEC,OAAa,EACP;QACN,KAAK,MAAM,CAACN,MAAMV,MAAM,IAAI,IAAI,CAACiB,OAAO,GAAI;YAC1CF,WAAWG,IAAI,CAACF,SAAShB,OAAOU,MAAM,IAAI;QAC5C;IACF;IAEA,CAAQO,UAA6C;QACnD,KAAK,MAAME,OAAOxB,OAAOC,IAAI,CAAC,IAAI,CAACV,OAAO,EAAG;YAC3C,MAAMwB,OAAOS,IAAI1B,WAAW;YAC5B,kEAAkE;YAClE,4BAA4B;YAC5B,MAAMO,QAAQ,IAAI,CAACZ,GAAG,CAACsB;YAEvB,MAAM;gBAACA;gBAAMV;aAAM;QACrB;IACF;IAEA,CAAQJ,OAAgC;QACtC,KAAK,MAAMuB,OAAOxB,OAAOC,IAAI,CAAC,IAAI,CAACV,OAAO,EAAG;YAC3C,MAAMwB,OAAOS,IAAI1B,WAAW;YAC5B,MAAMiB;QACR;IACF;IAEA,CAAQU,SAAkC;QACxC,KAAK,MAAMD,OAAOxB,OAAOC,IAAI,CAAC,IAAI,CAACV,OAAO,EAAG;YAC3C,kEAAkE;YAClE,4BAA4B;YAC5B,MAAMc,QAAQ,IAAI,CAACZ,GAAG,CAAC+B;YAEvB,MAAMnB;QACR;IACF;IAEO,CAACqB,OAAOC,QAAQ,CAAC,GAAsC;QAC5D,OAAO,IAAI,CAACL,OAAO;IACrB;AACF","ignoreList":[0]}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/dist/compiled/cookie/index.js"],"sourcesContent":["(()=>{\"use strict\";if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var e={};(()=>{var r=e;\n/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */r.parse=parse;r.serialize=serialize;var i=decodeURIComponent;var t=encodeURIComponent;var a=/; */;var n=/^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;function parse(e,r){if(typeof e!==\"string\"){throw new TypeError(\"argument str must be a string\")}var t={};var n=r||{};var o=e.split(a);var s=n.decode||i;for(var p=0;p<o.length;p++){var f=o[p];var u=f.indexOf(\"=\");if(u<0){continue}var v=f.substr(0,u).trim();var c=f.substr(++u,f.length).trim();if('\"'==c[0]){c=c.slice(1,-1)}if(undefined==t[v]){t[v]=tryDecode(c,s)}}return t}function serialize(e,r,i){var a=i||{};var o=a.encode||t;if(typeof o!==\"function\"){throw new TypeError(\"option encode is invalid\")}if(!n.test(e)){throw new TypeError(\"argument name is invalid\")}var s=o(r);if(s&&!n.test(s)){throw new TypeError(\"argument val is invalid\")}var p=e+\"=\"+s;if(null!=a.maxAge){var f=a.maxAge-0;if(isNaN(f)||!isFinite(f)){throw new TypeError(\"option maxAge is invalid\")}p+=\"; Max-Age=\"+Math.floor(f)}if(a.domain){if(!n.test(a.domain)){throw new TypeError(\"option domain is invalid\")}p+=\"; Domain=\"+a.domain}if(a.path){if(!n.test(a.path)){throw new TypeError(\"option path is invalid\")}p+=\"; Path=\"+a.path}if(a.expires){if(typeof a.expires.toUTCString!==\"function\"){throw new TypeError(\"option expires is invalid\")}p+=\"; Expires=\"+a.expires.toUTCString()}if(a.httpOnly){p+=\"; HttpOnly\"}if(a.secure){p+=\"; Secure\"}if(a.sameSite){var u=typeof a.sameSite===\"string\"?a.sameSite.toLowerCase():a.sameSite;switch(u){case true:p+=\"; SameSite=Strict\";break;case\"lax\":p+=\"; SameSite=Lax\";break;case\"strict\":p+=\"; SameSite=Strict\";break;case\"none\":p+=\"; SameSite=None\";break;default:throw new TypeError(\"option sameSite is invalid\")}}return p}function tryDecode(e,r){try{return r(e)}catch(r){return e}}})();module.exports=e})();"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 370, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/server/api-utils/index.ts"],"sourcesContent":["import type { IncomingMessage } from 'http'\nimport type { BaseNextRequest } from '../base-http'\nimport type { CookieSerializeOptions } from 'next/dist/compiled/cookie'\nimport type { NextApiResponse } from '../../shared/lib/utils'\n\nimport { HeadersAdapter } from '../web/spec-extension/adapters/headers'\nimport {\n  PRERENDER_REVALIDATE_HEADER,\n  PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER,\n} from '../../lib/constants'\nimport { getTracer } from '../lib/trace/tracer'\nimport { NodeSpan } from '../lib/trace/constants'\n\nexport type NextApiRequestCookies = Partial<{ [key: string]: string }>\nexport type NextApiRequestQuery = Partial<{ [key: string]: string | string[] }>\n\nexport type __ApiPreviewProps = {\n  previewModeId: string\n  previewModeEncryptionKey: string\n  previewModeSigningKey: string\n}\n\nexport function wrapApiHandler<T extends (...args: any[]) => any>(\n  page: string,\n  handler: T\n): T {\n  return ((...args) => {\n    getTracer().setRootSpanAttribute('next.route', page)\n    // Call API route method\n    return getTracer().trace(\n      NodeSpan.runHandler,\n      {\n        spanName: `executing api route (pages) ${page}`,\n      },\n      () => handler(...args)\n    )\n  }) as T\n}\n\n/**\n *\n * @param res response object\n * @param statusCode `HTTP` status code of response\n */\nexport function sendStatusCode(\n  res: NextApiResponse,\n  statusCode: number\n): NextApiResponse<any> {\n  res.statusCode = statusCode\n  return res\n}\n\n/**\n *\n * @param res response object\n * @param [statusOrUrl] `HTTP` status code of redirect\n * @param url URL of redirect\n */\nexport function redirect(\n  res: NextApiResponse,\n  statusOrUrl: string | number,\n  url?: string\n): NextApiResponse<any> {\n  if (typeof statusOrUrl === 'string') {\n    url = statusOrUrl\n    statusOrUrl = 307\n  }\n  if (typeof statusOrUrl !== 'number' || typeof url !== 'string') {\n    throw new Error(\n      `Invalid redirect arguments. Please use a single argument URL, e.g. res.redirect('/destination') or use a status code and URL, e.g. res.redirect(307, '/destination').`\n    )\n  }\n  res.writeHead(statusOrUrl, { Location: url })\n  res.write(url)\n  res.end()\n  return res\n}\n\nexport function checkIsOnDemandRevalidate(\n  req: Request | IncomingMessage | BaseNextRequest,\n  previewProps: __ApiPreviewProps\n): {\n  isOnDemandRevalidate: boolean\n  revalidateOnlyGenerated: boolean\n} {\n  const headers = HeadersAdapter.from(req.headers)\n\n  const previewModeId = headers.get(PRERENDER_REVALIDATE_HEADER)\n  const isOnDemandRevalidate = previewModeId === previewProps.previewModeId\n\n  const revalidateOnlyGenerated = headers.has(\n    PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER\n  )\n\n  return { isOnDemandRevalidate, revalidateOnlyGenerated }\n}\n\nexport const COOKIE_NAME_PRERENDER_BYPASS = `__prerender_bypass`\nexport const COOKIE_NAME_PRERENDER_DATA = `__next_preview_data`\n\nexport const RESPONSE_LIMIT_DEFAULT = 4 * 1024 * 1024\n\nexport const SYMBOL_PREVIEW_DATA = Symbol(COOKIE_NAME_PRERENDER_DATA)\nexport const SYMBOL_CLEARED_COOKIES = Symbol(COOKIE_NAME_PRERENDER_BYPASS)\n\nexport function clearPreviewData<T>(\n  res: NextApiResponse<T>,\n  options: {\n    path?: string\n  } = {}\n): NextApiResponse<T> {\n  if (SYMBOL_CLEARED_COOKIES in res) {\n    return res\n  }\n\n  const { serialize } =\n    require('next/dist/compiled/cookie') as typeof import('next/dist/compiled/cookie')\n  const previous = res.getHeader('Set-Cookie')\n  res.setHeader(`Set-Cookie`, [\n    ...(typeof previous === 'string'\n      ? [previous]\n      : Array.isArray(previous)\n        ? previous\n        : []),\n    serialize(COOKIE_NAME_PRERENDER_BYPASS, '', {\n      // To delete a cookie, set `expires` to a date in the past:\n      // https://tools.ietf.org/html/rfc6265#section-4.1.1\n      // `Max-Age: 0` is not valid, thus ignored, and the cookie is persisted.\n      expires: new Date(0),\n      httpOnly: true,\n      sameSite: process.env.NODE_ENV !== 'development' ? 'none' : 'lax',\n      secure: process.env.NODE_ENV !== 'development',\n      path: '/',\n      ...(options.path !== undefined\n        ? ({ path: options.path } as CookieSerializeOptions)\n        : undefined),\n    }),\n    serialize(COOKIE_NAME_PRERENDER_DATA, '', {\n      // To delete a cookie, set `expires` to a date in the past:\n      // https://tools.ietf.org/html/rfc6265#section-4.1.1\n      // `Max-Age: 0` is not valid, thus ignored, and the cookie is persisted.\n      expires: new Date(0),\n      httpOnly: true,\n      sameSite: process.env.NODE_ENV !== 'development' ? 'none' : 'lax',\n      secure: process.env.NODE_ENV !== 'development',\n      path: '/',\n      ...(options.path !== undefined\n        ? ({ path: options.path } as CookieSerializeOptions)\n        : undefined),\n    }),\n  ])\n\n  Object.defineProperty(res, SYMBOL_CLEARED_COOKIES, {\n    value: true,\n    enumerable: false,\n  })\n  return res\n}\n\n/**\n * Custom error class\n */\nexport class ApiError extends Error {\n  readonly statusCode: number\n\n  constructor(statusCode: number, message: string) {\n    super(message)\n    this.statusCode = statusCode\n  }\n}\n\n/**\n * Sends error in `response`\n * @param res response object\n * @param statusCode of response\n * @param message of response\n */\nexport function sendError(\n  res: NextApiResponse,\n  statusCode: number,\n  message: string\n): void {\n  res.statusCode = statusCode\n  res.statusMessage = message\n  res.end(message)\n}\n\ninterface LazyProps {\n  req: IncomingMessage\n}\n\n/**\n * Execute getter function only if its needed\n * @param LazyProps `req` and `params` for lazyProp\n * @param prop name of property\n * @param getter function to get data\n */\nexport function setLazyProp<T>(\n  { req }: LazyProps,\n  prop: string,\n  getter: () => T\n): void {\n  const opts = { configurable: true, enumerable: true }\n  const optsReset = { ...opts, writable: true }\n\n  Object.defineProperty(req, prop, {\n    ...opts,\n    get: () => {\n      const value = getter()\n      // we set the property on the object to avoid recalculating it\n      Object.defineProperty(req, prop, { ...optsReset, value })\n      return value\n    },\n    set: (value) => {\n      Object.defineProperty(req, prop, { ...optsReset, value })\n    },\n  })\n}\n"],"names":["HeadersAdapter","PRERENDER_REVALIDATE_HEADER","PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER","getTracer","NodeSpan","wrapApiHandler","page","handler","args","setRootSpanAttribute","trace","runHandler","spanName","sendStatusCode","res","statusCode","redirect","statusOrUrl","url","Error","writeHead","Location","write","end","checkIsOnDemandRevalidate","req","previewProps","headers","from","previewModeId","get","isOnDemandRevalidate","revalidateOnlyGenerated","has","COOKIE_NAME_PRERENDER_BYPASS","COOKIE_NAME_PRERENDER_DATA","RESPONSE_LIMIT_DEFAULT","SYMBOL_PREVIEW_DATA","Symbol","SYMBOL_CLEARED_COOKIES","clearPreviewData","options","serialize","require","previous","getHeader","setHeader","Array","isArray","expires","Date","httpOnly","sameSite","process","env","NODE_ENV","secure","path","undefined","Object","defineProperty","value","enumerable","ApiError","constructor","message","sendError","statusMessage","setLazyProp","prop","getter","opts","configurable","optsReset","writable","set"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 539, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/server/api-utils/get-cookie-parser.ts"],"sourcesContent":["import type { NextApiRequestCookies } from '.'\n\n/**\n * Parse cookies from the `headers` of request\n * @param req request object\n */\n\nexport function getCookieParser(headers: {\n  [key: string]: string | string[] | null | undefined\n}): () => NextApiRequestCookies {\n  return function parseCookie(): NextApiRequestCookies {\n    const { cookie } = headers\n\n    if (!cookie) {\n      return {}\n    }\n\n    const { parse: parseCookieFn } =\n      require('next/dist/compiled/cookie') as typeof import('next/dist/compiled/cookie')\n    return parseCookieFn(Array.isArray(cookie) ? cookie.join('; ') : cookie)\n  }\n}\n"],"names":["getCookieParser","headers","parseCookie","cookie","parse","parseCookieFn","require","Array","isArray","join"],"mappings":"AAEA;;;CAGC,GAED;;;;AAAO,SAASA,gBAAgBC,OAE/B;IACC,OAAO,SAASC;QACd,MAAM,EAAEC,MAAM,EAAE,GAAGF;QAEnB,IAAI,CAACE,QAAQ;YACX,OAAO,CAAC;QACV;QAEA,MAAM,EAAEC,OAAOC,aAAa,EAAE,GAC5BC,QAAQ;QACV,OAAOD,cAAcE,MAAMC,OAAO,CAACL,UAAUA,OAAOM,IAAI,CAAC,QAAQN;IACnE;AACF","ignoreList":[0]}},
    {"offset": {"line": 560, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/server/base-http/index.ts"],"sourcesContent":["import type { IncomingHttpHeaders, OutgoingHttpHeaders } from 'http'\nimport type { I18NConfig } from '../config-shared'\n\nimport { RedirectStatusCode } from '../../client/components/redirect-status-code'\nimport type { NextApiRequestCookies } from '../api-utils'\nimport { getCookieParser } from '../api-utils/get-cookie-parser'\n\nexport interface BaseNextRequestConfig {\n  basePath: string | undefined\n  i18n?: I18NConfig\n  trailingSlash?: boolean | undefined\n}\n\nexport type FetchMetric = {\n  url: string\n  idx: number\n  end: number\n  start: number\n  method: string\n  status: number\n  cacheReason: string\n  cacheStatus: 'hit' | 'miss' | 'skip' | 'hmr'\n  cacheWarning?: string\n}\n\nexport type FetchMetrics = Array<FetchMetric>\n\nexport abstract class BaseNextRequest<Body = any> {\n  protected _cookies: NextApiRequestCookies | undefined\n  public abstract headers: IncomingHttpHeaders\n  public abstract fetchMetrics: FetchMetric[] | undefined\n\n  constructor(\n    public method: string,\n    public url: string,\n    public body: Body\n  ) {}\n\n  // Utils implemented using the abstract methods above\n\n  public get cookies() {\n    if (this._cookies) return this._cookies\n    return (this._cookies = getCookieParser(this.headers)())\n  }\n}\n\nexport abstract class BaseNextResponse<Destination = any> {\n  abstract statusCode: number | undefined\n  abstract statusMessage: string | undefined\n  abstract get sent(): boolean\n\n  constructor(public destination: Destination) {}\n\n  /**\n   * Sets a value for the header overwriting existing values\n   */\n  abstract setHeader(name: string, value: string | string[]): this\n\n  /**\n   * Removes a header\n   */\n  abstract removeHeader(name: string): this\n\n  /**\n   * Appends value for the given header name\n   */\n  abstract appendHeader(name: string, value: string): this\n\n  /**\n   * Get all values for a header as an array or undefined if no value is present\n   */\n  abstract getHeaderValues(name: string): string[] | undefined\n\n  abstract hasHeader(name: string): boolean\n\n  /**\n   * Get values for a header concatenated using `,` or undefined if no value is present\n   */\n  abstract getHeader(name: string): string | undefined\n\n  abstract getHeaders(): OutgoingHttpHeaders\n\n  abstract body(value: string): this\n\n  abstract send(): void\n\n  abstract onClose(callback: () => void): void\n\n  // Utils implemented using the abstract methods above\n\n  public redirect(destination: string, statusCode: number) {\n    this.setHeader('Location', destination)\n    this.statusCode = statusCode\n\n    // Since IE11 doesn't support the 308 header add backwards\n    // compatibility using refresh header\n    if (statusCode === RedirectStatusCode.PermanentRedirect) {\n      this.setHeader('Refresh', `0;url=${destination}`)\n    }\n\n    return this\n  }\n}\n"],"names":["RedirectStatusCode","getCookieParser","BaseNextRequest","constructor","method","url","body","cookies","_cookies","headers","BaseNextResponse","destination","redirect","statusCode","setHeader","PermanentRedirect"],"mappings":";;;;;;AAGA,SAASA,kBAAkB,QAAQ,+CAA8C;AAEjF,SAASC,eAAe,QAAQ,iCAAgC;;;AAsBzD,MAAeC;IAKpBC,YACSC,MAAc,EACdC,GAAW,EACXC,IAAU,CACjB;aAHOF,MAAAA,GAAAA;aACAC,GAAAA,GAAAA;aACAC,IAAAA,GAAAA;IACN;IAEH,qDAAqD;IAErD,IAAWC,UAAU;QACnB,IAAI,IAAI,CAACC,QAAQ,EAAE,OAAO,IAAI,CAACA,QAAQ;QACvC,OAAQ,IAAI,CAACA,QAAQ,OAAGP,2MAAAA,EAAgB,IAAI,CAACQ,OAAO;IACtD;AACF;AAEO,MAAeC;IAKpBP,YAAmBQ,WAAwB,CAAE;aAA1BA,WAAAA,GAAAA;IAA2B;IAqC9C,qDAAqD;IAE9CC,SAASD,WAAmB,EAAEE,UAAkB,EAAE;QACvD,IAAI,CAACC,SAAS,CAAC,YAAYH;QAC3B,IAAI,CAACE,UAAU,GAAGA;QAElB,0DAA0D;QAC1D,qCAAqC;QACrC,IAAIA,eAAeb,+MAAAA,CAAmBe,iBAAiB,EAAE;YACvD,IAAI,CAACD,SAAS,CAAC,WAAW,CAAC,MAAM,EAAEH,aAAa;QAClD;QAEA,OAAO,IAAI;IACb;AACF","ignoreList":[0]}},
    {"offset": {"line": 602, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/server/base-http/node.ts"],"sourcesContent":["import type { ServerResponse, IncomingMessage } from 'http'\nimport type { Writable, Readable } from 'stream'\n\nimport { SYMBOL_CLEARED_COOKIES } from '../api-utils'\nimport type { NextApiRequestCookies } from '../api-utils'\n\nimport { NEXT_REQUEST_META } from '../request-meta'\nimport type { RequestMeta } from '../request-meta'\n\nimport { BaseNextRequest, BaseNextResponse, type FetchMetric } from './index'\nimport type { OutgoingHttpHeaders } from 'node:http'\n\ntype Req = IncomingMessage & {\n  [NEXT_REQUEST_META]?: RequestMeta\n  cookies?: NextApiRequestCookies\n  fetchMetrics?: FetchMetric[]\n}\n\nexport class NodeNextRequest extends BaseNextRequest<Readable> {\n  public headers = this._req.headers\n  public fetchMetrics: FetchMetric[] | undefined = this._req?.fetchMetrics;\n\n  [NEXT_REQUEST_META]: RequestMeta = this._req[NEXT_REQUEST_META] || {}\n\n  constructor(private _req: Req) {\n    super(_req.method!.toUpperCase(), _req.url!, _req)\n  }\n\n  get originalRequest() {\n    // Need to mimic these changes to the original req object for places where we use it:\n    // render.tsx, api/ssg requests\n    this._req[NEXT_REQUEST_META] = this[NEXT_REQUEST_META]\n    this._req.url = this.url\n    this._req.cookies = this.cookies\n    return this._req\n  }\n\n  set originalRequest(value: Req) {\n    this._req = value\n  }\n\n  private streaming = false\n\n  /**\n   * Returns the request body as a Web Readable Stream. The body here can only\n   * be read once as the body will start flowing as soon as the data handler\n   * is attached.\n   *\n   * @internal\n   */\n  public stream() {\n    if (this.streaming) {\n      throw new Error(\n        'Invariant: NodeNextRequest.stream() can only be called once'\n      )\n    }\n    this.streaming = true\n\n    return new ReadableStream({\n      start: (controller) => {\n        this._req.on('data', (chunk) => {\n          controller.enqueue(new Uint8Array(chunk))\n        })\n        this._req.on('end', () => {\n          controller.close()\n        })\n        this._req.on('error', (err) => {\n          controller.error(err)\n        })\n      },\n    })\n  }\n}\n\nexport class NodeNextResponse extends BaseNextResponse<Writable> {\n  private textBody: string | undefined = undefined\n\n  public [SYMBOL_CLEARED_COOKIES]?: boolean\n\n  get originalResponse() {\n    if (SYMBOL_CLEARED_COOKIES in this) {\n      this._res[SYMBOL_CLEARED_COOKIES] = this[SYMBOL_CLEARED_COOKIES]\n    }\n\n    return this._res\n  }\n\n  constructor(\n    private _res: ServerResponse & { [SYMBOL_CLEARED_COOKIES]?: boolean }\n  ) {\n    super(_res)\n  }\n\n  get sent() {\n    return this._res.finished || this._res.headersSent\n  }\n\n  get statusCode() {\n    return this._res.statusCode\n  }\n\n  set statusCode(value: number) {\n    this._res.statusCode = value\n  }\n\n  get statusMessage() {\n    return this._res.statusMessage\n  }\n\n  set statusMessage(value: string) {\n    this._res.statusMessage = value\n  }\n\n  setHeader(name: string, value: string | string[]): this {\n    this._res.setHeader(name, value)\n    return this\n  }\n\n  removeHeader(name: string): this {\n    this._res.removeHeader(name)\n    return this\n  }\n\n  getHeaderValues(name: string): string[] | undefined {\n    const values = this._res.getHeader(name)\n\n    if (values === undefined) return undefined\n\n    return (Array.isArray(values) ? values : [values]).map((value) =>\n      value.toString()\n    )\n  }\n\n  hasHeader(name: string): boolean {\n    return this._res.hasHeader(name)\n  }\n\n  getHeader(name: string): string | undefined {\n    const values = this.getHeaderValues(name)\n    return Array.isArray(values) ? values.join(',') : undefined\n  }\n\n  getHeaders(): OutgoingHttpHeaders {\n    return this._res.getHeaders()\n  }\n\n  appendHeader(name: string, value: string): this {\n    const currentValues = this.getHeaderValues(name) ?? []\n\n    if (!currentValues.includes(value)) {\n      this._res.setHeader(name, [...currentValues, value])\n    }\n\n    return this\n  }\n\n  body(value: string) {\n    this.textBody = value\n    return this\n  }\n\n  send() {\n    this._res.end(this.textBody)\n  }\n\n  public onClose(callback: () => void) {\n    this.originalResponse.on('close', callback)\n  }\n}\n"],"names":["SYMBOL_CLEARED_COOKIES","NEXT_REQUEST_META","BaseNextRequest","BaseNextResponse","NodeNextRequest","constructor","_req","method","toUpperCase","url","headers","fetchMetrics","streaming","originalRequest","cookies","value","stream","Error","ReadableStream","start","controller","on","chunk","enqueue","Uint8Array","close","err","error","NodeNextResponse","originalResponse","_res","textBody","undefined","sent","finished","headersSent","statusCode","statusMessage","setHeader","name","removeHeader","getHeaderValues","values","getHeader","Array","isArray","map","toString","hasHeader","join","getHeaders","appendHeader","currentValues","includes","body","send","end","onClose","callback"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 738, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/server/lib/experimental/ppr.ts"],"sourcesContent":["/**\n * If set to `incremental`, only those leaf pages that export\n * `experimental_ppr = true` will have partial prerendering enabled. If any\n * page exports this value as `false` or does not export it at all will not\n * have partial prerendering enabled. If set to a boolean, the options for\n * `experimental_ppr` will be ignored.\n */\n\nexport type ExperimentalPPRConfig = boolean | 'incremental'\n\n/**\n * Returns true if partial prerendering is enabled for the application. It does\n * not tell you if a given route has PPR enabled, as that requires analysis of\n * the route's configuration.\n *\n * @see {@link checkIsRoutePPREnabled} - for checking if a specific route has PPR enabled.\n */\nexport function checkIsAppPPREnabled(\n  config: ExperimentalPPRConfig | undefined\n): boolean {\n  // If the config is undefined, partial prerendering is disabled.\n  if (typeof config === 'undefined') return false\n\n  // If the config is a boolean, use it directly.\n  if (typeof config === 'boolean') return config\n\n  // If the config is a string, it must be 'incremental' to enable partial\n  // prerendering.\n  if (config === 'incremental') return true\n\n  return false\n}\n\n/**\n * Returns true if partial prerendering is supported for the current page with\n * the provided app configuration. If the application doesn't have partial\n * prerendering enabled, this function will always return false. If you want to\n * check if the application has partial prerendering enabled\n *\n * @see {@link checkIsAppPPREnabled} for checking if the application has PPR enabled.\n */\nexport function checkIsRoutePPREnabled(\n  config: ExperimentalPPRConfig | undefined\n): boolean {\n  // If the config is undefined, partial prerendering is disabled.\n  if (typeof config === 'undefined') return false\n\n  // If the config is a boolean, use it directly.\n  if (typeof config === 'boolean') return config\n\n  return false\n}\n"],"names":["checkIsAppPPREnabled","config","checkIsRoutePPREnabled"],"mappings":"AAAA;;;;;;CAMC,GAID;;;;;;CAMC,GACD;;;;;;AAAO,SAASA,qBACdC,MAAyC;IAEzC,gEAAgE;IAChE,IAAI,OAAOA,WAAW,aAAa,OAAO;IAE1C,+CAA+C;IAC/C,IAAI,OAAOA,WAAW,WAAW,OAAOA;IAExC,wEAAwE;IACxE,gBAAgB;IAChB,IAAIA,WAAW,eAAe,OAAO;IAErC,OAAO;AACT;AAUO,SAASC,uBACdD,MAAyC;IAEzC,gEAAgE;IAChE,IAAI,OAAOA,WAAW,aAAa,OAAO;IAE1C,+CAA+C;IAC/C,IAAI,OAAOA,WAAW,WAAW,OAAOA;IAExC,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 777, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/server/route-modules/checks.ts"],"sourcesContent":["import type { AppRouteRouteModule } from './app-route/module'\nimport type { AppPageRouteModule } from './app-page/module'\nimport type { PagesRouteModule } from './pages/module'\nimport type { PagesAPIRouteModule } from './pages-api/module'\n\nimport type { RouteModule } from './route-module'\n\nimport { RouteKind } from '../route-kind'\n\nexport function isAppRouteRouteModule(\n  routeModule: RouteModule\n): routeModule is AppRouteRouteModule {\n  return routeModule.definition.kind === RouteKind.APP_ROUTE\n}\n\nexport function isAppPageRouteModule(\n  routeModule: RouteModule\n): routeModule is AppPageRouteModule {\n  return routeModule.definition.kind === RouteKind.APP_PAGE\n}\n\nexport function isPagesRouteModule(\n  routeModule: RouteModule\n): routeModule is PagesRouteModule {\n  return routeModule.definition.kind === RouteKind.PAGES\n}\n\nexport function isPagesAPIRouteModule(\n  routeModule: RouteModule\n): routeModule is PagesAPIRouteModule {\n  return routeModule.definition.kind === RouteKind.PAGES_API\n}\n"],"names":["RouteKind","isAppRouteRouteModule","routeModule","definition","kind","APP_ROUTE","isAppPageRouteModule","APP_PAGE","isPagesRouteModule","PAGES","isPagesAPIRouteModule","PAGES_API"],"mappings":";;;;;;;;;;AAOA,SAASA,SAAS,QAAQ,gBAAe;;AAElC,SAASC,sBACdC,WAAwB;IAExB,OAAOA,YAAYC,UAAU,CAACC,IAAI,KAAKJ,2KAAAA,CAAUK,SAAS;AAC5D;AAEO,SAASC,qBACdJ,WAAwB;IAExB,OAAOA,YAAYC,UAAU,CAACC,IAAI,KAAKJ,2KAAAA,CAAUO,QAAQ;AAC3D;AAEO,SAASC,mBACdN,WAAwB;IAExB,OAAOA,YAAYC,UAAU,CAACC,IAAI,KAAKJ,2KAAAA,CAAUS,KAAK;AACxD;AAEO,SAASC,sBACdR,WAAwB;IAExB,OAAOA,YAAYC,UAAU,CAACC,IAAI,KAAKJ,2KAAAA,CAAUW,SAAS;AAC5D","ignoreList":[0]}},
    {"offset": {"line": 805, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/shared/lib/page-path/ensure-leading-slash.ts"],"sourcesContent":["/**\n * For a given page path, this function ensures that there is a leading slash.\n * If there is not a leading slash, one is added, otherwise it is noop.\n */\nexport function ensureLeadingSlash(path: string) {\n  return path.startsWith('/') ? path : `/${path}`\n}\n"],"names":["ensureLeadingSlash","path","startsWith"],"mappings":"AAAA;;;CAGC,GACD;;;;AAAO,SAASA,mBAAmBC,IAAY;IAC7C,OAAOA,KAAKC,UAAU,CAAC,OAAOD,OAAO,CAAC,CAAC,EAAEA,MAAM;AACjD","ignoreList":[0]}},
    {"offset": {"line": 819, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/shared/lib/router/utils/app-paths.ts"],"sourcesContent":["import { ensureLeadingSlash } from '../../page-path/ensure-leading-slash'\nimport { isGroupSegment } from '../../segment'\n\n/**\n * Normalizes an app route so it represents the actual request path. Essentially\n * performing the following transformations:\n *\n * - `/(dashboard)/user/[id]/page` to `/user/[id]`\n * - `/(dashboard)/account/page` to `/account`\n * - `/user/[id]/page` to `/user/[id]`\n * - `/account/page` to `/account`\n * - `/page` to `/`\n * - `/(dashboard)/user/[id]/route` to `/user/[id]`\n * - `/(dashboard)/account/route` to `/account`\n * - `/user/[id]/route` to `/user/[id]`\n * - `/account/route` to `/account`\n * - `/route` to `/`\n * - `/` to `/`\n *\n * @param route the app route to normalize\n * @returns the normalized pathname\n */\nexport function normalizeAppPath(route: string) {\n  return ensureLeadingSlash(\n    route.split('/').reduce((pathname, segment, index, segments) => {\n      // Empty segments are ignored.\n      if (!segment) {\n        return pathname\n      }\n\n      // Groups are ignored.\n      if (isGroupSegment(segment)) {\n        return pathname\n      }\n\n      // Parallel segments are ignored.\n      if (segment[0] === '@') {\n        return pathname\n      }\n\n      // The last segment (if it's a leaf) should be ignored.\n      if (\n        (segment === 'page' || segment === 'route') &&\n        index === segments.length - 1\n      ) {\n        return pathname\n      }\n\n      return `${pathname}/${segment}`\n    }, '')\n  )\n}\n\n/**\n * Strips the `.rsc` extension if it's in the pathname.\n * Since this function is used on full urls it checks `?` for searchParams handling.\n */\nexport function normalizeRscURL(url: string) {\n  return url.replace(\n    /\\.rsc($|\\?)/,\n    // $1 ensures `?` is preserved\n    '$1'\n  )\n}\n"],"names":["ensureLeadingSlash","isGroupSegment","normalizeAppPath","route","split","reduce","pathname","segment","index","segments","length","normalizeRscURL","url","replace"],"mappings":";;;;;;AAAA,SAASA,kBAAkB,QAAQ,uCAAsC;AACzE,SAASC,cAAc,QAAQ,gBAAe;;;AAqBvC,SAASC,iBAAiBC,KAAa;IAC5C,WAAOH,wNAAAA,EACLG,MAAMC,KAAK,CAAC,KAAKC,MAAM,CAAC,CAACC,UAAUC,SAASC,OAAOC;QACjD,8BAA8B;QAC9B,IAAI,CAACF,SAAS;YACZ,OAAOD;QACT;QAEA,sBAAsB;QACtB,QAAIL,iLAAAA,EAAeM,UAAU;YAC3B,OAAOD;QACT;QAEA,iCAAiC;QACjC,IAAIC,OAAO,CAAC,EAAE,KAAK,KAAK;YACtB,OAAOD;QACT;QAEA,uDAAuD;QACvD,IACGC,CAAAA,YAAY,UAAUA,YAAY,OAAM,KACzCC,UAAUC,SAASC,MAAM,GAAG,GAC5B;YACA,OAAOJ;QACT;QAEA,OAAO,GAAGA,SAAS,CAAC,EAAEC,SAAS;IACjC,GAAG;AAEP;AAMO,SAASI,gBAAgBC,GAAW;IACzC,OAAOA,IAAIC,OAAO,CAChB,eACA,AACA,8BAD8B;AAGlC","ignoreList":[0]}},
    {"offset": {"line": 857, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/shared/lib/router/utils/interception-routes.ts"],"sourcesContent":["import { normalizeAppPath } from './app-paths'\n\n// order matters here, the first match will be used\nexport const INTERCEPTION_ROUTE_MARKERS = [\n  '(..)(..)',\n  '(.)',\n  '(..)',\n  '(...)',\n] as const\n\nexport type InterceptionMarker = (typeof INTERCEPTION_ROUTE_MARKERS)[number]\n\nexport function isInterceptionRouteAppPath(path: string): boolean {\n  // TODO-APP: add more serious validation\n  return (\n    path\n      .split('/')\n      .find((segment) =>\n        INTERCEPTION_ROUTE_MARKERS.find((m) => segment.startsWith(m))\n      ) !== undefined\n  )\n}\n\ntype InterceptionRouteInformation = {\n  /**\n   * The intercepting route. This is the route that is being intercepted or the\n   * route that the user was coming from. This is matched by the Next-Url\n   * header.\n   */\n  interceptingRoute: string\n\n  /**\n   * The intercepted route. This is the route that is being intercepted or the\n   * route that the user is going to. This is matched by the request pathname.\n   */\n  interceptedRoute: string\n}\n\nexport function extractInterceptionRouteInformation(\n  path: string\n): InterceptionRouteInformation {\n  let interceptingRoute: string | undefined\n  let marker: (typeof INTERCEPTION_ROUTE_MARKERS)[number] | undefined\n  let interceptedRoute: string | undefined\n\n  for (const segment of path.split('/')) {\n    marker = INTERCEPTION_ROUTE_MARKERS.find((m) => segment.startsWith(m))\n    if (marker) {\n      ;[interceptingRoute, interceptedRoute] = path.split(marker, 2)\n      break\n    }\n  }\n\n  if (!interceptingRoute || !marker || !interceptedRoute) {\n    throw new Error(\n      `Invalid interception route: ${path}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`\n    )\n  }\n\n  interceptingRoute = normalizeAppPath(interceptingRoute) // normalize the path, e.g. /(blog)/feed -> /feed\n\n  switch (marker) {\n    case '(.)':\n      // (.) indicates that we should match with sibling routes, so we just need to append the intercepted route to the intercepting route\n      if (interceptingRoute === '/') {\n        interceptedRoute = `/${interceptedRoute}`\n      } else {\n        interceptedRoute = interceptingRoute + '/' + interceptedRoute\n      }\n      break\n    case '(..)':\n      // (..) indicates that we should match at one level up, so we need to remove the last segment of the intercepting route\n      if (interceptingRoute === '/') {\n        throw new Error(\n          `Invalid interception route: ${path}. Cannot use (..) marker at the root level, use (.) instead.`\n        )\n      }\n      interceptedRoute = interceptingRoute\n        .split('/')\n        .slice(0, -1)\n        .concat(interceptedRoute)\n        .join('/')\n      break\n    case '(...)':\n      // (...) will match the route segment in the root directory, so we need to use the root directory to prepend the intercepted route\n      interceptedRoute = '/' + interceptedRoute\n      break\n    case '(..)(..)':\n      // (..)(..) indicates that we should match at two levels up, so we need to remove the last two segments of the intercepting route\n\n      const splitInterceptingRoute = interceptingRoute.split('/')\n      if (splitInterceptingRoute.length <= 2) {\n        throw new Error(\n          `Invalid interception route: ${path}. Cannot use (..)(..) marker at the root level or one level up.`\n        )\n      }\n\n      interceptedRoute = splitInterceptingRoute\n        .slice(0, -2)\n        .concat(interceptedRoute)\n        .join('/')\n      break\n    default:\n      throw new Error('Invariant: unexpected marker')\n  }\n\n  return { interceptingRoute, interceptedRoute }\n}\n"],"names":["normalizeAppPath","INTERCEPTION_ROUTE_MARKERS","isInterceptionRouteAppPath","path","split","find","segment","m","startsWith","undefined","extractInterceptionRouteInformation","interceptingRoute","marker","interceptedRoute","Error","slice","concat","join","splitInterceptingRoute","length"],"mappings":";;;;;;;;AAAA,SAASA,gBAAgB,QAAQ,cAAa;;AAGvC,MAAMC,6BAA6B;IACxC;IACA;IACA;IACA;CACD,CAAS;AAIH,SAASC,2BAA2BC,IAAY;IACrD,wCAAwC;IACxC,OACEA,KACGC,KAAK,CAAC,KACNC,IAAI,CAAC,CAACC,UACLL,2BAA2BI,IAAI,CAAC,CAACE,IAAMD,QAAQE,UAAU,CAACD,SACtDE;AAEZ;AAiBO,SAASC,oCACdP,IAAY;IAEZ,IAAIQ;IACJ,IAAIC;IACJ,IAAIC;IAEJ,KAAK,MAAMP,WAAWH,KAAKC,KAAK,CAAC,KAAM;QACrCQ,SAASX,2BAA2BI,IAAI,CAAC,CAACE,IAAMD,QAAQE,UAAU,CAACD;QACnE,IAAIK,QAAQ;;YACT,CAACD,mBAAmBE,iBAAiB,GAAGV,KAAKC,KAAK,CAACQ,QAAQ;YAC5D;QACF;IACF;IAEA,IAAI,CAACD,qBAAqB,CAACC,UAAU,CAACC,kBAAkB;QACtD,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,CAAC,4BAA4B,EAAEX,KAAK,iFAAiF,CAAC,GADlH,qBAAA;mBAAA;wBAAA;0BAAA;QAEN;IACF;IAEAQ,wBAAoBX,2MAAAA,EAAiBW,mBAAmB,iDAAiD;;IAEzG,OAAQC;QACN,KAAK;YACH,oIAAoI;YACpI,IAAID,sBAAsB,KAAK;gBAC7BE,mBAAmB,CAAC,CAAC,EAAEA,kBAAkB;YAC3C,OAAO;gBACLA,mBAAmBF,oBAAoB,MAAME;YAC/C;YACA;QACF,KAAK;YACH,uHAAuH;YACvH,IAAIF,sBAAsB,KAAK;gBAC7B,MAAM,OAAA,cAEL,CAFK,IAAIG,MACR,CAAC,4BAA4B,EAAEX,KAAK,4DAA4D,CAAC,GAD7F,qBAAA;2BAAA;gCAAA;kCAAA;gBAEN;YACF;YACAU,mBAAmBF,kBAChBP,KAAK,CAAC,KACNW,KAAK,CAAC,GAAG,CAAC,GACVC,MAAM,CAACH,kBACPI,IAAI,CAAC;YACR;QACF,KAAK;YACH,kIAAkI;YAClIJ,mBAAmB,MAAMA;YACzB;QACF,KAAK;YACH,iIAAiI;YAEjI,MAAMK,yBAAyBP,kBAAkBP,KAAK,CAAC;YACvD,IAAIc,uBAAuBC,MAAM,IAAI,GAAG;gBACtC,MAAM,OAAA,cAEL,CAFK,IAAIL,MACR,CAAC,4BAA4B,EAAEX,KAAK,+DAA+D,CAAC,GADhG,qBAAA;2BAAA;gCAAA;kCAAA;gBAEN;YACF;YAEAU,mBAAmBK,uBAChBH,KAAK,CAAC,GAAG,CAAC,GACVC,MAAM,CAACH,kBACPI,IAAI,CAAC;YACR;QACF;YACE,MAAM,OAAA,cAAyC,CAAzC,IAAIH,MAAM,iCAAV,qBAAA;uBAAA;4BAAA;8BAAA;YAAwC;IAClD;IAEA,OAAO;QAAEH;QAAmBE;IAAiB;AAC/C","ignoreList":[0]}},
    {"offset": {"line": 950, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/shared/lib/router/utils/get-segment-param.tsx"],"sourcesContent":["import { INTERCEPTION_ROUTE_MARKERS } from './interception-routes'\nimport type { DynamicParamTypes } from '../../app-router-types'\n\nexport type SegmentParam = {\n  paramName: string\n  paramType: DynamicParamTypes\n}\n\n/**\n * Parse dynamic route segment to type of parameter\n */\nexport function getSegmentParam(segment: string): SegmentParam | null {\n  const interceptionMarker = INTERCEPTION_ROUTE_MARKERS.find((marker) =>\n    segment.startsWith(marker)\n  )\n\n  // if an interception marker is part of the path segment, we need to jump ahead\n  // to the relevant portion for param parsing\n  if (interceptionMarker) {\n    segment = segment.slice(interceptionMarker.length)\n  }\n\n  if (segment.startsWith('[[...') && segment.endsWith(']]')) {\n    return {\n      // TODO-APP: Optional catchall does not currently work with parallel routes,\n      // so for now aren't handling a potential interception marker.\n      paramType: 'optional-catchall',\n      paramName: segment.slice(5, -2),\n    }\n  }\n\n  if (segment.startsWith('[...') && segment.endsWith(']')) {\n    return {\n      paramType: interceptionMarker\n        ? `catchall-intercepted-${interceptionMarker}`\n        : 'catchall',\n      paramName: segment.slice(4, -1),\n    }\n  }\n\n  if (segment.startsWith('[') && segment.endsWith(']')) {\n    return {\n      paramType: interceptionMarker\n        ? `dynamic-intercepted-${interceptionMarker}`\n        : 'dynamic',\n      paramName: segment.slice(1, -1),\n    }\n  }\n\n  return null\n}\n\nexport function isCatchAll(\n  type: DynamicParamTypes\n): type is\n  | 'catchall'\n  | 'catchall-intercepted-(..)(..)'\n  | 'catchall-intercepted-(.)'\n  | 'catchall-intercepted-(..)'\n  | 'catchall-intercepted-(...)'\n  | 'optional-catchall' {\n  return (\n    type === 'catchall' ||\n    type === 'catchall-intercepted-(..)(..)' ||\n    type === 'catchall-intercepted-(.)' ||\n    type === 'catchall-intercepted-(..)' ||\n    type === 'catchall-intercepted-(...)' ||\n    type === 'optional-catchall'\n  )\n}\n\nexport function getParamProperties(paramType: DynamicParamTypes): {\n  repeat: boolean\n  optional: boolean\n} {\n  let repeat = false\n  let optional = false\n\n  switch (paramType) {\n    case 'catchall':\n    case 'catchall-intercepted-(..)(..)':\n    case 'catchall-intercepted-(.)':\n    case 'catchall-intercepted-(..)':\n    case 'catchall-intercepted-(...)':\n      repeat = true\n      break\n    case 'optional-catchall':\n      repeat = true\n      optional = true\n      break\n    case 'dynamic':\n    case 'dynamic-intercepted-(..)(..)':\n    case 'dynamic-intercepted-(.)':\n    case 'dynamic-intercepted-(..)':\n    case 'dynamic-intercepted-(...)':\n      break\n    default:\n      paramType satisfies never\n  }\n\n  return { repeat, optional }\n}\n"],"names":["INTERCEPTION_ROUTE_MARKERS","getSegmentParam","segment","interceptionMarker","find","marker","startsWith","slice","length","endsWith","paramType","paramName","isCatchAll","type","getParamProperties","repeat","optional"],"mappings":";;;;;;;;AAAA,SAASA,0BAA0B,QAAQ,wBAAuB;;AAW3D,SAASC,gBAAgBC,OAAe;IAC7C,MAAMC,qBAAqBH,+NAAAA,CAA2BI,IAAI,CAAC,CAACC,SAC1DH,QAAQI,UAAU,CAACD;IAGrB,+EAA+E;IAC/E,4CAA4C;IAC5C,IAAIF,oBAAoB;QACtBD,UAAUA,QAAQK,KAAK,CAACJ,mBAAmBK,MAAM;IACnD;IAEA,IAAIN,QAAQI,UAAU,CAAC,YAAYJ,QAAQO,QAAQ,CAAC,OAAO;QACzD,OAAO;YACL,4EAA4E;YAC5E,8DAA8D;YAC9DC,WAAW;YACXC,WAAWT,QAAQK,KAAK,CAAC,GAAG,CAAC;QAC/B;IACF;IAEA,IAAIL,QAAQI,UAAU,CAAC,WAAWJ,QAAQO,QAAQ,CAAC,MAAM;QACvD,OAAO;YACLC,WAAWP,qBACP,CAAC,qBAAqB,EAAEA,oBAAoB,GAC5C;YACJQ,WAAWT,QAAQK,KAAK,CAAC,GAAG,CAAC;QAC/B;IACF;IAEA,IAAIL,QAAQI,UAAU,CAAC,QAAQJ,QAAQO,QAAQ,CAAC,MAAM;QACpD,OAAO;YACLC,WAAWP,qBACP,CAAC,oBAAoB,EAAEA,oBAAoB,GAC3C;YACJQ,WAAWT,QAAQK,KAAK,CAAC,GAAG,CAAC;QAC/B;IACF;IAEA,OAAO;AACT;AAEO,SAASK,WACdC,IAAuB;IAQvB,OACEA,SAAS,cACTA,SAAS,mCACTA,SAAS,8BACTA,SAAS,+BACTA,SAAS,gCACTA,SAAS;AAEb;AAEO,SAASC,mBAAmBJ,SAA4B;IAI7D,IAAIK,SAAS;IACb,IAAIC,WAAW;IAEf,OAAQN;QACN,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;YACHK,SAAS;YACT;QACF,KAAK;YACHA,SAAS;YACTC,WAAW;YACX;QACF,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;YACH;QACF;YACEN;IACJ;IAEA,OAAO;QAAEK;QAAQC;IAAS;AAC5B","ignoreList":[0]}},
    {"offset": {"line": 1025, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/shared/lib/router/routes/app.ts"],"sourcesContent":["import { InvariantError } from '../../invariant-error'\nimport { getSegmentParam, type SegmentParam } from '../utils/get-segment-param'\nimport {\n  INTERCEPTION_ROUTE_MARKERS,\n  type InterceptionMarker,\n} from '../utils/interception-routes'\n\nexport type RouteGroupAppRouteSegment = {\n  type: 'route-group'\n  name: string\n\n  /**\n   * If present, this segment has an interception marker prefixing it.\n   */\n  interceptionMarker?: InterceptionMarker\n}\n\nexport type ParallelRouteAppRouteSegment = {\n  type: 'parallel-route'\n  name: string\n\n  /**\n   * If present, this segment has an interception marker prefixing it.\n   */\n  interceptionMarker?: InterceptionMarker\n}\n\nexport type StaticAppRouteSegment = {\n  type: 'static'\n  name: string\n\n  /**\n   * If present, this segment has an interception marker prefixing it.\n   */\n  interceptionMarker?: InterceptionMarker\n}\n\nexport type DynamicAppRouteSegment = {\n  type: 'dynamic'\n  name: string\n  param: SegmentParam\n\n  /**\n   * If present, this segment has an interception marker prefixing it.\n   */\n  interceptionMarker?: InterceptionMarker\n}\n\n/**\n * Represents a single segment in a route path.\n * Can be either static (e.g., \"blog\") or dynamic (e.g., \"[slug]\").\n */\nexport type AppRouteSegment =\n  | StaticAppRouteSegment\n  | DynamicAppRouteSegment\n  | RouteGroupAppRouteSegment\n  | ParallelRouteAppRouteSegment\n\nexport type NormalizedAppRouteSegment =\n  | StaticAppRouteSegment\n  | DynamicAppRouteSegment\n\nexport function parseAppRouteSegment(segment: string): AppRouteSegment | null {\n  if (segment === '') {\n    return null\n  }\n\n  // Check if the segment starts with an interception marker\n  const interceptionMarker = INTERCEPTION_ROUTE_MARKERS.find((m) =>\n    segment.startsWith(m)\n  )\n\n  const param = getSegmentParam(segment)\n  if (param) {\n    return {\n      type: 'dynamic',\n      name: segment,\n      param,\n      interceptionMarker,\n    }\n  } else if (segment.startsWith('(') && segment.endsWith(')')) {\n    return {\n      type: 'route-group',\n      name: segment,\n      interceptionMarker,\n    }\n  } else if (segment.startsWith('@')) {\n    return {\n      type: 'parallel-route',\n      name: segment,\n      interceptionMarker,\n    }\n  } else {\n    return {\n      type: 'static',\n      name: segment,\n      interceptionMarker,\n    }\n  }\n}\n\nexport type AppRoute = {\n  normalized: boolean\n  pathname: string\n  segments: AppRouteSegment[]\n  dynamicSegments: DynamicAppRouteSegment[]\n  interceptionMarker: InterceptionMarker | undefined\n  interceptingRoute: AppRoute | undefined\n  interceptedRoute: AppRoute | undefined\n}\n\nexport type NormalizedAppRoute = Omit<AppRoute, 'normalized' | 'segments'> & {\n  normalized: true\n  segments: NormalizedAppRouteSegment[]\n}\n\nexport function isNormalizedAppRoute(\n  route: InterceptionAppRoute\n): route is NormalizedInterceptionAppRoute\nexport function isNormalizedAppRoute(\n  route: AppRoute | InterceptionAppRoute\n): route is NormalizedAppRoute {\n  return route.normalized\n}\n\nexport type InterceptionAppRoute = Omit<\n  AppRoute,\n  'interceptionMarker' | 'interceptingRoute' | 'interceptedRoute'\n> & {\n  interceptionMarker: InterceptionMarker\n  interceptingRoute: AppRoute\n  interceptedRoute: AppRoute\n}\n\nexport type NormalizedInterceptionAppRoute = Omit<\n  InterceptionAppRoute,\n  | 'normalized'\n  | 'segments'\n  | 'interceptionMarker'\n  | 'interceptingRoute'\n  | 'interceptedRoute'\n> & {\n  normalized: true\n  segments: NormalizedAppRouteSegment[]\n  interceptionMarker: InterceptionMarker\n  interceptingRoute: NormalizedAppRoute\n  interceptedRoute: NormalizedAppRoute\n}\n\nexport function isInterceptionAppRoute(\n  route: NormalizedAppRoute\n): route is NormalizedInterceptionAppRoute\nexport function isInterceptionAppRoute(\n  route: AppRoute\n): route is InterceptionAppRoute {\n  return (\n    route.interceptionMarker !== undefined &&\n    route.interceptingRoute !== undefined &&\n    route.interceptedRoute !== undefined\n  )\n}\n\nexport function parseAppRoute(\n  pathname: string,\n  normalized: true\n): NormalizedAppRoute\nexport function parseAppRoute(pathname: string, normalized: false): AppRoute\nexport function parseAppRoute(\n  pathname: string,\n  normalized: boolean\n): AppRoute | NormalizedAppRoute {\n  const pathnameSegments = pathname.split('/').filter(Boolean)\n\n  // Build segments array with static and dynamic segments\n  const segments: AppRouteSegment[] = []\n\n  // Parse if this is an interception route.\n  let interceptionMarker: InterceptionMarker | undefined\n  let interceptingRoute: AppRoute | NormalizedAppRoute | undefined\n  let interceptedRoute: AppRoute | NormalizedAppRoute | undefined\n\n  for (const segment of pathnameSegments) {\n    // Parse the segment into an AppSegment.\n    const appSegment = parseAppRouteSegment(segment)\n    if (!appSegment) {\n      continue\n    }\n\n    if (\n      normalized &&\n      (appSegment.type === 'route-group' ||\n        appSegment.type === 'parallel-route')\n    ) {\n      throw new InvariantError(\n        `${pathname} is being parsed as a normalized route, but it has a route group or parallel route segment.`\n      )\n    }\n\n    segments.push(appSegment)\n\n    if (appSegment.interceptionMarker) {\n      const parts = pathname.split(appSegment.interceptionMarker)\n      if (parts.length !== 2) {\n        throw new Error(`Invalid interception route: ${pathname}`)\n      }\n\n      interceptingRoute = normalized\n        ? parseAppRoute(parts[0], true)\n        : parseAppRoute(parts[0], false)\n      interceptedRoute = normalized\n        ? parseAppRoute(parts[1], true)\n        : parseAppRoute(parts[1], false)\n      interceptionMarker = appSegment.interceptionMarker\n    }\n  }\n\n  const dynamicSegments = segments.filter(\n    (segment) => segment.type === 'dynamic'\n  )\n\n  return {\n    normalized,\n    pathname,\n    segments,\n    dynamicSegments,\n    interceptionMarker,\n    interceptingRoute,\n    interceptedRoute,\n  }\n}\n"],"names":["InvariantError","getSegmentParam","INTERCEPTION_ROUTE_MARKERS","parseAppRouteSegment","segment","interceptionMarker","find","m","startsWith","param","type","name","endsWith","isNormalizedAppRoute","route","normalized","isInterceptionAppRoute","undefined","interceptingRoute","interceptedRoute","parseAppRoute","pathname","pathnameSegments","split","filter","Boolean","segments","appSegment","push","parts","length","Error","dynamicSegments"],"mappings":";;;;;;;;;;AAAA,SAASA,cAAc,QAAQ,wBAAuB;AACtD,SAASC,eAAe,QAA2B,6BAA4B;AAC/E,SACEC,0BAA0B,QAErB,+BAA8B;;;;AAyD9B,SAASC,qBAAqBC,OAAe;IAClD,IAAIA,YAAY,IAAI;QAClB,OAAO;IACT;IAEA,0DAA0D;IAC1D,MAAMC,qBAAqBH,+NAAAA,CAA2BI,IAAI,CAAC,CAACC,IAC1DH,QAAQI,UAAU,CAACD;IAGrB,MAAME,YAAQR,qNAAAA,EAAgBG;IAC9B,IAAIK,OAAO;QACT,OAAO;YACLC,MAAM;YACNC,MAAMP;YACNK;YACAJ;QACF;IACF,OAAO,IAAID,QAAQI,UAAU,CAAC,QAAQJ,QAAQQ,QAAQ,CAAC,MAAM;QAC3D,OAAO;YACLF,MAAM;YACNC,MAAMP;YACNC;QACF;IACF,OAAO,IAAID,QAAQI,UAAU,CAAC,MAAM;QAClC,OAAO;YACLE,MAAM;YACNC,MAAMP;YACNC;QACF;IACF,OAAO;QACL,OAAO;YACLK,MAAM;YACNC,MAAMP;YACNC;QACF;IACF;AACF;AAoBO,SAASQ,qBACdC,KAAsC;IAEtC,OAAOA,MAAMC,UAAU;AACzB;AA6BO,SAASC,uBACdF,KAAe;IAEf,OACEA,MAAMT,kBAAkB,KAAKY,aAC7BH,MAAMI,iBAAiB,KAAKD,aAC5BH,MAAMK,gBAAgB,KAAKF;AAE/B;AAOO,SAASG,cACdC,QAAgB,EAChBN,UAAmB;IAEnB,MAAMO,mBAAmBD,SAASE,KAAK,CAAC,KAAKC,MAAM,CAACC;IAEpD,wDAAwD;IACxD,MAAMC,WAA8B,EAAE;IAEtC,0CAA0C;IAC1C,IAAIrB;IACJ,IAAIa;IACJ,IAAIC;IAEJ,KAAK,MAAMf,WAAWkB,iBAAkB;QACtC,wCAAwC;QACxC,MAAMK,aAAaxB,qBAAqBC;QACxC,IAAI,CAACuB,YAAY;YACf;QACF;QAEA,IACEZ,cACCY,CAAAA,WAAWjB,IAAI,KAAK,iBACnBiB,WAAWjB,IAAI,KAAK,gBAAe,GACrC;YACA,MAAM,OAAA,cAEL,CAFK,IAAIV,4LAAAA,CACR,GAAGqB,SAAS,2FAA2F,CAAC,GADpG,qBAAA;uBAAA;4BAAA;8BAAA;YAEN;QACF;QAEAK,SAASE,IAAI,CAACD;QAEd,IAAIA,WAAWtB,kBAAkB,EAAE;YACjC,MAAMwB,QAAQR,SAASE,KAAK,CAACI,WAAWtB,kBAAkB;YAC1D,IAAIwB,MAAMC,MAAM,KAAK,GAAG;gBACtB,MAAM,OAAA,cAAoD,CAApD,IAAIC,MAAM,CAAC,4BAA4B,EAAEV,UAAU,GAAnD,qBAAA;2BAAA;gCAAA;kCAAA;gBAAmD;YAC3D;YAEAH,oBAAoBH,aAChBK,cAAcS,KAAK,CAAC,EAAE,EAAE,QACxBT,cAAcS,KAAK,CAAC,EAAE,EAAE;YAC5BV,mBAAmBJ,aACfK,cAAcS,KAAK,CAAC,EAAE,EAAE,QACxBT,cAAcS,KAAK,CAAC,EAAE,EAAE;YAC5BxB,qBAAqBsB,WAAWtB,kBAAkB;QACpD;IACF;IAEA,MAAM2B,kBAAkBN,SAASF,MAAM,CACrC,CAACpB,UAAYA,QAAQM,IAAI,KAAK;IAGhC,OAAO;QACLK;QACAM;QACAK;QACAM;QACA3B;QACAa;QACAC;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 1132, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/shared/lib/router/utils/parse-loader-tree.ts"],"sourcesContent":["import { DEFAULT_SEGMENT_KEY } from '../../segment'\nimport type { LoaderTree } from '../../../../server/lib/app-dir-module'\n\nexport function parseLoaderTree(tree: LoaderTree) {\n  const [segment, parallelRoutes, modules] = tree\n  const { layout, template } = modules\n  let { page } = modules\n  // a __DEFAULT__ segment means that this route didn't match any of the\n  // segments in the route, so we should use the default page\n  page = segment === DEFAULT_SEGMENT_KEY ? modules.defaultPage : page\n\n  const conventionPath = layout?.[1] || template?.[1] || page?.[1]\n\n  return {\n    page,\n    segment,\n    modules,\n    /* it can be either layout / template / page */\n    conventionPath,\n    parallelRoutes,\n  }\n}\n"],"names":["DEFAULT_SEGMENT_KEY","parseLoaderTree","tree","segment","parallelRoutes","modules","layout","template","page","defaultPage","conventionPath"],"mappings":";;;;AAAA,SAASA,mBAAmB,QAAQ,gBAAe;;AAG5C,SAASC,gBAAgBC,IAAgB;IAC9C,MAAM,CAACC,SAASC,gBAAgBC,QAAQ,GAAGH;IAC3C,MAAM,EAAEI,MAAM,EAAEC,QAAQ,EAAE,GAAGF;IAC7B,IAAI,EAAEG,IAAI,EAAE,GAAGH;IACf,sEAAsE;IACtE,2DAA2D;IAC3DG,OAAOL,YAAYH,sLAAAA,GAAsBK,QAAQI,WAAW,GAAGD;IAE/D,MAAME,iBAAiBJ,QAAQ,CAAC,EAAE,IAAIC,UAAU,CAAC,EAAE,IAAIC,MAAM,CAAC,EAAE;IAEhE,OAAO;QACLA;QACAL;QACAE;QACA,6CAA6C,GAC7CK;QACAN;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 1158, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/shared/lib/router/utils/interception-prefix-from-param-type.ts"],"sourcesContent":["import type { DynamicParamTypes } from '../../app-router-types'\n\nexport function interceptionPrefixFromParamType(\n  paramType: DynamicParamTypes\n): string | null {\n  switch (paramType) {\n    case 'catchall-intercepted-(..)(..)':\n    case 'dynamic-intercepted-(..)(..)':\n      return '(..)(..)'\n    case 'catchall-intercepted-(.)':\n    case 'dynamic-intercepted-(.)':\n      return '(.)'\n    case 'catchall-intercepted-(..)':\n    case 'dynamic-intercepted-(..)':\n      return '(..)'\n    case 'catchall-intercepted-(...)':\n    case 'dynamic-intercepted-(...)':\n      return '(...)'\n    case 'catchall':\n    case 'dynamic':\n    case 'optional-catchall':\n    default:\n      return null\n  }\n}\n"],"names":["interceptionPrefixFromParamType","paramType"],"mappings":";;;;AAEO,SAASA,gCACdC,SAA4B;IAE5B,OAAQA;QACN,KAAK;QACL,KAAK;YACH,OAAO;QACT,KAAK;QACL,KAAK;YACH,OAAO;QACT,KAAK;QACL,KAAK;YACH,OAAO;QACT,KAAK;QACL,KAAK;YACH,OAAO;QACT,KAAK;QACL,KAAK;QACL,KAAK;QACL;YACE,OAAO;IACX;AACF","ignoreList":[0]}},
    {"offset": {"line": 1187, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/shared/lib/router/utils/resolve-param-value.ts"],"sourcesContent":["import type { Params } from '../../../../server/request/params'\nimport type { DynamicParamTypes } from '../../app-router-types'\nimport { InvariantError } from '../../invariant-error'\nimport type {\n  NormalizedAppRoute,\n  NormalizedAppRouteSegment,\n} from '../routes/app'\nimport { interceptionPrefixFromParamType } from './interception-prefix-from-param-type'\n\n/**\n * Extracts the param value from a path segment, handling interception markers\n * based on the expected param type.\n *\n * @param pathSegment - The path segment to extract the value from\n * @param params - The current params object for resolving dynamic param references\n * @param paramType - The expected param type which may include interception marker info\n * @returns The extracted param value\n */\nfunction getParamValueFromSegment(\n  pathSegment: NormalizedAppRouteSegment,\n  params: Params,\n  paramType: DynamicParamTypes\n): string {\n  // If the segment is dynamic, resolve it from the params object\n  if (pathSegment.type === 'dynamic') {\n    return params[pathSegment.param.paramName] as string\n  }\n\n  // If the paramType indicates this is an intercepted param, strip the marker\n  // that matches the interception marker in the param type\n  const interceptionPrefix = interceptionPrefixFromParamType(paramType)\n  if (interceptionPrefix === pathSegment.interceptionMarker) {\n    return pathSegment.name.replace(pathSegment.interceptionMarker, '')\n  }\n\n  // For static segments, use the name\n  return pathSegment.name\n}\n\n/**\n * Resolves a route parameter value from the route segments at the given depth.\n * This shared logic is used by both extractPathnameRouteParamSegmentsFromLoaderTree\n * and resolveRouteParamsFromTree.\n *\n * @param paramName - The parameter name to resolve\n * @param paramType - The parameter type (dynamic, catchall, etc.)\n * @param depth - The current depth in the route tree\n * @param route - The normalized route containing segments\n * @param params - The current params object (used to resolve embedded param references)\n * @param options - Configuration options\n * @returns The resolved parameter value, or undefined if it cannot be resolved\n */\nexport function resolveParamValue(\n  paramName: string,\n  paramType: DynamicParamTypes,\n  depth: number,\n  route: NormalizedAppRoute,\n  params: Params\n): string | string[] | undefined {\n  switch (paramType) {\n    case 'catchall':\n    case 'optional-catchall':\n    case 'catchall-intercepted-(..)(..)':\n    case 'catchall-intercepted-(.)':\n    case 'catchall-intercepted-(..)':\n    case 'catchall-intercepted-(...)':\n      // For catchall routes, derive from pathname using depth to determine\n      // which segments to use\n      const processedSegments: string[] = []\n\n      // Process segments to handle any embedded dynamic params\n      for (let index = depth; index < route.segments.length; index++) {\n        const pathSegment = route.segments[index]\n\n        if (pathSegment.type === 'static') {\n          let value = pathSegment.name\n\n          // For intercepted catch-all params, strip the marker from the first segment\n          const interceptionPrefix = interceptionPrefixFromParamType(paramType)\n          if (\n            interceptionPrefix &&\n            index === depth &&\n            interceptionPrefix === pathSegment.interceptionMarker\n          ) {\n            // Strip the interception marker from the value\n            value = value.replace(pathSegment.interceptionMarker, '')\n          }\n\n          processedSegments.push(value)\n        } else {\n          // If the segment is a param placeholder, check if we have its value\n          if (!params.hasOwnProperty(pathSegment.param.paramName)) {\n            // If the segment is an optional catchall, we can break out of the\n            // loop because it's optional!\n            if (pathSegment.param.paramType === 'optional-catchall') {\n              break\n            }\n\n            // Unknown param placeholder in pathname - can't derive full value\n            return undefined\n          }\n\n          // If the segment matches a param, use the param value\n          // We don't encode values here as that's handled during retrieval.\n          const paramValue = params[pathSegment.param.paramName]\n          if (Array.isArray(paramValue)) {\n            processedSegments.push(...paramValue)\n          } else {\n            processedSegments.push(paramValue as string)\n          }\n        }\n      }\n\n      if (processedSegments.length > 0) {\n        return processedSegments\n      } else if (paramType === 'optional-catchall') {\n        return undefined\n      } else {\n        // We shouldn't be able to match a catchall segment without any path\n        // segments if it's not an optional catchall\n        throw new InvariantError(\n          `Unexpected empty path segments match for a route \"${route.pathname}\" with param \"${paramName}\" of type \"${paramType}\"`\n        )\n      }\n    case 'dynamic':\n    case 'dynamic-intercepted-(..)(..)':\n    case 'dynamic-intercepted-(.)':\n    case 'dynamic-intercepted-(..)':\n    case 'dynamic-intercepted-(...)':\n      // For regular dynamic parameters, take the segment at this depth\n      if (depth < route.segments.length) {\n        const pathSegment = route.segments[depth]\n\n        // Check if the segment at this depth is a placeholder for an unknown param\n        if (\n          pathSegment.type === 'dynamic' &&\n          !params.hasOwnProperty(pathSegment.param.paramName)\n        ) {\n          // The segment is a placeholder like [category] and we don't have the value\n          return undefined\n        }\n\n        // If the segment matches a param, use the param value from params object\n        // Otherwise it's a static segment, just use it directly\n        // We don't encode values here as that's handled during retrieval\n        return getParamValueFromSegment(pathSegment, params, paramType)\n      }\n\n      return undefined\n\n    default:\n      paramType satisfies never\n  }\n}\n"],"names":["InvariantError","interceptionPrefixFromParamType","getParamValueFromSegment","pathSegment","params","paramType","type","param","paramName","interceptionPrefix","interceptionMarker","name","replace","resolveParamValue","depth","route","processedSegments","index","segments","length","value","push","hasOwnProperty","undefined","paramValue","Array","isArray","pathname"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1301, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/build/static-paths/app/extract-pathname-route-param-segments-from-loader-tree.ts"],"sourcesContent":["import type { LoaderTree } from '../../../server/lib/app-dir-module'\nimport type { Params } from '../../../server/request/params'\nimport type { DynamicParamTypes } from '../../../shared/lib/app-router-types'\nimport {\n  parseAppRouteSegment,\n  type NormalizedAppRoute,\n  type NormalizedAppRouteSegment,\n} from '../../../shared/lib/router/routes/app'\nimport { parseLoaderTree } from '../../../shared/lib/router/utils/parse-loader-tree'\nimport { resolveParamValue } from '../../../shared/lib/router/utils/resolve-param-value'\n\n/**\n * Validates that the static segments in currentPath match the corresponding\n * segments in targetSegments. This ensures we only extract dynamic parameters\n * that are part of the target pathname structure.\n *\n * Segments are compared literally - interception markers like \"(.)photo\" are\n * part of the pathname and must match exactly.\n *\n * @example\n * // Matching paths\n * currentPath: ['blog', '(.)photo']\n * targetSegments: ['blog', '(.)photo', '[id]']\n *  Returns true (both static segments match exactly)\n *\n * @example\n * // Non-matching paths\n * currentPath: ['blog', '(.)photo']\n * targetSegments: ['blog', 'photo', '[id]']\n *  Returns false (segments don't match - marker is part of pathname)\n *\n * @param currentPath - The accumulated path segments from the loader tree\n * @param targetSegments - The target pathname split into segments\n * @returns true if all static segments match, false otherwise\n */\nfunction validatePrefixMatch(\n  currentPath: NormalizedAppRouteSegment[],\n  route: NormalizedAppRoute\n): boolean {\n  for (let i = 0; i < currentPath.length; i++) {\n    const pathSegment = currentPath[i]\n    const targetPathSegment = route.segments[i]\n\n    // Type mismatch - one is static, one is dynamic\n    if (pathSegment.type !== targetPathSegment.type) {\n      return false\n    }\n\n    // One has an interception marker, the other doesn't.\n    if (\n      pathSegment.interceptionMarker !== targetPathSegment.interceptionMarker\n    ) {\n      return false\n    }\n\n    // Both are static but names don't match\n    if (\n      pathSegment.type === 'static' &&\n      targetPathSegment.type === 'static' &&\n      pathSegment.name !== targetPathSegment.name\n    ) {\n      return false\n    }\n    // Both are dynamic but param names don't match\n    else if (\n      pathSegment.type === 'dynamic' &&\n      targetPathSegment.type === 'dynamic' &&\n      pathSegment.param.paramType !== targetPathSegment.param.paramType &&\n      pathSegment.param.paramName !== targetPathSegment.param.paramName\n    ) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * Extracts pathname route param segments from a loader tree and resolves\n * parameter values from static segments in the route.\n *\n * @param loaderTree - The loader tree structure containing route hierarchy\n * @param route - The target route to match against\n * @returns Object containing pathname route param segments and resolved params\n */\nexport function extractPathnameRouteParamSegmentsFromLoaderTree(\n  loaderTree: LoaderTree,\n  route: NormalizedAppRoute\n): {\n  pathnameRouteParamSegments: Array<{\n    readonly name: string\n    readonly paramName: string\n    readonly paramType: DynamicParamTypes\n  }>\n  params: Params\n} {\n  const pathnameRouteParamSegments: Array<{\n    readonly name: string\n    readonly paramName: string\n    readonly paramType: DynamicParamTypes\n  }> = []\n  const params: Params = {}\n\n  // BFS traversal with depth and path tracking\n  const queue: Array<{\n    tree: LoaderTree\n    depth: number\n    currentPath: NormalizedAppRouteSegment[]\n  }> = [{ tree: loaderTree, depth: 0, currentPath: [] }]\n\n  while (queue.length > 0) {\n    const { tree, depth, currentPath } = queue.shift()!\n    const { segment, parallelRoutes } = parseLoaderTree(tree)\n\n    // Build the path for the current node\n    let updatedPath = currentPath\n    let nextDepth = depth\n\n    const appSegment = parseAppRouteSegment(segment)\n\n    // Only add to path if it's a real segment that appears in the URL\n    // Route groups and parallel markers don't contribute to URL pathname\n    if (\n      appSegment &&\n      appSegment.type !== 'route-group' &&\n      appSegment.type !== 'parallel-route'\n    ) {\n      updatedPath = [...currentPath, appSegment]\n      nextDepth = depth + 1\n    }\n\n    // Check if this segment has a param and matches the target pathname at this depth\n    if (appSegment?.type === 'dynamic') {\n      const { paramName, paramType } = appSegment.param\n\n      // Check if this segment is at the correct depth in the target pathname\n      // A segment matches if:\n      // 1. There's a dynamic segment at this depth in the pathname\n      // 2. The parameter names match (e.g., [id] matches [id], not [category])\n      // 3. The static segments leading up to this point match (prefix check)\n      if (depth < route.segments.length) {\n        const targetSegment = route.segments[depth]\n\n        // Match if the target pathname has a dynamic segment at this depth\n        if (targetSegment.type === 'dynamic') {\n          // Check that parameter names match exactly\n          // This prevents [category] from matching against /[id]\n          if (paramName !== targetSegment.param.paramName) {\n            continue // Different param names, skip this segment\n          }\n\n          // Validate that the path leading up to this dynamic segment matches\n          // the target pathname. This prevents false matches like extracting\n          // [slug] from \"/news/[slug]\" when the tree has \"/blog/[slug]\"\n          if (validatePrefixMatch(currentPath, route)) {\n            pathnameRouteParamSegments.push({\n              name: segment,\n              paramName,\n              paramType,\n            })\n          }\n        }\n      }\n\n      // Resolve parameter value if it's not already known.\n      if (!params.hasOwnProperty(paramName)) {\n        const paramValue = resolveParamValue(\n          paramName,\n          paramType,\n          depth,\n          route,\n          params\n        )\n\n        if (paramValue !== undefined) {\n          params[paramName] = paramValue\n        }\n      }\n    }\n\n    // Continue traversing all parallel routes to find matching segments\n    for (const parallelRoute of Object.values(parallelRoutes)) {\n      queue.push({\n        tree: parallelRoute,\n        depth: nextDepth,\n        currentPath: updatedPath,\n      })\n    }\n  }\n\n  return { pathnameRouteParamSegments, params }\n}\n"],"names":["parseAppRouteSegment","parseLoaderTree","resolveParamValue","validatePrefixMatch","currentPath","route","i","length","pathSegment","targetPathSegment","segments","type","interceptionMarker","name","param","paramType","paramName","extractPathnameRouteParamSegmentsFromLoaderTree","loaderTree","pathnameRouteParamSegments","params","queue","tree","depth","shift","segment","parallelRoutes","updatedPath","nextDepth","appSegment","targetSegment","push","hasOwnProperty","paramValue","undefined","parallelRoute","Object","values"],"mappings":";;;;AAGA,SACEA,oBAAoB,QAGf,wCAAuC;AAC9C,SAASC,eAAe,QAAQ,qDAAoD;AACpF,SAASC,iBAAiB,QAAQ,uDAAsD;;;;AAExF;;;;;;;;;;;;;;;;;;;;;;;CAuBC,GACD,SAASC,oBACPC,WAAwC,EACxCC,KAAyB;IAEzB,IAAK,IAAIC,IAAI,GAAGA,IAAIF,YAAYG,MAAM,EAAED,IAAK;QAC3C,MAAME,cAAcJ,WAAW,CAACE,EAAE;QAClC,MAAMG,oBAAoBJ,MAAMK,QAAQ,CAACJ,EAAE;QAE3C,gDAAgD;QAChD,IAAIE,YAAYG,IAAI,KAAKF,kBAAkBE,IAAI,EAAE;YAC/C,OAAO;QACT;QAEA,qDAAqD;QACrD,IACEH,YAAYI,kBAAkB,KAAKH,kBAAkBG,kBAAkB,EACvE;YACA,OAAO;QACT;QAEA,wCAAwC;QACxC,IACEJ,YAAYG,IAAI,KAAK,YACrBF,kBAAkBE,IAAI,KAAK,YAC3BH,YAAYK,IAAI,KAAKJ,kBAAkBI,IAAI,EAC3C;YACA,OAAO;QACT,OAEK,IACHL,YAAYG,IAAI,KAAK,aACrBF,kBAAkBE,IAAI,KAAK,aAC3BH,YAAYM,KAAK,CAACC,SAAS,KAAKN,kBAAkBK,KAAK,CAACC,SAAS,IACjEP,YAAYM,KAAK,CAACE,SAAS,KAAKP,kBAAkBK,KAAK,CAACE,SAAS,EACjE;YACA,OAAO;QACT;IACF;IAEA,OAAO;AACT;AAUO,SAASC,gDACdC,UAAsB,EACtBb,KAAyB;IASzB,MAAMc,6BAID,EAAE;IACP,MAAMC,SAAiB,CAAC;IAExB,6CAA6C;IAC7C,MAAMC,QAID;QAAC;YAAEC,MAAMJ;YAAYK,OAAO;YAAGnB,aAAa,EAAE;QAAC;KAAE;IAEtD,MAAOiB,MAAMd,MAAM,GAAG,EAAG;QACvB,MAAM,EAAEe,IAAI,EAAEC,KAAK,EAAEnB,WAAW,EAAE,GAAGiB,MAAMG,KAAK;QAChD,MAAM,EAAEC,OAAO,EAAEC,cAAc,EAAE,OAAGzB,qNAAAA,EAAgBqB;QAEpD,sCAAsC;QACtC,IAAIK,cAAcvB;QAClB,IAAIwB,YAAYL;QAEhB,MAAMM,iBAAa7B,uMAAAA,EAAqByB;QAExC,kEAAkE;QAClE,qEAAqE;QACrE,IACEI,cACAA,WAAWlB,IAAI,KAAK,iBACpBkB,WAAWlB,IAAI,KAAK,kBACpB;YACAgB,cAAc;mBAAIvB;gBAAayB;aAAW;YAC1CD,YAAYL,QAAQ;QACtB;QAEA,kFAAkF;QAClF,IAAIM,CAAAA,cAAAA,OAAAA,KAAAA,IAAAA,WAAYlB,IAAI,MAAK,WAAW;YAClC,MAAM,EAAEK,SAAS,EAAED,SAAS,EAAE,GAAGc,WAAWf,KAAK;YAEjD,uEAAuE;YACvE,wBAAwB;YACxB,6DAA6D;YAC7D,yEAAyE;YACzE,uEAAuE;YACvE,IAAIS,QAAQlB,MAAMK,QAAQ,CAACH,MAAM,EAAE;gBACjC,MAAMuB,gBAAgBzB,MAAMK,QAAQ,CAACa,MAAM;gBAE3C,mEAAmE;gBACnE,IAAIO,cAAcnB,IAAI,KAAK,WAAW;oBACpC,2CAA2C;oBAC3C,uDAAuD;oBACvD,IAAIK,cAAcc,cAAchB,KAAK,CAACE,SAAS,EAAE;wBAC/C,UAAS,2CAA2C;oBACtD;oBAEA,oEAAoE;oBACpE,mEAAmE;oBACnE,8DAA8D;oBAC9D,IAAIb,oBAAoBC,aAAaC,QAAQ;wBAC3Cc,2BAA2BY,IAAI,CAAC;4BAC9BlB,MAAMY;4BACNT;4BACAD;wBACF;oBACF;gBACF;YACF;YAEA,qDAAqD;YACrD,IAAI,CAACK,OAAOY,cAAc,CAAChB,YAAY;gBACrC,MAAMiB,iBAAa/B,yNAAAA,EACjBc,WACAD,WACAQ,OACAlB,OACAe;gBAGF,IAAIa,eAAeC,WAAW;oBAC5Bd,MAAM,CAACJ,UAAU,GAAGiB;gBACtB;YACF;QACF;QAEA,oEAAoE;QACpE,KAAK,MAAME,iBAAiBC,OAAOC,MAAM,CAACX,gBAAiB;YACzDL,MAAMU,IAAI,CAAC;gBACTT,MAAMa;gBACNZ,OAAOK;gBACPxB,aAAauB;YACf;QACF;IACF;IAEA,OAAO;QAAER;QAA4BC;IAAO;AAC9C","ignoreList":[0]}},
    {"offset": {"line": 1437, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/build/static-paths/utils.ts"],"sourcesContent":["import type { LoaderTree } from '../../server/lib/app-dir-module'\nimport type { Params } from '../../server/request/params'\nimport type { AppPageRouteModule } from '../../server/route-modules/app-page/module.compiled'\nimport type { AppRouteRouteModule } from '../../server/route-modules/app-route/module.compiled'\nimport { isAppPageRouteModule } from '../../server/route-modules/checks'\nimport type { DynamicParamTypes } from '../../shared/lib/app-router-types'\nimport {\n  parseAppRouteSegment,\n  type NormalizedAppRoute,\n} from '../../shared/lib/router/routes/app'\nimport { parseLoaderTree } from '../../shared/lib/router/utils/parse-loader-tree'\nimport type { AppSegment } from '../segment-config/app/app-segments'\nimport { extractPathnameRouteParamSegmentsFromLoaderTree } from './app/extract-pathname-route-param-segments-from-loader-tree'\nimport { resolveParamValue } from '../../shared/lib/router/utils/resolve-param-value'\nimport type { FallbackRouteParam } from './types'\n\n/**\n * Encodes a parameter value using the provided encoder.\n *\n * @param value - The value to encode.\n * @param encoder - The encoder to use.\n * @returns The encoded value.\n */\nexport function encodeParam(\n  value: string | string[],\n  encoder: (value: string) => string\n) {\n  let replaceValue: string\n  if (Array.isArray(value)) {\n    replaceValue = value.map(encoder).join('/')\n  } else {\n    replaceValue = encoder(value)\n  }\n\n  return replaceValue\n}\n\n/**\n * Normalizes a pathname to a consistent format.\n *\n * @param pathname - The pathname to normalize.\n * @returns The normalized pathname.\n */\nexport function normalizePathname(pathname: string) {\n  return pathname.replace(/\\\\/g, '/').replace(/(?!^)\\/$/, '')\n}\n\n/**\n * Extracts segments that contribute to the pathname by traversing the loader tree\n * based on the route module type.\n *\n * @param routeModule - The app route module (page or route handler)\n * @param segments - Array of AppSegment objects collected from the route\n * @param page - The target pathname to match against, INCLUDING interception\n *               markers (e.g., \"/blog/[slug]\", \"/(.)photo/[id]\")\n * @returns Array of segments with param info that contribute to the pathname\n */\nexport function extractPathnameRouteParamSegments(\n  routeModule: AppRouteRouteModule | AppPageRouteModule,\n  segments: readonly Readonly<AppSegment>[],\n  route: NormalizedAppRoute\n): Array<{\n  readonly name: string\n  readonly paramName: string\n  readonly paramType: DynamicParamTypes\n}> {\n  // For AppPageRouteModule, use the loaderTree traversal approach\n  if (isAppPageRouteModule(routeModule)) {\n    const { pathnameRouteParamSegments } =\n      extractPathnameRouteParamSegmentsFromLoaderTree(\n        routeModule.userland.loaderTree,\n        route\n      )\n    return pathnameRouteParamSegments\n  }\n\n  return extractPathnameRouteParamSegmentsFromSegments(segments)\n}\n\nexport function extractPathnameRouteParamSegmentsFromSegments(\n  segments: readonly Readonly<AppSegment>[]\n): Array<{\n  readonly name: string\n  readonly paramName: string\n  readonly paramType: DynamicParamTypes\n}> {\n  // TODO: should we consider what values are already present in the page?\n\n  // For AppRouteRouteModule, filter the segments array to get the route params\n  // that contribute to the pathname.\n  const result: Array<{\n    readonly name: string\n    readonly paramName: string\n    readonly paramType: DynamicParamTypes\n  }> = []\n\n  for (const segment of segments) {\n    // Skip segments without param info.\n    if (!segment.paramName || !segment.paramType) continue\n\n    // Collect all the route param keys that contribute to the pathname.\n    result.push({\n      name: segment.name,\n      paramName: segment.paramName,\n      paramType: segment.paramType,\n    })\n  }\n\n  return result\n}\n\n/**\n * Resolves all route parameters from the loader tree. This function uses\n * tree-based traversal to correctly handle the hierarchical structure of routes\n * and accurately determine parameter values based on their depth in the tree.\n *\n * This processes both regular route parameters (from the main children route) and\n * parallel route parameters (from slots like @modal, @sidebar).\n *\n * Unlike interpolateParallelRouteParams (which has a complete URL at runtime),\n * this build-time function determines which route params are unknown.\n * The pathname may contain placeholders like [slug], making it incomplete.\n *\n * @param loaderTree - The loader tree structure containing route hierarchy\n * @param params - The current route parameters object (will be mutated)\n * @param route - The current route being processed\n * @param fallbackRouteParams - Array of fallback route parameters (will be mutated)\n */\nexport function resolveRouteParamsFromTree(\n  loaderTree: LoaderTree,\n  params: Params,\n  route: NormalizedAppRoute,\n  fallbackRouteParams: FallbackRouteParam[]\n): void {\n  // Stack-based traversal with depth tracking\n  const stack: Array<{\n    tree: LoaderTree\n    depth: number\n  }> = [{ tree: loaderTree, depth: 0 }]\n\n  while (stack.length > 0) {\n    const { tree, depth } = stack.pop()!\n    const { segment, parallelRoutes } = parseLoaderTree(tree)\n\n    const appSegment = parseAppRouteSegment(segment)\n\n    // If this segment is a route parameter, then we should process it if it's\n    // not already known and is not already marked as a fallback route param.\n    if (\n      appSegment?.type === 'dynamic' &&\n      !params.hasOwnProperty(appSegment.param.paramName) &&\n      !fallbackRouteParams.some(\n        (param) => param.paramName === appSegment.param.paramName\n      )\n    ) {\n      const { paramName, paramType } = appSegment.param\n\n      const paramValue = resolveParamValue(\n        paramName,\n        paramType,\n        depth,\n        route,\n        params\n      )\n\n      if (paramValue !== undefined) {\n        params[paramName] = paramValue\n      } else if (paramType !== 'optional-catchall') {\n        // If we couldn't resolve the param, mark it as a fallback\n        fallbackRouteParams.push({ paramName, paramType })\n      }\n    }\n\n    // Calculate next depth - increment if this is not a route group and not empty\n    let nextDepth = depth\n    if (\n      appSegment &&\n      appSegment.type !== 'route-group' &&\n      appSegment.type !== 'parallel-route'\n    ) {\n      nextDepth++\n    }\n\n    // Add all parallel routes to the stack for processing.\n    for (const parallelRoute of Object.values(parallelRoutes)) {\n      stack.push({ tree: parallelRoute, depth: nextDepth })\n    }\n  }\n}\n"],"names":["isAppPageRouteModule","parseAppRouteSegment","parseLoaderTree","extractPathnameRouteParamSegmentsFromLoaderTree","resolveParamValue","encodeParam","value","encoder","replaceValue","Array","isArray","map","join","normalizePathname","pathname","replace","extractPathnameRouteParamSegments","routeModule","segments","route","pathnameRouteParamSegments","userland","loaderTree","extractPathnameRouteParamSegmentsFromSegments","result","segment","paramName","paramType","push","name","resolveRouteParamsFromTree","params","fallbackRouteParams","stack","tree","depth","length","pop","parallelRoutes","appSegment","type","hasOwnProperty","param","some","paramValue","undefined","nextDepth","parallelRoute","Object","values"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1541, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/server/app-render/get-short-dynamic-param-type.tsx"],"sourcesContent":["import type {\n  DynamicParamTypes,\n  DynamicParamTypesShort,\n} from '../../shared/lib/app-router-types'\n\nexport const dynamicParamTypes: Record<\n  DynamicParamTypes,\n  DynamicParamTypesShort\n> = {\n  catchall: 'c',\n  'catchall-intercepted-(..)(..)': 'ci(..)(..)',\n  'catchall-intercepted-(.)': 'ci(.)',\n  'catchall-intercepted-(..)': 'ci(..)',\n  'catchall-intercepted-(...)': 'ci(...)',\n  'optional-catchall': 'oc',\n  dynamic: 'd',\n  'dynamic-intercepted-(..)(..)': 'di(..)(..)',\n  'dynamic-intercepted-(.)': 'di(.)',\n  'dynamic-intercepted-(..)': 'di(..)',\n  'dynamic-intercepted-(...)': 'di(...)',\n}\n"],"names":["dynamicParamTypes","catchall","dynamic"],"mappings":";;;;AAKO,MAAMA,oBAGT;IACFC,UAAU;IACV,iCAAiC;IACjC,4BAA4B;IAC5B,6BAA6B;IAC7B,8BAA8B;IAC9B,qBAAqB;IACrBC,SAAS;IACT,gCAAgC;IAChC,2BAA2B;IAC3B,4BAA4B;IAC5B,6BAA6B;AAC/B,EAAC","ignoreList":[0]}},
    {"offset": {"line": 1562, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/server/request/fallback-params.ts"],"sourcesContent":["import { resolveRouteParamsFromTree } from '../../build/static-paths/utils'\nimport type { FallbackRouteParam } from '../../build/static-paths/types'\nimport type { DynamicParamTypesShort } from '../../shared/lib/app-router-types'\nimport { dynamicParamTypes } from '../app-render/get-short-dynamic-param-type'\nimport type AppPageRouteModule from '../route-modules/app-page/module'\nimport { parseAppRoute } from '../../shared/lib/router/routes/app'\nimport { extractPathnameRouteParamSegmentsFromLoaderTree } from '../../build/static-paths/app/extract-pathname-route-param-segments-from-loader-tree'\n\nexport type OpaqueFallbackRouteParamValue = [\n  /**\n   * The search value of the fallback route param. This is the opaque key\n   * that will be used to replace the dynamic param in the postponed state.\n   */\n  searchValue: string,\n\n  /**\n   * The dynamic param type of the fallback route param. This is the type of\n   * the dynamic param that will be used to replace the dynamic param in the\n   * postponed state.\n   */\n  dynamicParamType: DynamicParamTypesShort,\n]\n\n/**\n * An opaque fallback route params object. This is used to store the fallback\n * route params in a way that is not easily accessible to the client.\n */\nexport type OpaqueFallbackRouteParams = ReadonlyMap<\n  string,\n  OpaqueFallbackRouteParamValue\n>\n\n/**\n * The entries of the opaque fallback route params object.\n *\n * @param key the key of the fallback route param\n * @param value the value of the fallback route param\n */\nexport type OpaqueFallbackRouteParamEntries =\n  ReturnType<OpaqueFallbackRouteParams['entries']> extends MapIterator<\n    [infer K, infer V]\n  >\n    ? ReadonlyArray<[K, V]>\n    : never\n\n/**\n * Creates an opaque fallback route params object from the fallback route params.\n *\n * @param fallbackRouteParams the fallback route params\n * @returns the opaque fallback route params\n */\nexport function createOpaqueFallbackRouteParams(\n  fallbackRouteParams: readonly FallbackRouteParam[]\n): OpaqueFallbackRouteParams | null {\n  // If there are no fallback route params, we can return early.\n  if (fallbackRouteParams.length === 0) return null\n\n  // As we're creating unique keys for each of the dynamic route params, we only\n  // need to generate a unique ID once per request because each of the keys will\n  // be also be unique.\n  const uniqueID = Math.random().toString(16).slice(2)\n\n  const keys = new Map<string, OpaqueFallbackRouteParamValue>()\n\n  // Generate a unique key for the fallback route param, if this key is found\n  // in the static output, it represents a bug in cache components.\n  for (const { paramName, paramType } of fallbackRouteParams) {\n    keys.set(paramName, [\n      `%%drp:${paramName}:${uniqueID}%%`,\n      dynamicParamTypes[paramType],\n    ])\n  }\n\n  return keys\n}\n\n/**\n * Gets the fallback route params for a given page. This is an expensive\n * operation because it requires parsing the loader tree to extract the fallback\n * route params.\n *\n * @param page the page\n * @param routeModule the route module\n * @returns the opaque fallback route params\n */\nexport function getFallbackRouteParams(\n  page: string,\n  routeModule: AppPageRouteModule\n) {\n  const route = parseAppRoute(page, true)\n\n  // Extract the pathname-contributing segments from the loader tree. This\n  // mirrors the logic in buildAppStaticPaths where we determine which segments\n  // actually contribute to the pathname.\n  const { pathnameRouteParamSegments, params } =\n    extractPathnameRouteParamSegmentsFromLoaderTree(\n      routeModule.userland.loaderTree,\n      route\n    )\n\n  // Create fallback route params for the pathname segments.\n  const fallbackRouteParams: FallbackRouteParam[] =\n    pathnameRouteParamSegments.map(({ paramName, paramType }) => ({\n      paramName,\n      paramType,\n    }))\n\n  // Resolve route params from the loader tree. This mutates the\n  // fallbackRouteParams array to add any route params that are\n  // unknown at request time.\n  //\n  // The page parameter contains placeholders like [slug], which helps\n  // resolveRouteParamsFromTree determine which params are unknown.\n  resolveRouteParamsFromTree(\n    routeModule.userland.loaderTree,\n    params, // Static params extracted from the page\n    route, // The page pattern with placeholders\n    fallbackRouteParams // Will be mutated to add route params\n  )\n\n  // Convert the fallback route params to an opaque format that can be safely\n  // used in the postponed state without exposing implementation details.\n  return createOpaqueFallbackRouteParams(fallbackRouteParams)\n}\n"],"names":["resolveRouteParamsFromTree","dynamicParamTypes","parseAppRoute","extractPathnameRouteParamSegmentsFromLoaderTree","createOpaqueFallbackRouteParams","fallbackRouteParams","length","uniqueID","Math","random","toString","slice","keys","Map","paramName","paramType","set","getFallbackRouteParams","page","routeModule","route","pathnameRouteParamSegments","params","userland","loaderTree","map"],"mappings":";;;;;;AAAA,SAASA,0BAA0B,QAAQ,iCAAgC;AAG3E,SAASC,iBAAiB,QAAQ,6CAA4C;AAE9E,SAASC,aAAa,QAAQ,qCAAoC;AAClE,SAASC,+CAA+C,QAAQ,sFAAqF;;;;;AA6C9I,SAASC,gCACdC,mBAAkD;IAElD,8DAA8D;IAC9D,IAAIA,oBAAoBC,MAAM,KAAK,GAAG,OAAO;IAE7C,8EAA8E;IAC9E,8EAA8E;IAC9E,qBAAqB;IACrB,MAAMC,WAAWC,KAAKC,MAAM,GAAGC,QAAQ,CAAC,IAAIC,KAAK,CAAC;IAElD,MAAMC,OAAO,IAAIC;IAEjB,2EAA2E;IAC3E,iEAAiE;IACjE,KAAK,MAAM,EAAEC,SAAS,EAAEC,SAAS,EAAE,IAAIV,oBAAqB;QAC1DO,KAAKI,GAAG,CAACF,WAAW;YAClB,CAAC,MAAM,EAAEA,UAAU,CAAC,EAAEP,SAAS,EAAE,CAAC;YAClCN,+NAAiB,CAACc,UAAU;SAC7B;IACH;IAEA,OAAOH;AACT;AAWO,SAASK,uBACdC,IAAY,EACZC,WAA+B;IAE/B,MAAMC,YAAQlB,gMAAAA,EAAcgB,MAAM;IAElC,wEAAwE;IACxE,6EAA6E;IAC7E,uCAAuC;IACvC,MAAM,EAAEG,0BAA0B,EAAEC,MAAM,EAAE,OAC1CnB,wSAAAA,EACEgB,YAAYI,QAAQ,CAACC,UAAU,EAC/BJ;IAGJ,0DAA0D;IAC1D,MAAMf,sBACJgB,2BAA2BI,GAAG,CAAC,CAAC,EAAEX,SAAS,EAAEC,SAAS,EAAE,GAAM,CAAA;YAC5DD;YACAC;QACF,CAAA;IAEF,8DAA8D;IAC9D,6DAA6D;IAC7D,2BAA2B;IAC3B,EAAE;IACF,oEAAoE;IACpE,iEAAiE;QACjEf,sMAAAA,EACEmB,YAAYI,QAAQ,CAACC,UAAU,EAC/BF,QACAF,OACAf,oBAAoB,sCAAsC;;IAG5D,2EAA2E;IAC3E,uEAAuE;IACvE,OAAOD,gCAAgCC;AACzC","ignoreList":[0]}},
    {"offset": {"line": 1621, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/server/app-render/manifests-singleton.ts"],"sourcesContent":["import type { ActionManifest } from '../../build/webpack/plugins/flight-client-entry-plugin'\nimport type { ClientReferenceManifest } from '../../build/webpack/plugins/flight-manifest-plugin'\nimport type { DeepReadonly } from '../../shared/lib/deep-readonly'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { normalizeAppPath } from '../../shared/lib/router/utils/app-paths'\nimport { pathHasPrefix } from '../../shared/lib/router/utils/path-has-prefix'\nimport { removePathPrefix } from '../../shared/lib/router/utils/remove-path-prefix'\nimport { workAsyncStorage } from './work-async-storage.external'\n\nexport interface ServerModuleMap {\n  readonly [name: string]: {\n    readonly id: string | number\n    readonly name: string\n    readonly chunks: Readonly<Array<string>> // currently not used\n    readonly async?: boolean\n  }\n}\n\n// This is a global singleton that is, among other things, also used to\n// encode/decode bound args of server function closures. This can't be using a\n// AsyncLocalStorage as it might happen at the module level.\nconst MANIFESTS_SINGLETON = Symbol.for('next.server.manifests')\n\ninterface ManifestsSingleton {\n  readonly clientReferenceManifestsPerRoute: Map<\n    string,\n    DeepReadonly<ClientReferenceManifest>\n  >\n  readonly proxiedClientReferenceManifest: DeepReadonly<ClientReferenceManifest>\n  serverActionsManifest: DeepReadonly<ActionManifest>\n  serverModuleMap: ServerModuleMap\n}\n\ntype GlobalThisWithManifests = typeof globalThis & {\n  [MANIFESTS_SINGLETON]?: ManifestsSingleton\n}\n\ntype ClientReferenceManifestMappingProp =\n  | 'clientModules'\n  | 'rscModuleMapping'\n  | 'edgeRscModuleMapping'\n  | 'ssrModuleMapping'\n  | 'edgeSSRModuleMapping'\n\nconst globalThisWithManifests = globalThis as GlobalThisWithManifests\n\nfunction createProxiedClientReferenceManifest(\n  clientReferenceManifestsPerRoute: Map<\n    string,\n    DeepReadonly<ClientReferenceManifest>\n  >\n): DeepReadonly<ClientReferenceManifest> {\n  const createMappingProxy = (prop: ClientReferenceManifestMappingProp) => {\n    return new Proxy(\n      {},\n      {\n        get(_, id: string) {\n          const workStore = workAsyncStorage.getStore()\n\n          if (workStore) {\n            const currentManifest = clientReferenceManifestsPerRoute.get(\n              workStore.route\n            )\n\n            if (currentManifest?.[prop][id]) {\n              return currentManifest[prop][id]\n            }\n\n            // In development, we also check all other manifests to see if the\n            // module exists there. This is to support a scenario where React's\n            // I/O tracking (dev-only) creates a connection from one page to\n            // another through an emitted async I/O node that references client\n            // components from the other page, e.g. in owner props.\n            // TODO: Maybe we need to add a `debugBundlerConfig` option to React\n            // to avoid this workaround. The current workaround has the\n            // disadvantage that one might accidentally or intentionally share\n            // client references across pages (e.g. by storing them in a global\n            // variable), which would then only be caught in production.\n            if (process.env.NODE_ENV !== 'production') {\n              for (const [\n                route,\n                manifest,\n              ] of clientReferenceManifestsPerRoute) {\n                if (route === workStore.route) {\n                  continue\n                }\n\n                const entry = manifest[prop][id]\n\n                if (entry !== undefined) {\n                  return entry\n                }\n              }\n            }\n          } else {\n            // If there's no work store defined, we can assume that a client\n            // reference manifest is needed during module evaluation, e.g. to\n            // create a server function using a higher-order function. This\n            // might also use client components which need to be serialized by\n            // Flight, and therefore client references need to be resolvable. In\n            // that case we search all page manifests to find the module.\n            for (const manifest of clientReferenceManifestsPerRoute.values()) {\n              const entry = manifest[prop][id]\n\n              if (entry !== undefined) {\n                return entry\n              }\n            }\n          }\n\n          return undefined\n        },\n      }\n    )\n  }\n\n  const mappingProxies = new Map<\n    ClientReferenceManifestMappingProp,\n    ReturnType<typeof createMappingProxy>\n  >()\n\n  return new Proxy(\n    {},\n    {\n      get(_, prop) {\n        const workStore = workAsyncStorage.getStore()\n\n        switch (prop) {\n          case 'moduleLoading':\n          case 'entryCSSFiles':\n          case 'entryJSFiles': {\n            if (!workStore) {\n              throw new InvariantError(\n                `Cannot access \"${prop}\" without a work store.`\n              )\n            }\n\n            const currentManifest = clientReferenceManifestsPerRoute.get(\n              workStore.route\n            )\n\n            if (!currentManifest) {\n              throw new InvariantError(\n                `The client reference manifest for route \"${workStore.route}\" does not exist.`\n              )\n            }\n\n            return currentManifest[prop]\n          }\n          case 'clientModules':\n          case 'rscModuleMapping':\n          case 'edgeRscModuleMapping':\n          case 'ssrModuleMapping':\n          case 'edgeSSRModuleMapping': {\n            let proxy = mappingProxies.get(prop)\n\n            if (!proxy) {\n              proxy = createMappingProxy(prop)\n              mappingProxies.set(prop, proxy)\n            }\n\n            return proxy\n          }\n          default: {\n            throw new InvariantError(\n              `This is a proxied client reference manifest. The property \"${String(prop)}\" is not handled.`\n            )\n          }\n        }\n      },\n    }\n  ) as DeepReadonly<ClientReferenceManifest>\n}\n\n/**\n * This function creates a Flight-acceptable server module map proxy from our\n * Server Reference Manifest similar to our client module map. This is because\n * our manifest contains a lot of internal Next.js data that are relevant to the\n * runtime, workers, etc. that React doesn't need to know.\n */\nfunction createServerModuleMap(): ServerModuleMap {\n  return new Proxy(\n    {},\n    {\n      get: (_, id: string) => {\n        const workers =\n          getServerActionsManifest()[\n            process.env.NEXT_RUNTIME === 'edge' ? 'edge' : 'node'\n          ]?.[id]?.workers\n\n        if (!workers) {\n          return undefined\n        }\n\n        const workStore = workAsyncStorage.getStore()\n\n        let workerEntry:\n          | { moduleId: string | number; async: boolean }\n          | undefined\n\n        if (workStore) {\n          workerEntry = workers[normalizeWorkerPageName(workStore.page)]\n        } else {\n          // If there's no work store defined, we can assume that a server\n          // module map is needed during module evaluation, e.g. to create a\n          // server action using a higher-order function. Therefore it should be\n          // safe to return any entry from the manifest that matches the action\n          // ID. They all refer to the same module ID, which must also exist in\n          // the current page bundle. TODO: This is currently not guaranteed in\n          // Turbopack, and needs to be fixed.\n          workerEntry = Object.values(workers).at(0)\n        }\n\n        if (!workerEntry) {\n          return undefined\n        }\n\n        const { moduleId, async } = workerEntry\n\n        return { id: moduleId, name: id, chunks: [], async }\n      },\n    }\n  )\n}\n\n/**\n * The flight entry loader keys actions by bundlePath. bundlePath corresponds\n * with the relative path (including 'app') to the page entrypoint.\n */\nfunction normalizeWorkerPageName(pageName: string) {\n  if (pathHasPrefix(pageName, 'app')) {\n    return pageName\n  }\n\n  return 'app' + pageName\n}\n\n/**\n * Converts a bundlePath (relative path to the entrypoint) to a routable page\n * name.\n */\nfunction denormalizeWorkerPageName(bundlePath: string) {\n  return normalizeAppPath(removePathPrefix(bundlePath, 'app'))\n}\n\n/**\n * Checks if the requested action has a worker for the current page.\n * If not, it returns the first worker that has a handler for the action.\n */\nexport function selectWorkerForForwarding(\n  actionId: string,\n  pageName: string\n): string | undefined {\n  const serverActionsManifest = getServerActionsManifest()\n  const workers =\n    serverActionsManifest[\n      process.env.NEXT_RUNTIME === 'edge' ? 'edge' : 'node'\n    ][actionId]?.workers\n\n  // There are no workers to handle this action, nothing to forward to.\n  if (!workers) {\n    return\n  }\n\n  // If there is an entry for the current page, we don't need to forward.\n  if (workers[normalizeWorkerPageName(pageName)]) {\n    return\n  }\n\n  // Otherwise, grab the first worker that has a handler for this action id.\n  return denormalizeWorkerPageName(Object.keys(workers)[0])\n}\n\nexport function setManifestsSingleton({\n  page,\n  clientReferenceManifest,\n  serverActionsManifest,\n}: {\n  page: string\n  clientReferenceManifest: DeepReadonly<ClientReferenceManifest>\n  serverActionsManifest: DeepReadonly<ActionManifest>\n}) {\n  const existingSingleton = globalThisWithManifests[MANIFESTS_SINGLETON]\n\n  if (existingSingleton) {\n    existingSingleton.clientReferenceManifestsPerRoute.set(\n      normalizeAppPath(page),\n      clientReferenceManifest\n    )\n\n    existingSingleton.serverActionsManifest = serverActionsManifest\n  } else {\n    const clientReferenceManifestsPerRoute = new Map<\n      string,\n      DeepReadonly<ClientReferenceManifest>\n    >([[normalizeAppPath(page), clientReferenceManifest]])\n\n    const proxiedClientReferenceManifest = createProxiedClientReferenceManifest(\n      clientReferenceManifestsPerRoute\n    )\n\n    globalThisWithManifests[MANIFESTS_SINGLETON] = {\n      clientReferenceManifestsPerRoute,\n      proxiedClientReferenceManifest,\n      serverActionsManifest,\n      serverModuleMap: createServerModuleMap(),\n    }\n  }\n}\n\nfunction getManifestsSingleton(): ManifestsSingleton {\n  const manifestSingleton = globalThisWithManifests[MANIFESTS_SINGLETON]\n\n  if (!manifestSingleton) {\n    throw new InvariantError('The manifests singleton was not initialized.')\n  }\n\n  return manifestSingleton\n}\n\nexport function getClientReferenceManifest(): DeepReadonly<ClientReferenceManifest> {\n  return getManifestsSingleton().proxiedClientReferenceManifest\n}\n\nexport function getServerActionsManifest(): DeepReadonly<ActionManifest> {\n  return getManifestsSingleton().serverActionsManifest\n}\n\nexport function getServerModuleMap() {\n  return getManifestsSingleton().serverModuleMap\n}\n"],"names":["InvariantError","normalizeAppPath","pathHasPrefix","removePathPrefix","workAsyncStorage","MANIFESTS_SINGLETON","Symbol","for","globalThisWithManifests","globalThis","createProxiedClientReferenceManifest","clientReferenceManifestsPerRoute","createMappingProxy","prop","Proxy","get","_","id","workStore","getStore","currentManifest","route","process","env","NODE_ENV","manifest","entry","undefined","values","mappingProxies","Map","proxy","set","String","createServerModuleMap","getServerActionsManifest","workers","NEXT_RUNTIME","workerEntry","normalizeWorkerPageName","page","Object","at","moduleId","async","name","chunks","pageName","denormalizeWorkerPageName","bundlePath","selectWorkerForForwarding","actionId","serverActionsManifest","keys","setManifestsSingleton","clientReferenceManifest","existingSingleton","proxiedClientReferenceManifest","serverModuleMap","getManifestsSingleton","manifestSingleton","getClientReferenceManifest","getServerModuleMap"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1863, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/shared/lib/router/utils/html-bots.ts"],"sourcesContent":["// This regex contains the bots that we need to do a blocking render for and can't safely stream the response\n// due to how they parse the DOM. For example, they might explicitly check for metadata in the `head` tag, so we can't stream metadata tags after the `head` was sent.\n// Note: The pattern [\\w-]+-Google captures all Google crawlers with \"-Google\" suffix (e.g., Mediapartners-Google, AdsBot-Google, Storebot-Google)\n// as well as crawlers starting with \"Google-\" (e.g., Google-PageRenderer, Google-InspectionTool)\nexport const HTML_LIMITED_BOT_UA_RE =\n  /[\\w-]+-Google|Google-[\\w-]+|Chrome-Lighthouse|Slurp|DuckDuckBot|baiduspider|yandex|sogou|bitlybot|tumblr|vkShare|quora link preview|redditbot|ia_archiver|Bingbot|BingPreview|applebot|facebookexternalhit|facebookcatalog|Twitterbot|LinkedInBot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|Yeti|googleweblight/i\n"],"names":["HTML_LIMITED_BOT_UA_RE"],"mappings":"AAAA,6GAA6G;AAC7G,sKAAsK;AACtK,kJAAkJ;AAClJ,iGAAiG;;;;;AAC1F,MAAMA,yBACX,sTAAqT","ignoreList":[0]}},
    {"offset": {"line": 1876, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/shared/lib/router/utils/is-bot.ts"],"sourcesContent":["import { HTML_LIMITED_BOT_UA_RE } from './html-bots'\n\n// Bot crawler that will spin up a headless browser and execute JS.\n// Only the main Googlebot search crawler executes JavaScript, not other Google crawlers.\n// x-ref: https://developers.google.com/search/docs/crawling-indexing/google-common-crawlers\n// This regex specifically matches \"Googlebot\" but NOT \"Mediapartners-Google\", \"AdsBot-Google\", etc.\nconst HEADLESS_BROWSER_BOT_UA_RE = /Googlebot(?!-)|Googlebot$/i\n\nexport const HTML_LIMITED_BOT_UA_RE_STRING = HTML_LIMITED_BOT_UA_RE.source\n\nexport { HTML_LIMITED_BOT_UA_RE }\n\nfunction isDomBotUA(userAgent: string) {\n  return HEADLESS_BROWSER_BOT_UA_RE.test(userAgent)\n}\n\nfunction isHtmlLimitedBotUA(userAgent: string) {\n  return HTML_LIMITED_BOT_UA_RE.test(userAgent)\n}\n\nexport function isBot(userAgent: string): boolean {\n  return isDomBotUA(userAgent) || isHtmlLimitedBotUA(userAgent)\n}\n\nexport function getBotType(userAgent: string): 'dom' | 'html' | undefined {\n  if (isDomBotUA(userAgent)) {\n    return 'dom'\n  }\n  if (isHtmlLimitedBotUA(userAgent)) {\n    return 'html'\n  }\n  return undefined\n}\n"],"names":["HTML_LIMITED_BOT_UA_RE","HEADLESS_BROWSER_BOT_UA_RE","HTML_LIMITED_BOT_UA_RE_STRING","source","isDomBotUA","userAgent","test","isHtmlLimitedBotUA","isBot","getBotType","undefined"],"mappings":";;;;;;;;AAAA,SAASA,sBAAsB,QAAQ,cAAa;;AAEpD,mEAAmE;AACnE,yFAAyF;AACzF,4FAA4F;AAC5F,oGAAoG;AACpG,MAAMC,6BAA6B;AAE5B,MAAMC,gCAAgCF,iNAAAA,CAAuBG,MAAM,CAAA;;AAI1E,SAASC,WAAWC,SAAiB;IACnC,OAAOJ,2BAA2BK,IAAI,CAACD;AACzC;AAEA,SAASE,mBAAmBF,SAAiB;IAC3C,OAAOL,iNAAAA,CAAuBM,IAAI,CAACD;AACrC;AAEO,SAASG,MAAMH,SAAiB;IACrC,OAAOD,WAAWC,cAAcE,mBAAmBF;AACrD;AAEO,SAASI,WAAWJ,SAAiB;IAC1C,IAAID,WAAWC,YAAY;QACzB,OAAO;IACT;IACA,IAAIE,mBAAmBF,YAAY;QACjC,OAAO;IACT;IACA,OAAOK;AACT","ignoreList":[0]}},
    {"offset": {"line": 1915, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/server/lib/streaming-metadata.ts"],"sourcesContent":["import {\n  getBotType,\n  HTML_LIMITED_BOT_UA_RE_STRING,\n} from '../../shared/lib/router/utils/is-bot'\nimport type { BaseNextRequest } from '../base-http'\n\nexport function shouldServeStreamingMetadata(\n  userAgent: string,\n  htmlLimitedBots: string | undefined\n): boolean {\n  const blockingMetadataUARegex = new RegExp(\n    htmlLimitedBots || HTML_LIMITED_BOT_UA_RE_STRING,\n    'i'\n  )\n  // Only block metadata for HTML-limited bots\n  if (userAgent && blockingMetadataUARegex.test(userAgent)) {\n    return false\n  }\n  return true\n}\n\n// When the request UA is a html-limited bot, we should do a dynamic render.\n// In this case, postpone state is not sent.\nexport function isHtmlBotRequest(req: {\n  headers: BaseNextRequest['headers']\n}): boolean {\n  const ua = req.headers['user-agent'] || ''\n  const botType = getBotType(ua)\n\n  return botType === 'html'\n}\n"],"names":["getBotType","HTML_LIMITED_BOT_UA_RE_STRING","shouldServeStreamingMetadata","userAgent","htmlLimitedBots","blockingMetadataUARegex","RegExp","test","isHtmlBotRequest","req","ua","headers","botType"],"mappings":";;;;;;AAAA,SACEA,UAAU,EACVC,6BAA6B,QACxB,uCAAsC;;AAGtC,SAASC,6BACdC,SAAiB,EACjBC,eAAmC;IAEnC,MAAMC,0BAA0B,IAAIC,OAClCF,mBAAmBH,qOAAAA,EACnB;IAEF,4CAA4C;IAC5C,IAAIE,aAAaE,wBAAwBE,IAAI,CAACJ,YAAY;QACxD,OAAO;IACT;IACA,OAAO;AACT;AAIO,SAASK,iBAAiBC,GAEhC;IACC,MAAMC,KAAKD,IAAIE,OAAO,CAAC,aAAa,IAAI;IACxC,MAAMC,cAAUZ,kNAAAA,EAAWU;IAE3B,OAAOE,YAAY;AACrB","ignoreList":[0]}},
    {"offset": {"line": 1940, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/server/lib/server-action-request-meta.ts"],"sourcesContent":["import type { IncomingMessage } from 'http'\nimport type { BaseNextRequest } from '../base-http'\nimport type { NextRequest } from '../web/exports'\nimport { ACTION_HEADER } from '../../client/components/app-router-headers'\n\nexport function getServerActionRequestMetadata(\n  req: IncomingMessage | BaseNextRequest | NextRequest\n): {\n  actionId: string | null\n  isURLEncodedAction: boolean\n  isMultipartAction: boolean\n  isFetchAction: boolean\n  isPossibleServerAction: boolean\n} {\n  let actionId: string | null\n  let contentType: string | null\n\n  if (req.headers instanceof Headers) {\n    actionId = req.headers.get(ACTION_HEADER) ?? null\n    contentType = req.headers.get('content-type')\n  } else {\n    actionId = (req.headers[ACTION_HEADER] as string) ?? null\n    contentType = req.headers['content-type'] ?? null\n  }\n\n  // We don't actually support URL encoded actions, and the action handler will bail out if it sees one.\n  // But we still want it to flow through to the action handler, to prevent changes in behavior when a regular\n  // page component tries to handle a POST.\n  const isURLEncodedAction = Boolean(\n    req.method === 'POST' && contentType === 'application/x-www-form-urlencoded'\n  )\n  const isMultipartAction = Boolean(\n    req.method === 'POST' && contentType?.startsWith('multipart/form-data')\n  )\n  const isFetchAction = Boolean(\n    actionId !== undefined &&\n      typeof actionId === 'string' &&\n      req.method === 'POST'\n  )\n\n  const isPossibleServerAction = Boolean(\n    isFetchAction || isURLEncodedAction || isMultipartAction\n  )\n\n  return {\n    actionId,\n    isURLEncodedAction,\n    isMultipartAction,\n    isFetchAction,\n    isPossibleServerAction,\n  }\n}\n\nexport function getIsPossibleServerAction(\n  req: IncomingMessage | BaseNextRequest | NextRequest\n): boolean {\n  return getServerActionRequestMetadata(req).isPossibleServerAction\n}\n"],"names":["ACTION_HEADER","getServerActionRequestMetadata","req","actionId","contentType","headers","Headers","get","isURLEncodedAction","Boolean","method","isMultipartAction","startsWith","isFetchAction","undefined","isPossibleServerAction","getIsPossibleServerAction"],"mappings":";;;;;;AAGA,SAASA,aAAa,QAAQ,6CAA4C;;AAEnE,SAASC,+BACdC,GAAoD;IAQpD,IAAIC;IACJ,IAAIC;IAEJ,IAAIF,IAAIG,OAAO,YAAYC,SAAS;QAClCH,WAAWD,IAAIG,OAAO,CAACE,GAAG,CAACP,wMAAAA,KAAkB;QAC7CI,cAAcF,IAAIG,OAAO,CAACE,GAAG,CAAC;IAChC,OAAO;QACLJ,WAAYD,IAAIG,OAAO,CAACL,wMAAAA,CAAc,IAAe;QACrDI,cAAcF,IAAIG,OAAO,CAAC,eAAe,IAAI;IAC/C;IAEA,sGAAsG;IACtG,4GAA4G;IAC5G,yCAAyC;IACzC,MAAMG,qBAAqBC,QACzBP,IAAIQ,MAAM,KAAK,UAAUN,gBAAgB;IAE3C,MAAMO,oBAAoBF,QACxBP,IAAIQ,MAAM,KAAK,UAAA,CAAUN,eAAAA,OAAAA,KAAAA,IAAAA,YAAaQ,UAAU,CAAC,sBAAA;IAEnD,MAAMC,gBAAgBJ,QACpBN,aAAaW,aACX,OAAOX,aAAa,YACpBD,IAAIQ,MAAM,KAAK;IAGnB,MAAMK,yBAAyBN,QAC7BI,iBAAiBL,sBAAsBG;IAGzC,OAAO;QACLR;QACAK;QACAG;QACAE;QACAE;IACF;AACF;AAEO,SAASC,0BACdd,GAAoD;IAEpD,OAAOD,+BAA+BC,KAAKa,sBAAsB;AACnE","ignoreList":[0]}},
    {"offset": {"line": 1980, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/lib/fallback.ts"],"sourcesContent":["/**\n * Describes the different fallback modes that a given page can have.\n */\nexport const enum FallbackMode {\n  /**\n   * A BLOCKING_STATIC_RENDER fallback will block the request until the page is\n   * generated. No fallback page will be rendered, and users will have to wait\n   * to render the page.\n   */\n  BLOCKING_STATIC_RENDER = 'BLOCKING_STATIC_RENDER',\n\n  /**\n   * When set to PRERENDER, a fallback page will be sent to users in place of\n   * forcing them to wait for the page to be generated. This allows the user to\n   * see a rendered page earlier.\n   */\n  PRERENDER = 'PRERENDER',\n\n  /**\n   * When set to NOT_FOUND, pages that are not already prerendered will result\n   * in a not found response.\n   */\n  NOT_FOUND = 'NOT_FOUND',\n}\n\n/**\n * The fallback value returned from the `getStaticPaths` function.\n */\nexport type GetStaticPathsFallback = boolean | 'blocking'\n\n/**\n * Parses the fallback field from the prerender manifest.\n *\n * @param fallbackField The fallback field from the prerender manifest.\n * @returns The fallback mode.\n */\nexport function parseFallbackField(\n  fallbackField: string | boolean | null | undefined\n): FallbackMode | undefined {\n  if (typeof fallbackField === 'string') {\n    return FallbackMode.PRERENDER\n  } else if (fallbackField === null) {\n    return FallbackMode.BLOCKING_STATIC_RENDER\n  } else if (fallbackField === false) {\n    return FallbackMode.NOT_FOUND\n  } else if (fallbackField === undefined) {\n    return undefined\n  } else {\n    throw new Error(\n      `Invalid fallback option: ${fallbackField}. Fallback option must be a string, null, undefined, or false.`\n    )\n  }\n}\n\nexport function fallbackModeToFallbackField(\n  fallback: FallbackMode,\n  page: string | undefined\n): string | false | null {\n  switch (fallback) {\n    case FallbackMode.BLOCKING_STATIC_RENDER:\n      return null\n    case FallbackMode.NOT_FOUND:\n      return false\n    case FallbackMode.PRERENDER:\n      if (!page) {\n        throw new Error(\n          `Invariant: expected a page to be provided when fallback mode is \"${fallback}\"`\n        )\n      }\n\n      return page\n    default:\n      throw new Error(`Invalid fallback mode: ${fallback}`)\n  }\n}\n\n/**\n * Parses the fallback from the static paths result.\n *\n * @param result The result from the static paths function.\n * @returns The fallback mode.\n */\nexport function parseStaticPathsResult(\n  result: GetStaticPathsFallback\n): FallbackMode {\n  if (result === true) {\n    return FallbackMode.PRERENDER\n  } else if (result === 'blocking') {\n    return FallbackMode.BLOCKING_STATIC_RENDER\n  } else {\n    return FallbackMode.NOT_FOUND\n  }\n}\n"],"names":["FallbackMode","parseFallbackField","fallbackField","undefined","Error","fallbackModeToFallbackField","fallback","page","parseStaticPathsResult","result"],"mappings":"AAAA;;CAEC,GACD;;;;;;;;;;AAAO,IAAWA,eAAAA,WAAAA,GAAAA,SAAAA,YAAAA;IAChB;;;;GAIC,GAAA,YAAA,CAAA,yBAAA,GAAA;IAGD;;;;GAIC,GAAA,YAAA,CAAA,YAAA,GAAA;IAGD;;;GAGC,GAAA,YAAA,CAAA,YAAA,GAAA;WAlBeA;MAoBjB;AAaM,SAASC,mBACdC,aAAkD;IAElD,IAAI,OAAOA,kBAAkB,UAAU;QACrC,OAAA;IACF,OAAO,IAAIA,kBAAkB,MAAM;QACjC,OAAA;IACF,OAAO,IAAIA,kBAAkB,OAAO;QAClC,OAAA;IACF,OAAO,IAAIA,kBAAkBC,WAAW;QACtC,OAAOA;IACT,OAAO;QACL,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,CAAC,yBAAyB,EAAEF,cAAc,8DAA8D,CAAC,GADrG,qBAAA;mBAAA;wBAAA;0BAAA;QAEN;IACF;AACF;AAEO,SAASG,4BACdC,QAAsB,EACtBC,IAAwB;IAExB,OAAQD;QACN,KAAA;YACE,OAAO;QACT,KAAA;YACE,OAAO;QACT,KAAA;YACE,IAAI,CAACC,MAAM;gBACT,MAAM,OAAA,cAEL,CAFK,IAAIH,MACR,CAAC,iEAAiE,EAAEE,SAAS,CAAC,CAAC,GAD3E,qBAAA;2BAAA;gCAAA;kCAAA;gBAEN;YACF;YAEA,OAAOC;QACT;YACE,MAAM,OAAA,cAA+C,CAA/C,IAAIH,MAAM,CAAC,uBAAuB,EAAEE,UAAU,GAA9C,qBAAA;uBAAA;4BAAA;8BAAA;YAA8C;IACxD;AACF;AAQO,SAASE,uBACdC,MAA8B;IAE9B,IAAIA,WAAW,MAAM;QACnB,OAAA;IACF,OAAO,IAAIA,WAAW,YAAY;QAChC,OAAA;IACF,OAAO;QACL,OAAA;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 2062, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/shared/lib/utils.ts"],"sourcesContent":["import type { HtmlProps } from './html-context.shared-runtime'\nimport type { ComponentType, JSX } from 'react'\nimport type { DomainLocale } from '../../server/config'\nimport type { Env } from '@next/env'\nimport type { IncomingMessage, ServerResponse } from 'http'\nimport type { NextRouter } from './router/router'\nimport type { ParsedUrlQuery } from 'querystring'\nimport type { PreviewData } from '../../types'\nimport type { COMPILER_NAMES } from './constants'\nimport type fs from 'fs'\n\nexport type NextComponentType<\n  Context extends BaseContext = NextPageContext,\n  InitialProps = {},\n  Props = {},\n> = ComponentType<Props> & {\n  /**\n   * Used for initial page load data population. Data returned from `getInitialProps` is serialized when server rendered.\n   * Make sure to return plain `Object` without using `Date`, `Map`, `Set`.\n   * @param context Context of `page`\n   */\n  getInitialProps?(context: Context): InitialProps | Promise<InitialProps>\n}\n\nexport type DocumentType = NextComponentType<\n  DocumentContext,\n  DocumentInitialProps,\n  DocumentProps\n>\n\nexport type AppType<P = {}> = NextComponentType<\n  AppContextType,\n  P,\n  AppPropsType<any, P>\n>\n\nexport type AppTreeType = ComponentType<\n  AppInitialProps & { [name: string]: any }\n>\n\n/**\n * Web vitals provided to _app.reportWebVitals by Core Web Vitals plugin developed by Google Chrome team.\n * https://nextjs.org/blog/next-9-4#integrated-web-vitals-reporting\n */\nexport const WEB_VITALS = ['CLS', 'FCP', 'FID', 'INP', 'LCP', 'TTFB'] as const\nexport type NextWebVitalsMetric = {\n  id: string\n  startTime: number\n  value: number\n  attribution?: { [key: string]: unknown }\n} & (\n  | {\n      label: 'web-vital'\n      name: (typeof WEB_VITALS)[number]\n    }\n  | {\n      label: 'custom'\n      name:\n        | 'Next.js-hydration'\n        | 'Next.js-route-change-to-render'\n        | 'Next.js-render'\n    }\n)\n\nexport type Enhancer<C> = (Component: C) => C\n\nexport type ComponentsEnhancer =\n  | {\n      enhanceApp?: Enhancer<AppType>\n      enhanceComponent?: Enhancer<NextComponentType>\n    }\n  | Enhancer<NextComponentType>\n\nexport type RenderPageResult = {\n  html: string\n  head?: Array<JSX.Element | null>\n}\n\nexport type RenderPage = (\n  options?: ComponentsEnhancer\n) => DocumentInitialProps | Promise<DocumentInitialProps>\n\nexport type BaseContext = {\n  res?: ServerResponse\n  [k: string]: any\n}\n\nexport type NEXT_DATA = {\n  props: Record<string, any>\n  page: string\n  query: ParsedUrlQuery\n  buildId: string\n  assetPrefix?: string\n  nextExport?: boolean\n  autoExport?: boolean\n  isFallback?: boolean\n  isExperimentalCompile?: boolean\n  dynamicIds?: (string | number)[]\n  err?: Error & {\n    statusCode?: number\n    source?: typeof COMPILER_NAMES.server | typeof COMPILER_NAMES.edgeServer\n  }\n  gsp?: boolean\n  gssp?: boolean\n  customServer?: boolean\n  gip?: boolean\n  appGip?: boolean\n  locale?: string\n  locales?: readonly string[]\n  defaultLocale?: string\n  domainLocales?: readonly DomainLocale[]\n  scriptLoader?: any[]\n  isPreview?: boolean\n  notFoundSrcPage?: string\n}\n\n/**\n * `Next` context\n */\nexport interface NextPageContext {\n  /**\n   * Error object if encountered during rendering\n   */\n  err?: (Error & { statusCode?: number }) | null\n  /**\n   * `HTTP` request object.\n   */\n  req?: IncomingMessage\n  /**\n   * `HTTP` response object.\n   */\n  res?: ServerResponse\n  /**\n   * Path section of `URL`.\n   */\n  pathname: string\n  /**\n   * Query string section of `URL` parsed as an object.\n   */\n  query: ParsedUrlQuery\n  /**\n   * `String` of the actual path including query.\n   */\n  asPath?: string\n  /**\n   * The currently active locale\n   */\n  locale?: string\n  /**\n   * All configured locales\n   */\n  locales?: readonly string[]\n  /**\n   * The configured default locale\n   */\n  defaultLocale?: string\n  /**\n   * `Component` the tree of the App to use if needing to render separately\n   */\n  AppTree: AppTreeType\n}\n\nexport type AppContextType<Router extends NextRouter = NextRouter> = {\n  Component: NextComponentType<NextPageContext>\n  AppTree: AppTreeType\n  ctx: NextPageContext\n  router: Router\n}\n\nexport type AppInitialProps<PageProps = any> = {\n  pageProps: PageProps\n}\n\nexport type AppPropsType<\n  Router extends NextRouter = NextRouter,\n  PageProps = {},\n> = AppInitialProps<PageProps> & {\n  Component: NextComponentType<NextPageContext, any, any>\n  router: Router\n  __N_SSG?: boolean\n  __N_SSP?: boolean\n}\n\nexport type DocumentContext = NextPageContext & {\n  renderPage: RenderPage\n  defaultGetInitialProps(\n    ctx: DocumentContext,\n    options?: { nonce?: string }\n  ): Promise<DocumentInitialProps>\n}\n\nexport type DocumentInitialProps = RenderPageResult & {\n  styles?: React.ReactElement[] | Iterable<React.ReactNode> | JSX.Element\n}\n\nexport type DocumentProps = DocumentInitialProps & HtmlProps\n\n/**\n * Next `API` route request\n */\nexport interface NextApiRequest extends IncomingMessage {\n  /**\n   * Object of `query` values from url\n   */\n  query: Partial<{\n    [key: string]: string | string[]\n  }>\n  /**\n   * Object of `cookies` from header\n   */\n  cookies: Partial<{\n    [key: string]: string\n  }>\n\n  body: any\n\n  env: Env\n\n  draftMode?: boolean\n\n  preview?: boolean\n  /**\n   * Preview data set on the request, if any\n   * */\n  previewData?: PreviewData\n}\n\n/**\n * Send body of response\n */\ntype Send<T> = (body: T) => void\n\n/**\n * Next `API` route response\n */\nexport type NextApiResponse<Data = any> = ServerResponse & {\n  /**\n   * Send data `any` data in response\n   */\n  send: Send<Data>\n  /**\n   * Send data `json` data in response\n   */\n  json: Send<Data>\n  status: (statusCode: number) => NextApiResponse<Data>\n  redirect(url: string): NextApiResponse<Data>\n  redirect(status: number, url: string): NextApiResponse<Data>\n\n  /**\n   * Set draft mode\n   */\n  setDraftMode: (options: { enable: boolean }) => NextApiResponse<Data>\n\n  /**\n   * Set preview data for Next.js' prerender mode\n   */\n  setPreviewData: (\n    data: object | string,\n    options?: {\n      /**\n       * Specifies the number (in seconds) for the preview session to last for.\n       * The given number will be converted to an integer by rounding down.\n       * By default, no maximum age is set and the preview session finishes\n       * when the client shuts down (browser is closed).\n       */\n      maxAge?: number\n      /**\n       * Specifies the path for the preview session to work under. By default,\n       * the path is considered the \"default path\", i.e., any pages under \"/\".\n       */\n      path?: string\n    }\n  ) => NextApiResponse<Data>\n\n  /**\n   * Clear preview data for Next.js' prerender mode\n   */\n  clearPreviewData: (options?: { path?: string }) => NextApiResponse<Data>\n\n  /**\n   * Revalidate a specific page and regenerate it using On-Demand Incremental\n   * Static Regeneration.\n   * The path should be an actual path, not a rewritten path. E.g. for\n   * \"/blog/[slug]\" this should be \"/blog/post-1\".\n   * @link https://nextjs.org/docs/app/building-your-application/data-fetching/incremental-static-regeneration#on-demand-revalidation-with-revalidatepath\n   */\n  revalidate: (\n    urlPath: string,\n    opts?: {\n      unstable_onlyGenerated?: boolean\n    }\n  ) => Promise<void>\n}\n\n/**\n * Next `API` route handler\n */\nexport type NextApiHandler<T = any> = (\n  req: NextApiRequest,\n  res: NextApiResponse<T>\n) => unknown | Promise<unknown>\n\n/**\n * Utils\n */\nexport function execOnce<T extends (...args: any[]) => ReturnType<T>>(\n  fn: T\n): T {\n  let used = false\n  let result: ReturnType<T>\n\n  return ((...args: any[]) => {\n    if (!used) {\n      used = true\n      result = fn(...args)\n    }\n    return result\n  }) as T\n}\n\n// Scheme: https://tools.ietf.org/html/rfc3986#section-3.1\n// Absolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\nconst ABSOLUTE_URL_REGEX = /^[a-zA-Z][a-zA-Z\\d+\\-.]*?:/\nexport const isAbsoluteUrl = (url: string) => ABSOLUTE_URL_REGEX.test(url)\n\nexport function getLocationOrigin() {\n  const { protocol, hostname, port } = window.location\n  return `${protocol}//${hostname}${port ? ':' + port : ''}`\n}\n\nexport function getURL() {\n  const { href } = window.location\n  const origin = getLocationOrigin()\n  return href.substring(origin.length)\n}\n\nexport function getDisplayName<P>(Component: ComponentType<P>) {\n  return typeof Component === 'string'\n    ? Component\n    : Component.displayName || Component.name || 'Unknown'\n}\n\nexport function isResSent(res: ServerResponse) {\n  return res.finished || res.headersSent\n}\n\nexport function normalizeRepeatedSlashes(url: string) {\n  const urlParts = url.split('?')\n  const urlNoQuery = urlParts[0]\n\n  return (\n    urlNoQuery\n      // first we replace any non-encoded backslashes with forward\n      // then normalize repeated forward slashes\n      .replace(/\\\\/g, '/')\n      .replace(/\\/\\/+/g, '/') +\n    (urlParts[1] ? `?${urlParts.slice(1).join('?')}` : '')\n  )\n}\n\nexport async function loadGetInitialProps<\n  C extends BaseContext,\n  IP = {},\n  P = {},\n>(App: NextComponentType<C, IP, P>, ctx: C): Promise<IP> {\n  if (process.env.NODE_ENV !== 'production') {\n    if (App.prototype?.getInitialProps) {\n      const message = `\"${getDisplayName(\n        App\n      )}.getInitialProps()\" is defined as an instance method - visit https://nextjs.org/docs/messages/get-initial-props-as-an-instance-method for more information.`\n      throw new Error(message)\n    }\n  }\n  // when called from _app `ctx` is nested in `ctx`\n  const res = ctx.res || (ctx.ctx && ctx.ctx.res)\n\n  if (!App.getInitialProps) {\n    if (ctx.ctx && ctx.Component) {\n      // @ts-ignore pageProps default\n      return {\n        pageProps: await loadGetInitialProps(ctx.Component, ctx.ctx),\n      }\n    }\n    return {} as IP\n  }\n\n  const props = await App.getInitialProps(ctx)\n\n  if (res && isResSent(res)) {\n    return props\n  }\n\n  if (!props) {\n    const message = `\"${getDisplayName(\n      App\n    )}.getInitialProps()\" should resolve to an object. But found \"${props}\" instead.`\n    throw new Error(message)\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (Object.keys(props).length === 0 && !ctx.ctx) {\n      console.warn(\n        `${getDisplayName(\n          App\n        )} returned an empty object from \\`getInitialProps\\`. This de-optimizes and prevents automatic static optimization. https://nextjs.org/docs/messages/empty-object-getInitialProps`\n      )\n    }\n  }\n\n  return props\n}\n\nexport const SP = typeof performance !== 'undefined'\nexport const ST =\n  SP &&\n  (['mark', 'measure', 'getEntriesByName'] as const).every(\n    (method) => typeof performance[method] === 'function'\n  )\n\nexport class DecodeError extends Error {}\nexport class NormalizeError extends Error {}\nexport class PageNotFoundError extends Error {\n  code: string\n\n  constructor(page: string) {\n    super()\n    this.code = 'ENOENT'\n    this.name = 'PageNotFoundError'\n    this.message = `Cannot find module for page: ${page}`\n  }\n}\n\nexport class MissingStaticPage extends Error {\n  constructor(page: string, message: string) {\n    super()\n    this.message = `Failed to load static file for page: ${page} ${message}`\n  }\n}\n\nexport class MiddlewareNotFoundError extends Error {\n  code: string\n  constructor() {\n    super()\n    this.code = 'ENOENT'\n    this.message = `Cannot find the middleware module`\n  }\n}\n\nexport interface CacheFs {\n  existsSync: typeof fs.existsSync\n  readFile: typeof fs.promises.readFile\n  readFileSync: typeof fs.readFileSync\n  writeFile(f: string, d: any): Promise<void>\n  mkdir(dir: string): Promise<void | string>\n  stat(f: string): Promise<{ mtime: Date }>\n}\n\nexport function stringifyError(error: Error) {\n  return JSON.stringify({ message: error.message, stack: error.stack })\n}\n"],"names":["WEB_VITALS","execOnce","fn","used","result","args","ABSOLUTE_URL_REGEX","isAbsoluteUrl","url","test","getLocationOrigin","protocol","hostname","port","window","location","getURL","href","origin","substring","length","getDisplayName","Component","displayName","name","isResSent","res","finished","headersSent","normalizeRepeatedSlashes","urlParts","split","urlNoQuery","replace","slice","join","loadGetInitialProps","App","ctx","process","env","NODE_ENV","prototype","getInitialProps","message","Error","pageProps","props","Object","keys","console","warn","SP","performance","ST","every","method","DecodeError","NormalizeError","PageNotFoundError","constructor","page","code","MissingStaticPage","MiddlewareNotFoundError","stringifyError","error","JSON","stringify","stack"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2228, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/server/lib/etag.ts"],"sourcesContent":["/**\n * FNV-1a Hash implementation\n * @author Travis Webb (tjwebb) <me@traviswebb.com>\n *\n * Ported from https://github.com/tjwebb/fnv-plus/blob/master/index.js\n *\n * Simplified, optimized and add modified for 52 bit, which provides a larger hash space\n * and still making use of Javascript's 53-bit integer space.\n */\nexport const fnv1a52 = (str: string) => {\n  const len = str.length\n  let i = 0,\n    t0 = 0,\n    v0 = 0x2325,\n    t1 = 0,\n    v1 = 0x8422,\n    t2 = 0,\n    v2 = 0x9ce4,\n    t3 = 0,\n    v3 = 0xcbf2\n\n  while (i < len) {\n    v0 ^= str.charCodeAt(i++)\n    t0 = v0 * 435\n    t1 = v1 * 435\n    t2 = v2 * 435\n    t3 = v3 * 435\n    t2 += v0 << 8\n    t3 += v1 << 8\n    t1 += t0 >>> 16\n    v0 = t0 & 65535\n    t2 += t1 >>> 16\n    v1 = t1 & 65535\n    v3 = (t3 + (t2 >>> 16)) & 65535\n    v2 = t2 & 65535\n  }\n\n  return (\n    (v3 & 15) * 281474976710656 +\n    v2 * 4294967296 +\n    v1 * 65536 +\n    (v0 ^ (v3 >> 4))\n  )\n}\n\nexport const generateETag = (payload: string, weak = false) => {\n  const prefix = weak ? 'W/\"' : '\"'\n  return (\n    prefix + fnv1a52(payload).toString(36) + payload.length.toString(36) + '\"'\n  )\n}\n"],"names":["fnv1a52","str","len","length","i","t0","v0","t1","v1","t2","v2","t3","v3","charCodeAt","generateETag","payload","weak","prefix","toString"],"mappings":"AAAA;;;;;;;;CAQC,GACD;;;;;;AAAO,MAAMA,UAAU,CAACC;IACtB,MAAMC,MAAMD,IAAIE,MAAM;IACtB,IAAIC,IAAI,GACNC,KAAK,GACLC,KAAK,QACLC,KAAK,GACLC,KAAK,QACLC,KAAK,GACLC,KAAK,QACLC,KAAK,GACLC,KAAK;IAEP,MAAOR,IAAIF,IAAK;QACdI,MAAML,IAAIY,UAAU,CAACT;QACrBC,KAAKC,KAAK;QACVC,KAAKC,KAAK;QACVC,KAAKC,KAAK;QACVC,KAAKC,KAAK;QACVH,MAAMH,MAAM;QACZK,MAAMH,MAAM;QACZD,MAAMF,OAAO;QACbC,KAAKD,KAAK;QACVI,MAAMF,OAAO;QACbC,KAAKD,KAAK;QACVK,KAAMD,KAAMF,CAAAA,OAAO,EAAC,IAAM;QAC1BC,KAAKD,KAAK;IACZ;IAEA,OACGG,CAAAA,KAAK,EAAC,IAAK,kBACZF,KAAK,aACLF,KAAK,QACJF,CAAAA,KAAMM,MAAM,CAAC;AAElB,EAAC;AAEM,MAAME,eAAe,CAACC,SAAiBC,OAAO,KAAK;IACxD,MAAMC,SAASD,OAAO,QAAQ;IAC9B,OACEC,SAASjB,QAAQe,SAASG,QAAQ,CAAC,MAAMH,QAAQZ,MAAM,CAACe,QAAQ,CAAC,MAAM;AAE3E,EAAC","ignoreList":[0]}},
    {"offset": {"line": 2269, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/dist/compiled/fresh/index.js"],"sourcesContent":["(()=>{\"use strict\";var e={695:e=>{\n/*!\n * fresh\n * Copyright(c) 2012 TJ Holowaychuk\n * Copyright(c) 2016-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\nvar r=/(?:^|,)\\s*?no-cache\\s*?(?:,|$)/;e.exports=fresh;function fresh(e,a){var t=e[\"if-modified-since\"];var s=e[\"if-none-match\"];if(!t&&!s){return false}var i=e[\"cache-control\"];if(i&&r.test(i)){return false}if(s&&s!==\"*\"){var f=a[\"etag\"];if(!f){return false}var n=true;var u=parseTokenList(s);for(var _=0;_<u.length;_++){var o=u[_];if(o===f||o===\"W/\"+f||\"W/\"+o===f){n=false;break}}if(n){return false}}if(t){var p=a[\"last-modified\"];var v=!p||!(parseHttpDate(p)<=parseHttpDate(t));if(v){return false}}return true}function parseHttpDate(e){var r=e&&Date.parse(e);return typeof r===\"number\"?r:NaN}function parseTokenList(e){var r=0;var a=[];var t=0;for(var s=0,i=e.length;s<i;s++){switch(e.charCodeAt(s)){case 32:if(t===r){t=r=s+1}break;case 44:a.push(e.substring(t,r));t=r=s+1;break;default:r=s+1;break}}a.push(e.substring(t,r));return a}}};var r={};function __nccwpck_require__(a){var t=r[a];if(t!==undefined){return t.exports}var s=r[a]={exports:{}};var i=true;try{e[a](s,s.exports,__nccwpck_require__);i=false}finally{if(i)delete r[a]}return s.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var a=__nccwpck_require__(695);module.exports=a})();"],"names":[],"mappings":"AAAA,CAAC;IAAK;IAAa,IAAI,IAAE;QAAC,KAAI,CAAA;YAC9B;;;;;CAKC,GACD,IAAI,IAAE;YAAiC,EAAE,OAAO,GAAC;YAAM,SAAS,MAAM,CAAC,EAAC,CAAC;gBAAE,IAAI,IAAE,CAAC,CAAC,oBAAoB;gBAAC,IAAI,IAAE,CAAC,CAAC,gBAAgB;gBAAC,IAAG,CAAC,KAAG,CAAC,GAAE;oBAAC,OAAO;gBAAK;gBAAC,IAAI,IAAE,CAAC,CAAC,gBAAgB;gBAAC,IAAG,KAAG,EAAE,IAAI,CAAC,IAAG;oBAAC,OAAO;gBAAK;gBAAC,IAAG,KAAG,MAAI,KAAI;oBAAC,IAAI,IAAE,CAAC,CAAC,OAAO;oBAAC,IAAG,CAAC,GAAE;wBAAC,OAAO;oBAAK;oBAAC,IAAI,IAAE;oBAAK,IAAI,IAAE,eAAe;oBAAG,IAAI,IAAI,IAAE,GAAE,IAAE,EAAE,MAAM,EAAC,IAAI;wBAAC,IAAI,IAAE,CAAC,CAAC,EAAE;wBAAC,IAAG,MAAI,KAAG,MAAI,OAAK,KAAG,OAAK,MAAI,GAAE;4BAAC,IAAE;4BAAM;wBAAK;oBAAC;oBAAC,IAAG,GAAE;wBAAC,OAAO;oBAAK;gBAAC;gBAAC,IAAG,GAAE;oBAAC,IAAI,IAAE,CAAC,CAAC,gBAAgB;oBAAC,IAAI,IAAE,CAAC,KAAG,CAAC,CAAC,cAAc,MAAI,cAAc,EAAE;oBAAE,IAAG,GAAE;wBAAC,OAAO;oBAAK;gBAAC;gBAAC,OAAO;YAAI;YAAC,SAAS,cAAc,CAAC;gBAAE,IAAI,IAAE,KAAG,KAAK,KAAK,CAAC;gBAAG,OAAO,OAAO,MAAI,WAAS,IAAE;YAAG;YAAC,SAAS,eAAe,CAAC;gBAAE,IAAI,IAAE;gBAAE,IAAI,IAAE,EAAE;gBAAC,IAAI,IAAE;gBAAE,IAAI,IAAI,IAAE,GAAE,IAAE,EAAE,MAAM,EAAC,IAAE,GAAE,IAAI;oBAAC,OAAO,EAAE,UAAU,CAAC;wBAAI,KAAK;4BAAG,IAAG,MAAI,GAAE;gCAAC,IAAE,IAAE,IAAE;4BAAC;4BAAC;wBAAM,KAAK;4BAAG,EAAE,IAAI,CAAC,EAAE,SAAS,CAAC,GAAE;4BAAI,IAAE,IAAE,IAAE;4BAAE;wBAAM;4BAAQ,IAAE,IAAE;4BAAE;oBAAK;gBAAC;gBAAC,EAAE,IAAI,CAAC,EAAE,SAAS,CAAC,GAAE;gBAAI,OAAO;YAAC;QAAC;IAAC;IAAE,IAAI,IAAE,CAAC;IAAE,SAAS,oBAAoB,CAAC;QAAE,IAAI,IAAE,CAAC,CAAC,EAAE;QAAC,IAAG,MAAI,WAAU;YAAC,OAAO,EAAE,OAAO;QAAA;QAAC,IAAI,IAAE,CAAC,CAAC,EAAE,GAAC;YAAC,SAAQ,CAAC;QAAC;QAAE,IAAI,IAAE;QAAK,IAAG;YAAC,CAAC,CAAC,EAAE,CAAC,GAAE,EAAE,OAAO,EAAC;YAAqB,IAAE;QAAK,SAAQ;YAAC,IAAG,GAAE,OAAO,CAAC,CAAC,EAAE;QAAA;QAAC,OAAO,EAAE,OAAO;IAAA;IAAC,IAAG,OAAO,wBAAsB,aAAY,oBAAoB,EAAE,GAAC,kFAAU;IAAI,IAAI,IAAE,oBAAoB;IAAK,OAAO,OAAO,GAAC;AAAC,CAAC","ignoreList":[0]}},
    {"offset": {"line": 2372, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/server/lib/cache-control.ts"],"sourcesContent":["import { CACHE_ONE_YEAR } from '../../lib/constants'\n\n/**\n * The revalidate option used internally for pages. A value of `false` means\n * that the page should not be revalidated. A number means that the page\n * should be revalidated after the given number of seconds (this also includes\n * `1` which means to revalidate after 1 second). A value of `0` is not a valid\n * value for this option.\n */\nexport type Revalidate = number | false\n\nexport interface CacheControl {\n  revalidate: Revalidate\n  expire: number | undefined\n}\n\nexport function getCacheControlHeader({\n  revalidate,\n  expire,\n}: CacheControl): string {\n  const swrHeader =\n    typeof revalidate === 'number' &&\n    expire !== undefined &&\n    revalidate < expire\n      ? `, stale-while-revalidate=${expire - revalidate}`\n      : ''\n\n  if (revalidate === 0) {\n    return 'private, no-cache, no-store, max-age=0, must-revalidate'\n  } else if (typeof revalidate === 'number') {\n    return `s-maxage=${revalidate}${swrHeader}`\n  }\n\n  return `s-maxage=${CACHE_ONE_YEAR}${swrHeader}`\n}\n"],"names":["CACHE_ONE_YEAR","getCacheControlHeader","revalidate","expire","swrHeader","undefined"],"mappings":";;;;AAAA,SAASA,cAAc,QAAQ,sBAAqB;;AAgB7C,SAASC,sBAAsB,EACpCC,UAAU,EACVC,MAAM,EACO;IACb,MAAMC,YACJ,OAAOF,eAAe,YACtBC,WAAWE,aACXH,aAAaC,SACT,CAAC,yBAAyB,EAAEA,SAASD,YAAY,GACjD;IAEN,IAAIA,eAAe,GAAG;QACpB,OAAO;IACT,OAAO,IAAI,OAAOA,eAAe,UAAU;QACzC,OAAO,CAAC,SAAS,EAAEA,aAAaE,WAAW;IAC7C;IAEA,OAAO,CAAC,SAAS,EAAEJ,yKAAAA,GAAiBI,WAAW;AACjD","ignoreList":[0]}},
    {"offset": {"line": 2391, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/server/send-payload.ts"],"sourcesContent":["import type { IncomingMessage, ServerResponse } from 'http'\nimport type RenderResult from './render-result'\nimport type { CacheControl } from './lib/cache-control'\n\nimport { isResSent } from '../shared/lib/utils'\nimport { generateETag } from './lib/etag'\nimport fresh from 'next/dist/compiled/fresh'\nimport { getCacheControlHeader } from './lib/cache-control'\nimport { HTML_CONTENT_TYPE_HEADER } from '../lib/constants'\n\nexport function sendEtagResponse(\n  req: IncomingMessage,\n  res: ServerResponse,\n  etag: string | undefined\n): boolean {\n  if (etag) {\n    /**\n     * The server generating a 304 response MUST generate any of the\n     * following header fields that would have been sent in a 200 (OK)\n     * response to the same request: Cache-Control, Content-Location, Date,\n     * ETag, Expires, and Vary. https://tools.ietf.org/html/rfc7232#section-4.1\n     */\n    res.setHeader('ETag', etag)\n  }\n\n  if (fresh(req.headers, { etag })) {\n    res.statusCode = 304\n    res.end()\n    return true\n  }\n\n  return false\n}\n\nexport async function sendRenderResult({\n  req,\n  res,\n  result,\n  generateEtags,\n  poweredByHeader,\n  cacheControl,\n}: {\n  req: IncomingMessage\n  res: ServerResponse\n  result: RenderResult\n  generateEtags: boolean\n  poweredByHeader: boolean\n  cacheControl: CacheControl | undefined\n}): Promise<void> {\n  if (isResSent(res)) {\n    return\n  }\n\n  if (poweredByHeader && result.contentType === HTML_CONTENT_TYPE_HEADER) {\n    res.setHeader('X-Powered-By', 'Next.js')\n  }\n\n  // If cache control is already set on the response we don't\n  // override it to allow users to customize it via next.config\n  if (cacheControl && !res.getHeader('Cache-Control')) {\n    res.setHeader('Cache-Control', getCacheControlHeader(cacheControl))\n  }\n\n  const payload = result.isDynamic ? null : result.toUnchunkedString()\n\n  if (generateEtags && payload !== null) {\n    const etag = generateETag(payload)\n    if (sendEtagResponse(req, res, etag)) {\n      return\n    }\n  }\n\n  if (!res.getHeader('Content-Type') && result.contentType) {\n    res.setHeader('Content-Type', result.contentType)\n  }\n\n  if (payload) {\n    res.setHeader('Content-Length', Buffer.byteLength(payload))\n  }\n\n  if (req.method === 'HEAD') {\n    res.end(null)\n    return\n  }\n\n  if (payload !== null) {\n    res.end(payload)\n    return\n  }\n\n  // Pipe the render result to the response after we get a writer for it.\n  await result.pipeToNodeResponse(res)\n}\n"],"names":["isResSent","generateETag","fresh","getCacheControlHeader","HTML_CONTENT_TYPE_HEADER","sendEtagResponse","req","res","etag","setHeader","headers","statusCode","end","sendRenderResult","result","generateEtags","poweredByHeader","cacheControl","contentType","getHeader","payload","isDynamic","toUnchunkedString","Buffer","byteLength","method","pipeToNodeResponse"],"mappings":";;;;;;AAIA,SAASA,SAAS,QAAQ,sBAAqB;AAC/C,SAASC,YAAY,QAAQ,aAAY;AACzC,OAAOC,WAAW,2BAA0B;AAC5C,SAASC,qBAAqB,QAAQ,sBAAqB;AAC3D,SAASC,wBAAwB,QAAQ,mBAAkB;;;;;;AAEpD,SAASC,iBACdC,GAAoB,EACpBC,GAAmB,EACnBC,IAAwB;IAExB,IAAIA,MAAM;QACR;;;;;KAKC,GACDD,IAAIE,SAAS,CAAC,QAAQD;IACxB;IAEA,QAAIN,qKAAAA,EAAMI,IAAII,OAAO,EAAE;QAAEF;IAAK,IAAI;QAChCD,IAAII,UAAU,GAAG;QACjBJ,IAAIK,GAAG;QACP,OAAO;IACT;IAEA,OAAO;AACT;AAEO,eAAeC,iBAAiB,EACrCP,GAAG,EACHC,GAAG,EACHO,MAAM,EACNC,aAAa,EACbC,eAAe,EACfC,YAAY,EAQb;IACC,QAAIjB,0KAAAA,EAAUO,MAAM;QAClB;IACF;IAEA,IAAIS,mBAAmBF,OAAOI,WAAW,KAAKd,mLAAAA,EAA0B;QACtEG,IAAIE,SAAS,CAAC,gBAAgB;IAChC;IAEA,2DAA2D;IAC3D,6DAA6D;IAC7D,IAAIQ,gBAAgB,CAACV,IAAIY,SAAS,CAAC,kBAAkB;QACnDZ,IAAIE,SAAS,CAAC,qBAAiBN,iMAAAA,EAAsBc;IACvD;IAEA,MAAMG,UAAUN,OAAOO,SAAS,GAAG,OAAOP,OAAOQ,iBAAiB;IAElE,IAAIP,iBAAiBK,YAAY,MAAM;QACrC,MAAMZ,WAAOP,4KAAAA,EAAamB;QAC1B,IAAIf,iBAAiBC,KAAKC,KAAKC,OAAO;YACpC;QACF;IACF;IAEA,IAAI,CAACD,IAAIY,SAAS,CAAC,mBAAmBL,OAAOI,WAAW,EAAE;QACxDX,IAAIE,SAAS,CAAC,gBAAgBK,OAAOI,WAAW;IAClD;IAEA,IAAIE,SAAS;QACXb,IAAIE,SAAS,CAAC,kBAAkBc,OAAOC,UAAU,CAACJ;IACpD;IAEA,IAAId,IAAImB,MAAM,KAAK,QAAQ;QACzBlB,IAAIK,GAAG,CAAC;QACR;IACF;IAEA,IAAIQ,YAAY,MAAM;QACpBb,IAAIK,GAAG,CAACQ;QACR;IACF;IAEA,uEAAuE;IACvE,MAAMN,OAAOY,kBAAkB,CAACnB;AAClC","ignoreList":[0]}},
    {"offset": {"line": 2464, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/dist/compiled/bytes/index.js"],"sourcesContent":["(()=>{\"use strict\";var e={56:e=>{\n/*!\n * bytes\n * Copyright(c) 2012-2014 TJ Holowaychuk\n * Copyright(c) 2015 Jed Watson\n * MIT Licensed\n */\ne.exports=bytes;e.exports.format=format;e.exports.parse=parse;var r=/\\B(?=(\\d{3})+(?!\\d))/g;var a=/(?:\\.0*|(\\.[^0]+)0+)$/;var t={b:1,kb:1<<10,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)};var i=/^((-|\\+)?(\\d+(?:\\.\\d+)?)) *(kb|mb|gb|tb|pb)$/i;function bytes(e,r){if(typeof e===\"string\"){return parse(e)}if(typeof e===\"number\"){return format(e,r)}return null}function format(e,i){if(!Number.isFinite(e)){return null}var n=Math.abs(e);var o=i&&i.thousandsSeparator||\"\";var s=i&&i.unitSeparator||\"\";var f=i&&i.decimalPlaces!==undefined?i.decimalPlaces:2;var u=Boolean(i&&i.fixedDecimals);var p=i&&i.unit||\"\";if(!p||!t[p.toLowerCase()]){if(n>=t.pb){p=\"PB\"}else if(n>=t.tb){p=\"TB\"}else if(n>=t.gb){p=\"GB\"}else if(n>=t.mb){p=\"MB\"}else if(n>=t.kb){p=\"KB\"}else{p=\"B\"}}var b=e/t[p.toLowerCase()];var l=b.toFixed(f);if(!u){l=l.replace(a,\"$1\")}if(o){l=l.split(\".\").map((function(e,a){return a===0?e.replace(r,o):e})).join(\".\")}return l+s+p}function parse(e){if(typeof e===\"number\"&&!isNaN(e)){return e}if(typeof e!==\"string\"){return null}var r=i.exec(e);var a;var n=\"b\";if(!r){a=parseInt(e,10);n=\"b\"}else{a=parseFloat(r[1]);n=r[4].toLowerCase()}return Math.floor(t[n]*a)}}};var r={};function __nccwpck_require__(a){var t=r[a];if(t!==undefined){return t.exports}var i=r[a]={exports:{}};var n=true;try{e[a](i,i.exports,__nccwpck_require__);n=false}finally{if(n)delete r[a]}return i.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var a=__nccwpck_require__(56);module.exports=a})();"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2580, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/shared/lib/size-limit.ts"],"sourcesContent":["import type { SizeLimit } from '../../types'\n\nexport const DEFAULT_MAX_POSTPONED_STATE_SIZE: SizeLimit = '100 MB'\n\nfunction parseSizeLimit(size: SizeLimit): number | undefined {\n  const bytes = (\n    require('next/dist/compiled/bytes') as typeof import('next/dist/compiled/bytes')\n  ).parse(size)\n  if (bytes === null || isNaN(bytes) || bytes < 1) {\n    return undefined\n  }\n  return bytes\n}\n\n/**\n * Parses the maxPostponedStateSize config value, using the default if not provided.\n */\nexport function parseMaxPostponedStateSize(\n  size: SizeLimit | undefined\n): number | undefined {\n  return parseSizeLimit(size ?? DEFAULT_MAX_POSTPONED_STATE_SIZE)\n}\n"],"names":["DEFAULT_MAX_POSTPONED_STATE_SIZE","parseSizeLimit","size","bytes","require","parse","isNaN","undefined","parseMaxPostponedStateSize"],"mappings":";;;;;;AAEO,MAAMA,mCAA8C,SAAQ;AAEnE,SAASC,eAAeC,IAAe;IACrC,MAAMC,QACJC,QAAQ,mGACRC,KAAK,CAACH;IACR,IAAIC,UAAU,QAAQG,MAAMH,UAAUA,QAAQ,GAAG;QAC/C,OAAOI;IACT;IACA,OAAOJ;AACT;AAKO,SAASK,2BACdN,IAA2B;IAE3B,OAAOD,eAAeC,QAAQF;AAChC","ignoreList":[0]}},
    {"offset": {"line": 2623, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/templates/Minimal/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/templates/Minimal/index.tsx"],"sourcesContent":["import React from 'react'\n\nimport './index.scss'\n\nconst baseClass = 'template-minimal'\n\nexport type MinimalTemplateProps = {\n  children?: React.ReactNode\n  className?: string\n  style?: React.CSSProperties\n  width?: 'normal' | 'wide'\n}\n\nexport const MinimalTemplate: React.FC<MinimalTemplateProps> = (props) => {\n  const { children, className, style = {}, width = 'normal' } = props\n\n  const classes = [className, baseClass, `${baseClass}--width-${width}`].filter(Boolean).join(' ')\n\n  return (\n    <section className={classes} style={style}>\n      <div className={`${baseClass}__wrap`}>{children}</div>\n    </section>\n  )\n}\n"],"names":["React","baseClass","MinimalTemplate","props","children","className","style","width","classes","filter","Boolean","join","_jsx"],"mappings":";;;;;AAAA,OAAOA,KAAA,MAAW;;;AAIlB,MAAMC,SAAA,GAAY;AASX,MAAMC,eAAA,IAAmDC,KAAA;IAC9D,MAAM,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,KAAA,GAAQ,CAAC,CAAC,EAAEC,KAAA,GAAQ,QAAA,EAAU,GAAGJ,KAAA;IAE9D,MAAMK,OAAA,GAAU;QAACH,SAAA;QAAWJ,SAAA;QAAW,GAAGA,SAAA,CAAA,QAAA,EAAoBM,KAAA,EAAO;KAAC,CAACE,MAAM,CAACC,OAAA,EAASC,IAAI,CAAC;IAE5F,OAAA,WAAA,OACEC,8NAAA,EAAC,WAAA;QAAQP,SAAA,EAAWG,OAAA;QAASF,KAAA,EAAOA,KAAA;kBAClC,WAAA,OAAAM,8NAAA,EAAC,OAAA;YAAIP,SAAA,EAAW,GAAGJ,SAAA,CAAA,MAAA,CAAiB;sBAAGG;;;AAG7C","ignoreList":[]}},
    {"offset": {"line": 2654, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/utilities/handleAuthRedirect.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/utilities/handleAuthRedirect.ts"],"sourcesContent":["import type { TypedUser } from 'payload'\n\nimport { formatAdminURL } from 'payload/shared'\nimport * as qs from 'qs-esm'\n\ntype Args = {\n  config\n  route: string\n  searchParams: { [key: string]: string | string[] }\n  user?: TypedUser\n}\n\nexport const handleAuthRedirect = ({ config, route, searchParams, user }: Args): string => {\n  const {\n    admin: {\n      routes: { login: loginRouteFromConfig, unauthorized: unauthorizedRoute },\n    },\n    routes: { admin: adminRoute },\n  } = config\n\n  if (searchParams && 'redirect' in searchParams) {\n    delete searchParams.redirect\n  }\n\n  const redirectRoute =\n    (route !== adminRoute ? route : '') +\n    (Object.keys(searchParams ?? {}).length > 0\n      ? `${qs.stringify(searchParams, { addQueryPrefix: true })}`\n      : '')\n\n  const redirectTo = formatAdminURL({\n    adminRoute,\n    path: user ? unauthorizedRoute : loginRouteFromConfig,\n  })\n\n  const parsedLoginRouteSearchParams = qs.parse(redirectTo.split('?')[1] ?? '')\n\n  const searchParamsWithRedirect = `${qs.stringify(\n    {\n      ...parsedLoginRouteSearchParams,\n      ...(redirectRoute ? { redirect: redirectRoute } : {}),\n    },\n    { addQueryPrefix: true },\n  )}`\n\n  return `${redirectTo.split('?', 1)[0]}${searchParamsWithRedirect}`\n}\n"],"names":["formatAdminURL","qs","handleAuthRedirect","config","route","searchParams","user","admin","routes","login","loginRouteFromConfig","unauthorized","unauthorizedRoute","adminRoute","redirect","redirectRoute","Object","keys","length","stringify","addQueryPrefix","redirectTo","path","parsedLoginRouteSearchParams","parse","split","searchParamsWithRedirect"],"mappings":";;;;AAEA,SAASA,cAAc,QAAQ;;AAC/B,YAAYC,EAAA,MAAQ;;;;;;;AASb,MAAMC,kBAAA,GAAqBA,CAAC,EAAEC,MAAM,EAAEC,KAAK,EAAEC,YAAY,EAAEC,IAAAA,EAAY;IAC5E,MAAM,EACJC,KAAA,EAAO,EACLC,MAAA,EAAQ,EAAEC,KAAA,EAAOC,oBAAoB,EAAEC,YAAA,EAAcC,iBAAAA,EAAiB,EACvE,EACDJ,MAAA,EAAQ,EAAED,KAAA,EAAOM,UAAAA,EAAU,EAC5B,GAAGV,MAAA;IAEJ,IAAIE,YAAA,IAAgB,cAAcA,YAAA,EAAc;QAC9C,OAAOA,YAAA,CAAaS,QAAQ;IAC9B;IAEA,MAAMC,aAAA,GACJ,CAACX,KAAA,KAAUS,UAAA,GAAaT,KAAA,GAAQ,EAAC,IAAA,CAChCY,MAAA,CAAOC,IAAI,CAACZ,YAAA,IAAgB,CAAC,GAAGa,MAAM,GAAG,IACtC,GAAGjB,EAAA,CAAGkB,uJAAS,CAACd,YAAA,EAAc;QAAEe,cAAA,EAAgB;IAAK,IAAI,GACzD,EAAC;IAEP,MAAMC,UAAA,OAAarB,kMAAA,EAAe;QAChCa,UAAA;QACAS,IAAA,EAAMhB,IAAA,GAAOM,iBAAA,GAAoBF;IACnC;IAEA,MAAMa,4BAAA,GAA+BtB,EAAA,CAAGuB,+IAAK,CAACH,UAAA,CAAWI,KAAK,CAAC,IAAI,CAAC,EAAE,IAAI;IAE1E,MAAMC,wBAAA,GAA2B,GAAGzB,EAAA,CAAGkB,uJAAS,CAC9C;QACE,GAAGI,4BAA4B;QAC/B,GAAIR,aAAA,GAAgB;YAAED,QAAA,EAAUC;QAAc,IAAI,CAAC,CAAC;IACtD,GACA;QAAEK,cAAA,EAAgB;IAAK,IACtB;IAEH,OAAO,GAAGC,UAAA,CAAWI,KAAK,CAAC,KAAK,EAAE,CAAC,EAAE,GAAGC,wBAAA,EAA0B;AACpE","ignoreList":[]}},
    {"offset": {"line": 2695, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/utilities/getRouteWithoutAdmin.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/utilities/getRouteWithoutAdmin.ts"],"sourcesContent":["export const getRouteWithoutAdmin = ({\n  adminRoute,\n  route,\n}: {\n  adminRoute: string\n  route: string\n}): string => {\n  return adminRoute && adminRoute !== '/' ? route.replace(adminRoute, '') : route\n}\n"],"names":["getRouteWithoutAdmin","adminRoute","route","replace"],"mappings":";;;;AAAO,MAAMA,oBAAA,GAAuBA,CAAC,EACnCC,UAAU,EACVC,KAAAA,EAID;IACC,OAAOD,UAAA,IAAcA,UAAA,KAAe,MAAMC,KAAA,CAAMC,OAAO,CAACF,UAAA,EAAY,MAAMC,KAAA;AAC5E","ignoreList":[]}},
    {"offset": {"line": 2706, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/utilities/isCustomAdminView.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/utilities/isCustomAdminView.ts"],"sourcesContent":["import type { SanitizedConfig } from 'payload'\n\nimport { getRouteWithoutAdmin } from './getRouteWithoutAdmin.js'\n\n/**\n * Returns an array of views marked with 'public: true' in the config\n */\nexport const isCustomAdminView = ({\n  adminRoute,\n  config,\n  route,\n}: {\n  adminRoute: string\n  config: SanitizedConfig\n  route: string\n}): boolean => {\n  if (config.admin?.components?.views) {\n    const isPublicAdminRoute = Object.entries(config.admin.components.views).some(([_, view]) => {\n      const routeWithoutAdmin = getRouteWithoutAdmin({ adminRoute, route })\n\n      if (view.exact) {\n        if (routeWithoutAdmin === view.path) {\n          return true\n        }\n      } else {\n        if (routeWithoutAdmin.startsWith(view.path)) {\n          return true\n        }\n      }\n      return false\n    })\n    return isPublicAdminRoute\n  }\n  return false\n}\n"],"names":["getRouteWithoutAdmin","isCustomAdminView","adminRoute","config","route","admin","components","views","isPublicAdminRoute","Object","entries","some","_","view","routeWithoutAdmin","exact","path","startsWith"],"mappings":";;;;AAEA,SAASA,oBAAoB,QAAQ;;AAK9B,MAAMC,iBAAA,GAAoBA,CAAC,EAChCC,UAAU,EACVC,MAAM,EACNC,KAAAA,EAKD;IACC,IAAID,MAAA,CAAOE,KAAK,EAAEC,UAAA,EAAYC,KAAA,EAAO;QACnC,MAAMC,kBAAA,GAAqBC,MAAA,CAAOC,OAAO,CAACP,MAAA,CAAOE,KAAK,CAACC,UAAU,CAACC,KAAK,EAAEI,IAAI,CAAC,CAAC,CAACC,CAAA,EAAGC,IAAA,CAAK;YACtF,MAAMC,iBAAA,OAAoBd,yMAAA,EAAqB;gBAAEE,UAAA;gBAAYE;YAAM;YAEnE,IAAIS,IAAA,CAAKE,KAAK,EAAE;gBACd,IAAID,iBAAA,KAAsBD,IAAA,CAAKG,IAAI,EAAE;oBACnC,OAAO;gBACT;YACF,OAAO;gBACL,IAAIF,iBAAA,CAAkBG,UAAU,CAACJ,IAAA,CAAKG,IAAI,GAAG;oBAC3C,OAAO;gBACT;YACF;YACA,OAAO;QACT;QACA,OAAOR,kBAAA;IACT;IACA,OAAO;AACT","ignoreList":[]}},
    {"offset": {"line": 2738, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/utilities/isPublicAdminRoute.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/utilities/isPublicAdminRoute.ts"],"sourcesContent":["import type { SanitizedConfig } from 'payload'\n\nimport { getRouteWithoutAdmin } from './getRouteWithoutAdmin.js'\n\n// Routes that require admin authentication\nconst publicAdminRoutes: (keyof Pick<\n  SanitizedConfig['admin']['routes'],\n  'createFirstUser' | 'forgot' | 'inactivity' | 'login' | 'logout' | 'reset' | 'unauthorized'\n>)[] = [\n  'createFirstUser',\n  'forgot',\n  'login',\n  'logout',\n  'forgot',\n  'inactivity',\n  'unauthorized',\n  'reset',\n]\n\nexport const isPublicAdminRoute = ({\n  adminRoute,\n  config,\n  route,\n}: {\n  adminRoute: string\n  config: SanitizedConfig\n  route: string\n}): boolean => {\n  const isPublicAdminRoute = publicAdminRoutes.some((routeSegment) => {\n    const segment = config.admin?.routes?.[routeSegment] || routeSegment\n    const routeWithoutAdmin = getRouteWithoutAdmin({ adminRoute, route })\n\n    if (routeWithoutAdmin.startsWith(segment)) {\n      return true\n    } else if (routeWithoutAdmin.includes('/verify/')) {\n      return true\n    } else {\n      return false\n    }\n  })\n\n  return isPublicAdminRoute\n}\n"],"names":["getRouteWithoutAdmin","publicAdminRoutes","isPublicAdminRoute","adminRoute","config","route","some","routeSegment","segment","admin","routes","routeWithoutAdmin","startsWith","includes"],"mappings":";;;;AAEA,SAASA,oBAAoB,QAAQ;;AAErC,2CAAA;AACA,MAAMC,iBAAA,GAGC;IACL;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAMC,kBAAA,GAAqBA,CAAC,EACjCC,UAAU,EACVC,MAAM,EACNC,KAAAA,EAKD;IACC,MAAMH,kBAAA,GAAqBD,iBAAA,CAAkBK,IAAI,EAAEC,YAAA;QACjD,MAAMC,OAAA,GAAUJ,MAAA,CAAOK,KAAK,EAAEC,MAAA,EAAA,CAASH,YAAA,CAAa,IAAIA,YAAA;QACxD,MAAMI,iBAAA,OAAoBX,yMAAA,EAAqB;YAAEG,UAAA;YAAYE;QAAM;QAEnE,IAAIM,iBAAA,CAAkBC,UAAU,CAACJ,OAAA,GAAU;YACzC,OAAO;QACT,OAAO,IAAIG,iBAAA,CAAkBE,QAAQ,CAAC,aAAa;YACjD,OAAO;QACT,OAAO;YACL,OAAO;QACT;IACF;IAEA,OAAOX,kBAAA;AACT","ignoreList":[]}},
    {"offset": {"line": 2778, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/ui/dist/forms/fieldSchemasToFormState/renderField.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/src/forms/fieldSchemasToFormState/renderField.tsx"],"sourcesContent":["import type {\n  ClientComponentProps,\n  ClientField,\n  FieldPaths,\n  FlattenedBlock,\n  ServerComponentProps,\n} from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { createClientField, MissingEditorProp } from 'payload'\nimport { fieldIsHiddenOrDisabled } from 'payload/shared'\n\nimport type { RenderFieldMethod } from './types.js'\n\nimport { RenderServerComponent } from '../../elements/RenderServerComponent/index.js'\n\n// eslint-disable-next-line payload/no-imports-from-exports-dir -- MUST reference the exports dir: https://github.com/payloadcms/payload/issues/12002#issuecomment-2791493587\nimport { FieldDescription, WatchCondition } from '../../exports/client/index.js'\n\nconst defaultUIFieldComponentKeys: Array<'Cell' | 'Description' | 'Field' | 'Filter'> = [\n  'Cell',\n  'Description',\n  'Field',\n  'Filter',\n]\n\nexport const renderField: RenderFieldMethod = ({\n  id,\n  clientFieldSchemaMap,\n  collectionSlug,\n  data,\n  fieldConfig,\n  fieldSchemaMap,\n  fieldState,\n  forceCreateClientField,\n  formState,\n  indexPath,\n  lastRenderedPath,\n  mockRSCs,\n  operation,\n  parentPath,\n  parentSchemaPath,\n  path,\n  permissions,\n  preferences,\n  readOnly: readOnlyFromProps,\n  renderAllFields,\n  req,\n  schemaPath,\n  siblingData,\n}) => {\n  // Fields with beforeInput/afterInput need custom components created, so they require render\n  const hasBeforeOrAfterInput =\n    fieldConfig.admin?.components &&\n    ('beforeInput' in fieldConfig.admin.components || 'afterInput' in fieldConfig.admin.components)\n\n  const requiresRender =\n    renderAllFields || !lastRenderedPath || lastRenderedPath !== path || hasBeforeOrAfterInput\n\n  if (!requiresRender && fieldConfig.type !== 'array' && fieldConfig.type !== 'blocks') {\n    return\n  }\n\n  const clientField =\n    clientFieldSchemaMap && !forceCreateClientField\n      ? (clientFieldSchemaMap.get(schemaPath) as ClientField)\n      : createClientField({\n          defaultIDType: req.payload.config.db.defaultIDType,\n          field: fieldConfig,\n          i18n: req.i18n,\n          importMap: req.payload.importMap,\n        })\n\n  const clientProps: ClientComponentProps & Partial<FieldPaths> = {\n    field: clientField,\n    path,\n    permissions,\n    readOnly:\n      readOnlyFromProps === true\n        ? true\n        : typeof permissions === 'boolean'\n          ? !permissions\n          : !permissions?.[operation],\n    schemaPath,\n  }\n\n  if (fieldState?.customComponents) {\n    clientProps.customComponents = fieldState.customComponents\n  }\n\n  // fields with subfields\n  if (['array', 'blocks', 'collapsible', 'group', 'row', 'tabs'].includes(fieldConfig.type)) {\n    clientProps.indexPath = indexPath\n    clientProps.parentPath = parentPath\n    clientProps.parentSchemaPath = parentSchemaPath\n  }\n\n  const serverProps: ServerComponentProps = {\n    id,\n    clientField,\n    clientFieldSchemaMap,\n    data,\n    field: fieldConfig,\n    fieldSchemaMap,\n    permissions,\n    // TODO: Should we pass explicit values? initialValue, value, valid\n    // value and initialValue should be typed\n    collectionSlug,\n    formState,\n    i18n: req.i18n,\n    operation,\n    payload: req.payload,\n    preferences,\n    req,\n    siblingData,\n    user: req.user,\n    value: 'name' in fieldConfig && data?.[fieldConfig.name],\n  }\n\n  switch (fieldConfig.type) {\n    case 'array': {\n      fieldState?.rows?.forEach((row, rowIndex) => {\n        const rowLastRenderedPath = row.lastRenderedPath\n\n        const rowPath = `${path}.${rowIndex}`\n\n        const rowRequiresRender =\n          renderAllFields || !rowLastRenderedPath || rowLastRenderedPath !== rowPath\n\n        if (!rowRequiresRender) {\n          return\n        }\n\n        row.lastRenderedPath = rowPath\n\n        if (fieldConfig.admin?.components && 'RowLabel' in fieldConfig.admin.components) {\n          if (!row.customComponents) {\n            row.customComponents = {}\n          }\n\n          row.customComponents.RowLabel = !mockRSCs\n            ? RenderServerComponent({\n                clientProps,\n                Component: fieldConfig.admin.components.RowLabel,\n                importMap: req.payload.importMap,\n                key: `${rowIndex}`,\n                serverProps: {\n                  ...serverProps,\n                  rowLabel: `${getTranslation(fieldConfig.labels.singular, req.i18n)} ${String(\n                    rowIndex + 1,\n                  ).padStart(2, '0')}`,\n                  rowNumber: rowIndex + 1,\n                },\n              })\n            : 'Mock'\n        }\n      })\n\n      break\n    }\n\n    case 'blocks': {\n      fieldState?.rows?.forEach((row, rowIndex) => {\n        const rowLastRenderedPath = row.lastRenderedPath\n\n        const rowPath = `${path}.${rowIndex}`\n\n        const rowRequiresRender =\n          renderAllFields || !rowLastRenderedPath || rowLastRenderedPath !== rowPath\n\n        if (!rowRequiresRender) {\n          return\n        }\n\n        row.lastRenderedPath = rowPath\n\n        const blockTypeToMatch: string = row.blockType\n\n        const blockConfig =\n          req.payload.blocks[blockTypeToMatch] ??\n          ((fieldConfig.blockReferences ?? fieldConfig.blocks).find(\n            (block) => typeof block !== 'string' && block.slug === blockTypeToMatch,\n          ) as FlattenedBlock | undefined)\n\n        if (blockConfig.admin?.components && 'Label' in blockConfig.admin.components) {\n          if (!fieldState.rows[rowIndex]?.customComponents) {\n            fieldState.rows[rowIndex].customComponents = {}\n          }\n\n          fieldState.rows[rowIndex].customComponents.RowLabel = !mockRSCs\n            ? RenderServerComponent({\n                clientProps,\n                Component: blockConfig.admin.components.Label,\n                importMap: req.payload.importMap,\n                key: `${rowIndex}`,\n                serverProps: {\n                  ...serverProps,\n                  blockType: row.blockType,\n                  rowLabel: `${getTranslation(blockConfig.labels.singular, req.i18n)} ${String(\n                    rowIndex + 1,\n                  ).padStart(2, '0')}`,\n                  rowNumber: rowIndex + 1,\n                },\n              })\n            : 'Mock'\n        }\n      })\n\n      break\n    }\n  }\n\n  if (!requiresRender) {\n    return\n  }\n\n  /**\n   * Set the `lastRenderedPath` equal to the new path of the field, this will prevent it from being rendered again\n   */\n  fieldState.lastRenderedPath = path\n\n  if (fieldIsHiddenOrDisabled(clientField)) {\n    return\n  }\n\n  /**\n   * Only create the `customComponents` object if needed.\n   * This will prevent unnecessary data from being transferred to the client.\n   */\n  if (fieldConfig.admin) {\n    if (\n      (Object.keys(fieldConfig.admin.components || {}).length > 0 ||\n        fieldConfig.type === 'richText' ||\n        ('description' in fieldConfig.admin &&\n          typeof fieldConfig.admin.description === 'function')) &&\n      !fieldState?.customComponents\n    ) {\n      fieldState.customComponents = {}\n    }\n  }\n\n  switch (fieldConfig.type) {\n    case 'richText': {\n      if (!fieldConfig?.editor) {\n        throw new MissingEditorProp(fieldConfig) // while we allow disabling editor functionality, you should not have any richText fields defined if you do not have an editor\n      }\n\n      if (typeof fieldConfig?.editor === 'function') {\n        throw new Error('Attempted to access unsanitized rich text editor.')\n      }\n\n      if (!fieldConfig.admin) {\n        fieldConfig.admin = {}\n      }\n\n      if (!fieldConfig.admin.components) {\n        fieldConfig.admin.components = {}\n      }\n\n      fieldState.customComponents.Field = !mockRSCs ? (\n        <WatchCondition path={path}>\n          {RenderServerComponent({\n            clientProps,\n            Component: fieldConfig.editor.FieldComponent,\n            importMap: req.payload.importMap,\n            serverProps: {\n              ...serverProps,\n              // Manually inject lexical-specific `sanitizedEditorConfig` server prop, in order to reduce the size of the field schema.\n              // Otherwise, the editorConfig would be included twice - once on the top-level, and once as part of the `FieldComponent` server props.\n              sanitizedEditorConfig:\n                'editorConfig' in fieldConfig.editor ? fieldConfig.editor.editorConfig : undefined,\n            },\n          })}\n        </WatchCondition>\n      ) : (\n        'Mock'\n      )\n\n      break\n    }\n\n    case 'ui': {\n      if (fieldConfig?.admin?.components) {\n        // Render any extra, untyped components\n        for (const key in fieldConfig.admin.components) {\n          if (key in defaultUIFieldComponentKeys) {\n            continue\n          }\n\n          const Component = fieldConfig.admin.components[key]\n\n          fieldState.customComponents[key] = !mockRSCs\n            ? RenderServerComponent({\n                clientProps,\n                Component,\n                importMap: req.payload.importMap,\n                key: `field.admin.components.${key}`,\n                serverProps,\n              })\n            : 'Mock'\n        }\n      }\n      break\n    }\n\n    default: {\n      break\n    }\n  }\n\n  if (fieldConfig.admin) {\n    if (\n      'description' in fieldConfig.admin &&\n      typeof fieldConfig.admin?.description === 'function'\n    ) {\n      fieldState.customComponents.Description = !mockRSCs ? (\n        <FieldDescription\n          description={fieldConfig.admin?.description({\n            i18n: req.i18n,\n            t: req.i18n.t,\n          })}\n          path={path}\n        />\n      ) : (\n        'Mock'\n      )\n    }\n\n    if (fieldConfig.admin?.components) {\n      if ('afterInput' in fieldConfig.admin.components) {\n        fieldState.customComponents.AfterInput = !mockRSCs\n          ? RenderServerComponent({\n              clientProps,\n              Component: fieldConfig.admin.components.afterInput,\n              importMap: req.payload.importMap,\n              key: `field.admin.components.afterInput.${path}`,\n              serverProps,\n            })\n          : 'Mock'\n      }\n\n      if ('beforeInput' in fieldConfig.admin.components) {\n        fieldState.customComponents.BeforeInput = !mockRSCs\n          ? RenderServerComponent({\n              clientProps,\n              Component: fieldConfig.admin.components.beforeInput,\n              importMap: req.payload.importMap,\n              key: `field.admin.components.beforeInput.${path}`,\n              serverProps,\n            })\n          : 'Mock'\n      }\n\n      if ('Description' in fieldConfig.admin.components) {\n        fieldState.customComponents.Description = !mockRSCs\n          ? RenderServerComponent({\n              clientProps,\n              Component: fieldConfig.admin.components.Description,\n              importMap: req.payload.importMap,\n              key: 'field.admin.components.Description',\n              serverProps,\n            })\n          : 'Mock'\n      }\n\n      if ('Error' in fieldConfig.admin.components) {\n        fieldState.customComponents.Error = !mockRSCs\n          ? RenderServerComponent({\n              clientProps,\n              Component: fieldConfig.admin.components.Error,\n              importMap: req.payload.importMap,\n              key: 'field.admin.components.Error',\n              serverProps,\n            })\n          : 'Mock'\n      }\n\n      if ('Label' in fieldConfig.admin.components) {\n        fieldState.customComponents.Label = !mockRSCs\n          ? RenderServerComponent({\n              clientProps,\n              Component: fieldConfig.admin.components.Label,\n              importMap: req.payload.importMap,\n              key: 'field.admin.components.Label',\n              serverProps,\n            })\n          : 'Mock'\n      }\n\n      if ('Field' in fieldConfig.admin.components) {\n        fieldState.customComponents.Field = !mockRSCs ? (\n          <WatchCondition path={path}>\n            {RenderServerComponent({\n              clientProps,\n              Component: fieldConfig.admin.components.Field,\n              importMap: req.payload.importMap,\n              key: 'field.admin.components.Field',\n              serverProps,\n            })}\n          </WatchCondition>\n        ) : (\n          'Mock'\n        )\n      }\n    }\n  }\n}\n"],"names":["getTranslation","createClientField","MissingEditorProp","fieldIsHiddenOrDisabled","RenderServerComponent","FieldDescription","WatchCondition","defaultUIFieldComponentKeys","renderField","id","clientFieldSchemaMap","collectionSlug","data","fieldConfig","fieldSchemaMap","fieldState","forceCreateClientField","formState","indexPath","lastRenderedPath","mockRSCs","operation","parentPath","parentSchemaPath","path","permissions","preferences","readOnly","readOnlyFromProps","renderAllFields","req","schemaPath","siblingData","hasBeforeOrAfterInput","admin","components","requiresRender","type","clientField","get","defaultIDType","payload","config","db","field","i18n","importMap","clientProps","customComponents","includes","serverProps","user","value","name","rows","forEach","row","rowIndex","rowLastRenderedPath","rowPath","rowRequiresRender","RowLabel","Component","key","rowLabel","labels","singular","String","padStart","rowNumber","blockTypeToMatch","blockType","blockConfig","blocks","blockReferences","find","block","slug","Label","Object","keys","length","description","editor","Error","Field","_jsx","FieldComponent","sanitizedEditorConfig","editorConfig","undefined","Description","t","AfterInput","afterInput","BeforeInput","beforeInput"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 3077, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/ui/dist/utilities/handleFormStateLocking.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/src/utilities/handleFormStateLocking.ts"],"sourcesContent":["import type { PayloadRequest, TypedUser } from 'payload'\n\ntype Args = {\n  collectionSlug?: string\n  globalSlug?: string\n  id?: number | string\n  req: PayloadRequest\n  updateLastEdited?: boolean\n}\n\ntype Result = {\n  isLocked: boolean\n  lastEditedAt: string\n  user: TypedUser\n}\n\nconst lockDurationDefault = 300 // Default 5 minutes in seconds\n\nexport const handleFormStateLocking = async ({\n  id,\n  collectionSlug,\n  globalSlug,\n  req,\n  updateLastEdited,\n}: Args): Promise<Result> => {\n  let result: Result\n\n  // Check if the locked-documents collection exists\n  if (!req.payload.collections?.['payload-locked-documents']) {\n    // If the collection doesn't exist, locking is not available\n    return result\n  }\n\n  if (id || globalSlug) {\n    let lockedDocumentQuery\n\n    if (collectionSlug) {\n      lockedDocumentQuery = {\n        and: [\n          { 'document.relationTo': { equals: collectionSlug } },\n          { 'document.value': { equals: id } },\n        ],\n      }\n    } else if (globalSlug) {\n      lockedDocumentQuery = {\n        and: [{ globalSlug: { equals: globalSlug } }],\n      }\n    }\n\n    const lockDocumentsProp = collectionSlug\n      ? req.payload.collections?.[collectionSlug]?.config.lockDocuments\n      : req.payload.config.globals.find((g) => g.slug === globalSlug)?.lockDocuments\n\n    const lockDuration =\n      typeof lockDocumentsProp === 'object' ? lockDocumentsProp.duration : lockDurationDefault\n    const lockDurationInMilliseconds = lockDuration * 1000\n    const now = new Date().getTime()\n\n    if (lockedDocumentQuery) {\n      // Query where the lock is newer than the current time minus the lock duration\n      lockedDocumentQuery.and.push({\n        updatedAt: {\n          greater_than: new Date(now - lockDurationInMilliseconds).toISOString(),\n        },\n      })\n\n      const lockedDocument = await req.payload.find({\n        collection: 'payload-locked-documents',\n        depth: 1,\n        limit: 1,\n        overrideAccess: false,\n        pagination: false,\n        user: req.user,\n        where: lockedDocumentQuery,\n      })\n\n      if (lockedDocument.docs && lockedDocument.docs.length > 0) {\n        result = {\n          isLocked: true,\n          lastEditedAt: lockedDocument.docs[0]?.updatedAt,\n          user: lockedDocument.docs[0]?.user?.value,\n        }\n\n        const lockOwnerID =\n          typeof lockedDocument.docs[0]?.user?.value === 'object'\n            ? lockedDocument.docs[0]?.user?.value?.id\n            : lockedDocument.docs[0]?.user?.value\n        // Should only update doc if the incoming / current user is also the owner of the locked doc\n        if (updateLastEdited && req.user && lockOwnerID === req.user.id) {\n          await req.payload.db.updateOne({\n            id: lockedDocument.docs[0].id,\n            collection: 'payload-locked-documents',\n            data: {},\n            returning: false,\n          })\n        }\n      } else {\n        // If NO ACTIVE lock document exists, first delete any expired locks and then create a fresh lock\n        // Where updatedAt is older than the duration that is specified in the config\n        let deleteExpiredLocksQuery\n\n        if (collectionSlug) {\n          deleteExpiredLocksQuery = {\n            and: [\n              { 'document.relationTo': { equals: collectionSlug } },\n              {\n                updatedAt: {\n                  less_than: new Date(now - lockDurationInMilliseconds).toISOString(),\n                },\n              },\n            ],\n          }\n        } else if (globalSlug) {\n          deleteExpiredLocksQuery = {\n            and: [\n              { globalSlug: { equals: globalSlug } },\n              {\n                updatedAt: {\n                  less_than: new Date(now - lockDurationInMilliseconds).toISOString(),\n                },\n              },\n            ],\n          }\n        }\n\n        await req.payload.db.deleteMany({\n          collection: 'payload-locked-documents',\n          where: deleteExpiredLocksQuery,\n        })\n\n        await req.payload.db.create({\n          collection: 'payload-locked-documents',\n          data: {\n            document: collectionSlug\n              ? {\n                  relationTo: collectionSlug,\n                  value: id,\n                }\n              : undefined,\n            globalSlug: globalSlug ? globalSlug : undefined,\n            user: {\n              relationTo: req.user.collection,\n              value: req.user.id,\n            },\n          },\n          returning: false,\n        })\n\n        result = {\n          isLocked: true,\n          lastEditedAt: new Date().toISOString(),\n          user: req.user,\n        }\n      }\n    }\n  }\n\n  return result\n}\n"],"names":["lockDurationDefault","handleFormStateLocking","id","collectionSlug","globalSlug","req","updateLastEdited","result","payload","collections","lockedDocumentQuery","and","equals","lockDocumentsProp","config","lockDocuments","globals","find","g","slug","lockDuration","duration","lockDurationInMilliseconds","now","Date","getTime","push","updatedAt","greater_than","toISOString","lockedDocument","collection","depth","limit","overrideAccess","pagination","user","where","docs","length","isLocked","lastEditedAt","value","lockOwnerID","db","updateOne","data","returning","deleteExpiredLocksQuery","less_than","deleteMany","create","document","relationTo","undefined"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 3222, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/ui/dist/utilities/handleLivePreview.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/src/utilities/handleLivePreview.ts"],"sourcesContent":["import type {\n  CollectionConfig,\n  GlobalConfig,\n  LivePreviewConfig,\n  LivePreviewURLType,\n  Operation,\n  PayloadRequest,\n  SanitizedConfig,\n} from 'payload'\n\nexport const getLivePreviewConfig = ({\n  collectionConfig,\n  config,\n  globalConfig,\n  isLivePreviewEnabled,\n}: {\n  collectionConfig?: CollectionConfig\n  config: SanitizedConfig\n  globalConfig?: GlobalConfig\n  isLivePreviewEnabled: boolean\n}) => ({\n  ...(isLivePreviewEnabled ? config.admin.livePreview : {}),\n  ...(collectionConfig?.admin?.livePreview || {}),\n  ...(globalConfig?.admin?.livePreview || {}),\n})\n\n/**\n * Multi-level check to determine whether live preview is enabled on a collection or global.\n * For example, live preview can be enabled at both the root config level, or on the entity's config.\n * If a collectionConfig/globalConfig is provided, checks if it is enabled at the root level,\n * or on the entity's own config.\n */\nexport const isLivePreviewEnabled = ({\n  collectionConfig,\n  config,\n  globalConfig,\n}: {\n  collectionConfig?: CollectionConfig\n  config: SanitizedConfig\n  globalConfig?: GlobalConfig\n}): boolean => {\n  if (globalConfig) {\n    return Boolean(\n      config.admin?.livePreview?.globals?.includes(globalConfig.slug) ||\n        globalConfig.admin?.livePreview,\n    )\n  }\n\n  if (collectionConfig) {\n    return Boolean(\n      config.admin?.livePreview?.collections?.includes(collectionConfig.slug) ||\n        collectionConfig.admin?.livePreview,\n    )\n  }\n}\n\n/**\n * 1. Looks up the relevant live preview config, which could have been enabled:\n *   a. At the root level, e.g. `collections: ['posts']`\n *   b. On the collection or global config, e.g. `admin: { livePreview: { ... } }`\n * 2. Determines if live preview is enabled, and if not, early returns.\n * 3. Merges the config with the root config, if necessary.\n * 4. Executes the `url` function, if necessary.\n *\n * Notice: internal function only. Subject to change at any time. Use at your own risk.\n */\nexport const handleLivePreview = async ({\n  collectionSlug,\n  config,\n  data,\n  globalSlug,\n  operation,\n  req,\n}: {\n  collectionSlug?: string\n  config: SanitizedConfig\n  data: Record<string, unknown>\n  globalSlug?: string\n  operation?: Operation\n  req: PayloadRequest\n}): Promise<{\n  isLivePreviewEnabled?: boolean\n  livePreviewConfig?: LivePreviewConfig\n  livePreviewURL?: LivePreviewURLType\n}> => {\n  const collectionConfig = collectionSlug\n    ? req.payload.collections[collectionSlug]?.config\n    : undefined\n\n  const globalConfig = globalSlug ? config.globals.find((g) => g.slug === globalSlug) : undefined\n\n  const enabled = isLivePreviewEnabled({\n    collectionConfig,\n    config,\n    globalConfig,\n  })\n\n  if (!enabled) {\n    return {}\n  }\n\n  const livePreviewConfig = getLivePreviewConfig({\n    collectionConfig,\n    config,\n    globalConfig,\n    isLivePreviewEnabled: enabled,\n  })\n\n  let livePreviewURL: string | undefined\n\n  if (typeof livePreviewConfig?.url === 'string') {\n    livePreviewURL = livePreviewConfig.url\n  }\n\n  if (typeof livePreviewConfig?.url === 'function' && operation !== 'create') {\n    try {\n      const result = await livePreviewConfig.url({\n        collectionConfig,\n        data,\n        globalConfig,\n        locale: { code: req.locale, label: '' },\n        payload: req.payload,\n        req,\n      })\n\n      if (typeof result === 'string') {\n        livePreviewURL = result\n      }\n    } catch (err) {\n      req.payload.logger.error({\n        err,\n        msg: `There was an error executing the live preview URL function for ${collectionSlug || globalSlug}`,\n      })\n    }\n  }\n\n  return { isLivePreviewEnabled: enabled, livePreviewConfig, livePreviewURL }\n}\n"],"names":["getLivePreviewConfig","collectionConfig","config","globalConfig","isLivePreviewEnabled","admin","livePreview","Boolean","globals","includes","slug","collections","handleLivePreview","collectionSlug","data","globalSlug","operation","req","payload","undefined","find","g","enabled","livePreviewConfig","livePreviewURL","url","result","locale","code","label","err","logger","error","msg"],"mappings":";;;;;;;;AAUO,MAAMA,oBAAA,GAAuBA,CAAC,EACnCC,gBAAgB,EAChBC,MAAM,EACNC,YAAY,EACZC,oBAAAA,EAMD,GAAA,CAAM;QACL,GAAIA,oBAAA,GAAuBF,MAAA,CAAOG,KAAK,CAACC,WAAW,GAAG,CAAC,CAAC;QACxD,GAAIL,gBAAA,EAAkBI,KAAA,EAAOC,WAAA,IAAe,CAAC,CAAC;QAC9C,GAAIH,YAAA,EAAcE,KAAA,EAAOC,WAAA,IAAe,CAAC,CAAC;IAC5C,CAAA;AAQO,MAAMF,oBAAA,GAAuBA,CAAC,EACnCH,gBAAgB,EAChBC,MAAM,EACNC,YAAAA,EAKD;IACC,IAAIA,YAAA,EAAc;QAChB,OAAOI,OAAA,CACLL,MAAA,CAAOG,KAAK,EAAEC,WAAA,EAAaE,OAAA,EAASC,QAAA,CAASN,YAAA,CAAaO,IAAI,KAC5DP,YAAA,CAAaE,KAAK,EAAEC,WAAA;IAE1B;IAEA,IAAIL,gBAAA,EAAkB;QACpB,OAAOM,OAAA,CACLL,MAAA,CAAOG,KAAK,EAAEC,WAAA,EAAaK,WAAA,EAAaF,QAAA,CAASR,gBAAA,CAAiBS,IAAI,KACpET,gBAAA,CAAiBI,KAAK,EAAEC,WAAA;IAE9B;AACF;AAYO,MAAMM,iBAAA,GAAoB,MAAAA,CAAO,EACtCC,cAAc,EACdX,MAAM,EACNY,IAAI,EACJC,UAAU,EACVC,SAAS,EACTC,GAAAA,EAQD;IAKC,MAAMhB,gBAAA,GAAmBY,cAAA,GACrBI,GAAA,CAAIC,OAAO,CAACP,WAAW,CAACE,cAAA,CAAe,EAAEX,MAAA,GACzCiB,SAAA;IAEJ,MAAMhB,YAAA,GAAeY,UAAA,GAAab,MAAA,CAAOM,OAAO,CAACY,IAAI,EAAEC,CAAA,GAAMA,CAAA,CAAEX,IAAI,KAAKK,UAAA,IAAcI,SAAA;IAEtF,MAAMG,OAAA,GAAUlB,oBAAA,CAAqB;QACnCH,gBAAA;QACAC,MAAA;QACAC;IACF;IAEA,IAAI,CAACmB,OAAA,EAAS;QACZ,OAAO,CAAC;IACV;IAEA,MAAMC,iBAAA,GAAoBvB,oBAAA,CAAqB;QAC7CC,gBAAA;QACAC,MAAA;QACAC,YAAA;QACAC,oBAAA,EAAsBkB;IACxB;IAEA,IAAIE,cAAA;IAEJ,IAAI,OAAOD,iBAAA,EAAmBE,GAAA,KAAQ,UAAU;QAC9CD,cAAA,GAAiBD,iBAAA,CAAkBE,GAAG;IACxC;IAEA,IAAI,OAAOF,iBAAA,EAAmBE,GAAA,KAAQ,cAAcT,SAAA,KAAc,UAAU;QAC1E,IAAI;YACF,MAAMU,MAAA,GAAS,MAAMH,iBAAA,CAAkBE,GAAG,CAAC;gBACzCxB,gBAAA;gBACAa,IAAA;gBACAX,YAAA;gBACAwB,MAAA,EAAQ;oBAAEC,IAAA,EAAMX,GAAA,CAAIU,MAAM;oBAAEE,KAAA,EAAO;gBAAG;gBACtCX,OAAA,EAASD,GAAA,CAAIC,OAAO;gBACpBD;YACF;YAEA,IAAI,OAAOS,MAAA,KAAW,UAAU;gBAC9BF,cAAA,GAAiBE,MAAA;YACnB;QACF,EAAE,OAAOI,GAAA,EAAK;YACZb,GAAA,CAAIC,OAAO,CAACa,MAAM,CAACC,KAAK,CAAC;gBACvBF,GAAA;gBACAG,GAAA,EAAK,CAAA,+DAAA,EAAkEpB,cAAA,IAAkBE,UAAA,EAAA;YAC3F;QACF;IACF;IAEA,OAAO;QAAEX,oBAAA,EAAsBkB,OAAA;QAASC,iBAAA;QAAmBC;IAAe;AAC5E","ignoreList":[]}},
    {"offset": {"line": 3299, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/ui/dist/utilities/handlePreview.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/src/utilities/handlePreview.ts"],"sourcesContent":["import {\n  type CollectionConfig,\n  extractJWT,\n  type GlobalConfig,\n  type Operation,\n  type PayloadRequest,\n  type SanitizedConfig,\n} from 'payload'\n\n/**\n * Multi-level check to determine whether live preview is enabled on a collection or global.\n * For example, live preview can be enabled at both the root config level, or on the entity's config.\n * If a collectionConfig/globalConfig is provided, checks if it is enabled at the root level,\n * or on the entity's own config.\n */\nexport const isPreviewEnabled = ({\n  collectionConfig,\n  globalConfig,\n}: {\n  collectionConfig?: CollectionConfig\n  globalConfig?: GlobalConfig\n}): boolean => {\n  if (globalConfig) {\n    return Boolean(globalConfig.admin?.preview)\n  }\n\n  if (collectionConfig) {\n    return Boolean(collectionConfig.admin?.preview)\n  }\n}\n\n/**\n * 1. Looks up the relevant live preview config, which could have been enabled:\n *   a. At the root level, e.g. `collections: ['posts']`\n *   b. On the collection or global config, e.g. `admin: { livePreview: { ... } }`\n * 2. Determines if live preview is enabled, and if not, early returns.\n * 3. Merges the config with the root config, if necessary.\n * 4. Executes the `url` function, if necessary.\n *\n * Notice: internal function only. Subject to change at any time. Use at your own risk.\n */\nexport const handlePreview = async ({\n  collectionSlug,\n  config,\n  data,\n  globalSlug,\n  operation,\n  req,\n}: {\n  collectionSlug?: string\n  config: SanitizedConfig\n  data: Record<string, unknown>\n  globalSlug?: string\n  operation?: Operation\n  req: PayloadRequest\n}): Promise<{\n  isPreviewEnabled?: boolean\n  previewURL?: string\n}> => {\n  const collectionConfig = collectionSlug\n    ? req.payload.collections[collectionSlug]?.config\n    : undefined\n\n  const globalConfig = globalSlug ? config.globals.find((g) => g.slug === globalSlug) : undefined\n\n  const enabled = isPreviewEnabled({\n    collectionConfig,\n    globalConfig,\n  })\n\n  if (!enabled) {\n    return {}\n  }\n\n  const generatePreviewURL = collectionConfig?.admin?.preview || globalConfig?.admin?.preview\n  const token = extractJWT(req)\n  let previewURL: string | undefined\n\n  if (typeof generatePreviewURL === 'function' && operation !== 'create') {\n    try {\n      const result = await generatePreviewURL(data, { locale: req.locale, req, token })\n\n      if (typeof result === 'string') {\n        previewURL = result\n      }\n    } catch (err) {\n      req.payload.logger.error({\n        err,\n        msg: `There was an error executing the live preview URL function for ${collectionSlug || globalSlug}`,\n      })\n    }\n  }\n\n  return { isPreviewEnabled: enabled, previewURL }\n}\n"],"names":["extractJWT","isPreviewEnabled","collectionConfig","globalConfig","Boolean","admin","preview","handlePreview","collectionSlug","config","data","globalSlug","operation","req","payload","collections","undefined","globals","find","g","slug","enabled","generatePreviewURL","token","previewURL","result","locale","err","logger","error","msg"],"mappings":";;;;;;AAAA,SAEEA,UAAU,QAKL;;;;;;AAQA,MAAMC,gBAAA,GAAmBA,CAAC,EAC/BC,gBAAgB,EAChBC,YAAAA,EAID;IACC,IAAIA,YAAA,EAAc;QAChB,OAAOC,OAAA,CAAQD,YAAA,CAAaE,KAAK,EAAEC,OAAA;IACrC;IAEA,IAAIJ,gBAAA,EAAkB;QACpB,OAAOE,OAAA,CAAQF,gBAAA,CAAiBG,KAAK,EAAEC,OAAA;IACzC;AACF;AAYO,MAAMC,aAAA,GAAgB,MAAAA,CAAO,EAClCC,cAAc,EACdC,MAAM,EACNC,IAAI,EACJC,UAAU,EACVC,SAAS,EACTC,GAAAA,EAQD;IAIC,MAAMX,gBAAA,GAAmBM,cAAA,GACrBK,GAAA,CAAIC,OAAO,CAACC,WAAW,CAACP,cAAA,CAAe,EAAEC,MAAA,GACzCO,SAAA;IAEJ,MAAMb,YAAA,GAAeQ,UAAA,GAAaF,MAAA,CAAOQ,OAAO,CAACC,IAAI,EAAEC,CAAA,GAAMA,CAAA,CAAEC,IAAI,KAAKT,UAAA,IAAcK,SAAA;IAEtF,MAAMK,OAAA,GAAUpB,gBAAA,CAAiB;QAC/BC,gBAAA;QACAC;IACF;IAEA,IAAI,CAACkB,OAAA,EAAS;QACZ,OAAO,CAAC;IACV;IAEA,MAAMC,kBAAA,GAAqBpB,gBAAA,EAAkBG,KAAA,EAAOC,OAAA,IAAWH,YAAA,EAAcE,KAAA,EAAOC,OAAA;IACpF,MAAMiB,KAAA,OAAQvB,0KAAA,EAAWa,GAAA;IACzB,IAAIW,UAAA;IAEJ,IAAI,OAAOF,kBAAA,KAAuB,cAAcV,SAAA,KAAc,UAAU;QACtE,IAAI;YACF,MAAMa,MAAA,GAAS,MAAMH,kBAAA,CAAmBZ,IAAA,EAAM;gBAAEgB,MAAA,EAAQb,GAAA,CAAIa,MAAM;gBAAEb,GAAA;gBAAKU;YAAM;YAE/E,IAAI,OAAOE,MAAA,KAAW,UAAU;gBAC9BD,UAAA,GAAaC,MAAA;YACf;QACF,EAAE,OAAOE,GAAA,EAAK;YACZd,GAAA,CAAIC,OAAO,CAACc,MAAM,CAACC,KAAK,CAAC;gBACvBF,GAAA;gBACAG,GAAA,EAAK,CAAA,+DAAA,EAAkEtB,cAAA,IAAkBG,UAAA,EAAA;YAC3F;QACF;IACF;IAEA,OAAO;QAAEV,gBAAA,EAAkBoB,OAAA;QAASG;IAAW;AACjD","ignoreList":[]}},
    {"offset": {"line": 3361, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/ui/dist/utilities/buildFormState.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/src/utilities/buildFormState.ts"],"sourcesContent":["import type {\n  BuildFormStateArgs,\n  ClientConfig,\n  ClientUser,\n  ErrorResult,\n  FormState,\n  ServerFunction,\n} from 'payload'\n\nimport { canAccessAdmin, formatErrors, UnauthorizedError } from 'payload'\nimport { getSelectMode, reduceFieldsToValues } from 'payload/shared'\n\nimport { fieldSchemasToFormState } from '../forms/fieldSchemasToFormState/index.js'\nimport { renderField } from '../forms/fieldSchemasToFormState/renderField.js'\nimport { getClientConfig } from './getClientConfig.js'\nimport { getClientSchemaMap } from './getClientSchemaMap.js'\nimport { getSchemaMap } from './getSchemaMap.js'\nimport { handleFormStateLocking } from './handleFormStateLocking.js'\nimport { handleLivePreview } from './handleLivePreview.js'\nimport { handlePreview } from './handlePreview.js'\n\nexport type LockedState = {\n  isLocked: boolean\n  lastEditedAt: string\n  user?: ClientUser | number | string\n}\n\ntype BuildFormStateSuccessResult = {\n  clientConfig?: ClientConfig\n  errors?: never\n  indexPath?: string\n  livePreviewURL?: string\n  lockedState?: LockedState\n  previewURL?: string\n  state: FormState\n}\n\ntype BuildFormStateErrorResult = {\n  livePreviewURL?: never\n  lockedState?: never\n  previewURL?: never\n  state?: never\n} & (\n  | {\n      message: string\n    }\n  | ErrorResult\n)\n\nexport type BuildFormStateResult = BuildFormStateErrorResult | BuildFormStateSuccessResult\n\nexport const buildFormStateHandler: ServerFunction<\n  BuildFormStateArgs,\n  Promise<BuildFormStateResult>\n> = async (args) => {\n  const { req } = args\n\n  try {\n    await canAccessAdmin({ req })\n    const res = await buildFormState(args)\n\n    return res\n  } catch (err) {\n    req.payload.logger.error({ err, msg: `There was an error building form state` })\n\n    if (err.message === 'Could not find field schema for given path') {\n      return {\n        message: err.message,\n      }\n    }\n\n    if (err.message === 'Unauthorized') {\n      throw new UnauthorizedError()\n    }\n\n    return formatErrors(err)\n  }\n}\n\nexport const buildFormState = async (\n  args: BuildFormStateArgs,\n): Promise<BuildFormStateSuccessResult> => {\n  const {\n    id: idFromArgs,\n    collectionSlug,\n    data: incomingData,\n    docPermissions,\n    docPreferences,\n    documentFormState,\n    formState,\n    globalSlug,\n    initialBlockData,\n    initialBlockFormState,\n    mockRSCs,\n    operation,\n    readOnly,\n    renderAllFields,\n    req,\n    req: {\n      i18n,\n      payload,\n      payload: { config },\n    },\n    returnLivePreviewURL,\n    returnLockStatus,\n    returnPreviewURL,\n    schemaPath = collectionSlug || globalSlug,\n    select,\n    skipClientConfigAuth,\n    skipValidation,\n    updateLastEdited,\n  } = args\n\n  const selectMode = select ? getSelectMode(select) : undefined\n\n  if (!collectionSlug && !globalSlug) {\n    throw new Error('Either collectionSlug or globalSlug must be provided')\n  }\n\n  const schemaMap = getSchemaMap({\n    collectionSlug,\n    config,\n    globalSlug,\n    i18n,\n  })\n\n  const clientSchemaMap = getClientSchemaMap({\n    collectionSlug,\n    config: getClientConfig({\n      config,\n      i18n,\n      importMap: req.payload.importMap,\n      user: skipClientConfigAuth ? true : req.user,\n    }),\n    globalSlug,\n    i18n,\n    payload,\n    schemaMap,\n  })\n\n  const id = collectionSlug ? idFromArgs : undefined\n  const fieldOrEntityConfig = schemaMap.get(schemaPath)\n\n  if (!fieldOrEntityConfig) {\n    throw new Error(`Could not find \"${schemaPath}\" in the fieldSchemaMap`)\n  }\n\n  if (\n    (!('fields' in fieldOrEntityConfig) ||\n      !fieldOrEntityConfig.fields ||\n      !fieldOrEntityConfig.fields.length) &&\n    'type' in fieldOrEntityConfig &&\n    fieldOrEntityConfig.type !== 'blocks'\n  ) {\n    throw new Error(\n      `The field found in fieldSchemaMap for \"${schemaPath}\" does not contain any subfields.`,\n    )\n  }\n\n  // If there is form state but no data, deduce data from that form state, e.g. on initial load\n  // Otherwise, use the incoming data as the source of truth, e.g. on subsequent saves\n  const data = incomingData || reduceFieldsToValues(formState, true)\n\n  let documentData = undefined\n\n  if (documentFormState) {\n    documentData = reduceFieldsToValues(documentFormState, true)\n  }\n\n  let blockData = initialBlockData\n\n  if (initialBlockFormState) {\n    blockData = reduceFieldsToValues(initialBlockFormState, true)\n  }\n\n  /**\n   * When building state for sub schemas we need to adjust:\n   * - `fields`\n   * - `parentSchemaPath`\n   * - `parentPath`\n   *\n   * Type assertion is fine because we wrap sub schemas in an array\n   * so we can safely map over them within `fieldSchemasToFormState`\n   */\n  const fields = Array.isArray(fieldOrEntityConfig)\n    ? fieldOrEntityConfig\n    : 'fields' in fieldOrEntityConfig\n      ? fieldOrEntityConfig.fields\n      : [fieldOrEntityConfig]\n\n  // Ensure data.id is present during form state requests, where the data\n  // is passed from the client as an argument, without the ID\n  if (!data.id && id) {\n    data.id = id\n  }\n\n  const formStateResult = await fieldSchemasToFormState({\n    id,\n    clientFieldSchemaMap: clientSchemaMap,\n    collectionSlug,\n    data,\n    documentData,\n    fields,\n    fieldSchemaMap: schemaMap,\n    initialBlockData: blockData,\n    mockRSCs,\n    operation,\n    permissions: docPermissions?.fields || {},\n    preferences: docPreferences || { fields: {} },\n    previousFormState: formState,\n    readOnly,\n    renderAllFields,\n    renderFieldFn: renderField,\n    req,\n    schemaPath,\n    select,\n    selectMode,\n    skipValidation,\n  })\n\n  // Maintain form state of auth / upload fields\n  if (collectionSlug && formState) {\n    if (payload.collections[collectionSlug]?.config?.upload && formState.file) {\n      formStateResult.file = formState.file\n    }\n  }\n\n  let lockedStateResult\n\n  if (returnLockStatus) {\n    lockedStateResult = await handleFormStateLocking({\n      id,\n      collectionSlug,\n      globalSlug,\n      req,\n      updateLastEdited,\n    })\n  }\n\n  const res: BuildFormStateSuccessResult = {\n    lockedState: lockedStateResult,\n    state: formStateResult,\n  }\n\n  if (returnLivePreviewURL) {\n    const { livePreviewURL } = await handleLivePreview({\n      collectionSlug,\n      config,\n      data,\n      globalSlug,\n      req,\n    })\n\n    // Important: only set this when not undefined,\n    // Otherwise it will travel through the network as `$undefined`\n    if (livePreviewURL) {\n      res.livePreviewURL = livePreviewURL\n    }\n  }\n\n  if (returnPreviewURL) {\n    const { previewURL } = await handlePreview({\n      collectionSlug,\n      config,\n      data,\n      globalSlug,\n      req,\n    })\n\n    // Important: only set this when not undefined,\n    // Otherwise it will travel through the network as `$undefined`\n    if (previewURL) {\n      res.previewURL = previewURL\n    }\n  }\n\n  return res\n}\n"],"names":["canAccessAdmin","formatErrors","UnauthorizedError","getSelectMode","reduceFieldsToValues","fieldSchemasToFormState","renderField","getClientConfig","getClientSchemaMap","getSchemaMap","handleFormStateLocking","handleLivePreview","handlePreview","buildFormStateHandler","args","req","res","buildFormState","err","payload","logger","error","msg","message","id","idFromArgs","collectionSlug","data","incomingData","docPermissions","docPreferences","documentFormState","formState","globalSlug","initialBlockData","initialBlockFormState","mockRSCs","operation","readOnly","renderAllFields","i18n","config","returnLivePreviewURL","returnLockStatus","returnPreviewURL","schemaPath","select","skipClientConfigAuth","skipValidation","updateLastEdited","selectMode","undefined","Error","schemaMap","clientSchemaMap","importMap","user","fieldOrEntityConfig","get","fields","length","type","documentData","blockData","Array","isArray","formStateResult","clientFieldSchemaMap","fieldSchemaMap","permissions","preferences","previousFormState","renderFieldFn","collections","upload","file","lockedStateResult","lockedState","state","livePreviewURL","previewURL"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 3562, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/DocumentHeader/Tabs/ShouldRenderTabs.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ShouldRenderTabs = registerClientReference(\n    function() { throw new Error(\"Attempted to call ShouldRenderTabs() from the server but ShouldRenderTabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/ShouldRenderTabs.js <module evaluation>\",\n    \"ShouldRenderTabs\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,qHACA","ignoreList":[0]}},
    {"offset": {"line": 3576, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/DocumentHeader/Tabs/ShouldRenderTabs.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ShouldRenderTabs = registerClientReference(\n    function() { throw new Error(\"Attempted to call ShouldRenderTabs() from the server but ShouldRenderTabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/ShouldRenderTabs.js\",\n    \"ShouldRenderTabs\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,iGACA","ignoreList":[0]}},
    {"offset": {"line": 3590, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/ShouldRenderTabs.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/ShouldRenderTabs.tsx"],"sourcesContent":["'use client'\nimport type React from 'react'\n\nimport { useDocumentInfo } from '@payloadcms/ui'\n\nexport const ShouldRenderTabs: React.FC<{\n  children: React.ReactNode\n}> = ({ children }) => {\n  const { id: idFromContext, collectionSlug, globalSlug } = useDocumentInfo()\n\n  const id = idFromContext !== 'create' ? idFromContext : null\n\n  // Don't show tabs when creating new documents\n  if ((collectionSlug && id) || globalSlug) {\n    return children\n  }\n\n  return null\n}\n"],"names":["useDocumentInfo","ShouldRenderTabs","t0","children","id","idFromContext","collectionSlug","globalSlug"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 3598, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/DocumentHeader/Tabs/Tab/TabLink.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DocumentTabLink = registerClientReference(\n    function() { throw new Error(\"Attempted to call DocumentTabLink() from the server but DocumentTabLink is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/Tab/TabLink.js <module evaluation>\",\n    \"DocumentTabLink\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,kBAAkB,IAAA,wQAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,gHACA","ignoreList":[0]}},
    {"offset": {"line": 3612, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/DocumentHeader/Tabs/Tab/TabLink.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DocumentTabLink = registerClientReference(\n    function() { throw new Error(\"Attempted to call DocumentTabLink() from the server but DocumentTabLink is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/Tab/TabLink.js\",\n    \"DocumentTabLink\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,kBAAkB,IAAA,wQAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,4FACA","ignoreList":[0]}},
    {"offset": {"line": 3626, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/Tab/TabLink.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/Tab/TabLink.tsx"],"sourcesContent":["'use client'\nimport type { SanitizedConfig } from 'payload'\n\nimport { Button } from '@payloadcms/ui'\nimport { useParams, usePathname, useSearchParams } from 'next/navigation.js'\nimport { formatAdminURL } from 'payload/shared'\nimport React from 'react'\n\nexport const DocumentTabLink: React.FC<{\n  adminRoute: SanitizedConfig['routes']['admin']\n  ariaLabel?: string\n  baseClass: string\n  children?: React.ReactNode\n  href: string\n  isActive?: boolean\n  newTab?: boolean\n}> = ({\n  adminRoute,\n  ariaLabel,\n  baseClass,\n  children,\n  href: hrefFromProps,\n  isActive: isActiveFromProps,\n  newTab,\n}) => {\n  const pathname = usePathname()\n  const params = useParams()\n\n  const searchParams = useSearchParams()\n\n  const locale = searchParams.get('locale')\n\n  const [entityType, entitySlug, segmentThree, segmentFour, ...rest] = params.segments || []\n  const isCollection = entityType === 'collections'\n\n  let docPath = formatAdminURL({\n    adminRoute,\n    path: `/${isCollection ? 'collections' : 'globals'}/${entitySlug}`,\n  })\n\n  if (isCollection) {\n    if (segmentThree === 'trash' && segmentFour) {\n      docPath += `/trash/${segmentFour}`\n    } else if (segmentThree) {\n      docPath += `/${segmentThree}`\n    }\n  }\n\n  const href = `${docPath}${hrefFromProps}`\n  // separated the two so it doesn't break checks against pathname\n  const hrefWithLocale = `${href}${locale ? `?locale=${locale}` : ''}`\n\n  const isActive =\n    (href === docPath && pathname === docPath) ||\n    (href !== docPath && pathname.startsWith(href)) ||\n    isActiveFromProps\n\n  return (\n    <Button\n      aria-label={ariaLabel}\n      buttonStyle=\"tab\"\n      className={[baseClass, isActive && `${baseClass}--active`].filter(Boolean).join(' ')}\n      disabled={isActive}\n      el={!isActive || href !== pathname ? 'link' : 'div'}\n      margin={false}\n      newTab={newTab}\n      size=\"medium\"\n      to={!isActive || href !== pathname ? hrefWithLocale : undefined}\n    >\n      {children}\n    </Button>\n  )\n}\n"],"names":["c","_c","Button","useParams","usePathname","useSearchParams","formatAdminURL","React","DocumentTabLink","t0","$","adminRoute","ariaLabel","baseClass","children","href","hrefFromProps","isActive","isActiveFromProps","newTab","pathname","params","searchParams","locale","get","entityType","entitySlug","segmentThree","segmentFour","segments","isCollection","t1","t2","path","docPath","hrefWithLocale","t3","startsWith","_jsx","buttonStyle","className","filter","Boolean","join","disabled","el","margin","size","to","undefined"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 3636, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/Tab/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/Tab/index.tsx"],"sourcesContent":["import type {\n  DocumentTabConfig,\n  DocumentTabServerPropsOnly,\n  PayloadRequest,\n  SanitizedCollectionConfig,\n  SanitizedGlobalConfig,\n  SanitizedPermissions,\n} from 'payload'\nimport type React from 'react'\n\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { Fragment } from 'react'\n\nimport { DocumentTabLink } from './TabLink.js'\nimport './index.scss'\n\nexport const baseClass = 'doc-tab'\n\nexport const DefaultDocumentTab: React.FC<{\n  apiURL?: string\n  collectionConfig?: SanitizedCollectionConfig\n  globalConfig?: SanitizedGlobalConfig\n  path?: string\n  permissions?: SanitizedPermissions\n  req: PayloadRequest\n  tabConfig: { readonly Pill_Component?: React.FC } & DocumentTabConfig\n}> = (props) => {\n  const {\n    apiURL,\n    collectionConfig,\n    globalConfig,\n    permissions,\n    req,\n    tabConfig: { href: tabHref, isActive: tabIsActive, label, newTab, Pill, Pill_Component },\n  } = props\n\n  let href = typeof tabHref === 'string' ? tabHref : ''\n  let isActive = typeof tabIsActive === 'boolean' ? tabIsActive : false\n\n  if (typeof tabHref === 'function') {\n    href = tabHref({\n      apiURL,\n      collection: collectionConfig,\n      global: globalConfig,\n      routes: req.payload.config.routes,\n    })\n  }\n\n  if (typeof tabIsActive === 'function') {\n    isActive = tabIsActive({\n      href,\n    })\n  }\n\n  const labelToRender =\n    typeof label === 'function'\n      ? label({\n          t: req.i18n.t,\n        })\n      : label\n\n  return (\n    <DocumentTabLink\n      adminRoute={req.payload.config.routes.admin}\n      ariaLabel={labelToRender}\n      baseClass={baseClass}\n      href={href}\n      isActive={isActive}\n      newTab={newTab}\n    >\n      <span className={`${baseClass}__label`}>\n        {labelToRender}\n        {Pill || Pill_Component ? (\n          <Fragment>\n            &nbsp;\n            {RenderServerComponent({\n              Component: Pill,\n              Fallback: Pill_Component,\n              importMap: req.payload.importMap,\n              serverProps: {\n                i18n: req.i18n,\n                payload: req.payload,\n                permissions,\n                req,\n                user: req.user,\n              } satisfies DocumentTabServerPropsOnly,\n            })}\n          </Fragment>\n        ) : null}\n      </span>\n    </DocumentTabLink>\n  )\n}\n"],"names":["RenderServerComponent","Fragment","DocumentTabLink","baseClass","DefaultDocumentTab","props","apiURL","collectionConfig","globalConfig","permissions","req","tabConfig","href","tabHref","isActive","tabIsActive","label","newTab","Pill","Pill_Component","collection","global","routes","payload","config","labelToRender","t","i18n","_jsx","adminRoute","admin","ariaLabel","_jsxs","className","Component","Fallback","importMap","serverProps","user"],"mappings":";;;;;;;AAUA,SAASA,qBAAqB,QAAQ;AACtC,SAASC,QAAQ,QAAQ;AAEzB,SAASC,eAAe,QAAQ;;;;;;;;;AAGzB,MAAMC,SAAA,GAAY;AAElB,MAAMC,kBAAA,IAQPC,KAAA;IACJ,MAAM,EACJC,MAAM,EACNC,gBAAgB,EAChBC,YAAY,EACZC,WAAW,EACXC,GAAG,EACHC,SAAA,EAAW,EAAEC,IAAA,EAAMC,OAAO,EAAEC,QAAA,EAAUC,WAAW,EAAEC,KAAK,EAAEC,MAAM,EAAEC,IAAI,EAAEC,cAAAA,EAAc,EACvF,GAAGd,KAAA;IAEJ,IAAIO,IAAA,GAAO,OAAOC,OAAA,KAAY,WAAWA,OAAA,GAAU;IACnD,IAAIC,QAAA,GAAW,OAAOC,WAAA,KAAgB,YAAYA,WAAA,GAAc;IAEhE,IAAI,OAAOF,OAAA,KAAY,YAAY;QACjCD,IAAA,GAAOC,OAAA,CAAQ;YACbP,MAAA;YACAc,UAAA,EAAYb,gBAAA;YACZc,MAAA,EAAQb,YAAA;YACRc,MAAA,EAAQZ,GAAA,CAAIa,OAAO,CAACC,MAAM,CAACF,MAAAA;QAC7B;IACF;IAEA,IAAI,OAAOP,WAAA,KAAgB,YAAY;QACrCD,QAAA,GAAWC,WAAA,CAAY;YACrBH;QACF;IACF;IAEA,MAAMa,aAAA,GACJ,OAAOT,KAAA,KAAU,aACbA,KAAA,CAAM;QACJU,CAAA,EAAGhB,GAAA,CAAIiB,IAAI,CAACD,CAAAA;IACd,KACAV,KAAA;IAEN,OAAA,WAAA,OACEY,8NAAA,EAAC1B,uNAAA,EAAA;QACC2B,UAAA,EAAYnB,GAAA,CAAIa,OAAO,CAACC,MAAM,CAACF,MAAM,CAACQ,KAAK;QAC3CC,SAAA,EAAWN,aAAA;QACXtB,SAAA,EAAWA,SAAA;QACXS,IAAA,EAAMA,IAAA;QACNE,QAAA,EAAUA,QAAA;QACVG,MAAA,EAAQA,MAAA;kBAER,WAAA,OAAAe,+NAAA,EAAC,QAAA;YAAKC,SAAA,EAAW,GAAG9B,SAAA,CAAA,OAAA,CAAkB;;gBACnCsB,aAAA;gBACAP,IAAA,IAAQC,cAAA,GAAA,WAAA,OACPa,+NAAA,EAAC/B,iNAAA,EAAA;;wBAAS;4BAEPD,iNAAA,EAAsB;4BACrBkC,SAAA,EAAWhB,IAAA;4BACXiB,QAAA,EAAUhB,cAAA;4BACViB,SAAA,EAAW1B,GAAA,CAAIa,OAAO,CAACa,SAAS;4BAChCC,WAAA,EAAa;gCACXV,IAAA,EAAMjB,GAAA,CAAIiB,IAAI;gCACdJ,OAAA,EAASb,GAAA,CAAIa,OAAO;gCACpBd,WAAA;gCACAC,GAAA;gCACA4B,IAAA,EAAM5B,GAAA,CAAI4B,IAAAA;4BACZ;wBACF;qBAAA;qBAEA;aAAA;;;AAIZ","ignoreList":[]}},
    {"offset": {"line": 3712, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/DocumentHeader/Tabs/tabs/VersionsPill/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const VersionsPill = registerClientReference(\n    function() { throw new Error(\"Attempted to call VersionsPill() from the server but VersionsPill is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/tabs/VersionsPill/index.js <module evaluation>\",\n    \"VersionsPill\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,4HACA","ignoreList":[0]}},
    {"offset": {"line": 3726, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/DocumentHeader/Tabs/tabs/VersionsPill/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const VersionsPill = registerClientReference(\n    function() { throw new Error(\"Attempted to call VersionsPill() from the server but VersionsPill is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/tabs/VersionsPill/index.js\",\n    \"VersionsPill\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,wGACA","ignoreList":[0]}},
    {"offset": {"line": 3740, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/tabs/VersionsPill/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/tabs/VersionsPill/index.tsx"],"sourcesContent":["'use client'\nimport { useDocumentInfo } from '@payloadcms/ui'\nimport React from 'react'\n\nimport './index.scss'\n\nconst baseClass = 'pill-version-count'\n\nexport const VersionsPill: React.FC = () => {\n  const { versionCount } = useDocumentInfo()\n\n  if (!versionCount) {\n    return null\n  }\n\n  return <span className={baseClass}>{versionCount}</span>\n}\n"],"names":["c","_c","useDocumentInfo","React","baseClass","VersionsPill","$","versionCount","t0","_jsx","className","children"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 3748, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/tabs/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/tabs/index.tsx"],"sourcesContent":["import type { DocumentTabConfig, SanitizedCollectionConfig, SanitizedGlobalConfig } from 'payload'\n\nimport { VersionsPill } from './VersionsPill/index.js'\n\nexport const documentViewKeys = ['api', 'default', 'livePreview', 'versions']\n\nexport type DocumentViewKey = (typeof documentViewKeys)[number]\n\nexport const getTabs = ({\n  collectionConfig,\n  globalConfig,\n}: {\n  collectionConfig?: SanitizedCollectionConfig\n  globalConfig?: SanitizedGlobalConfig\n}): { tab: DocumentTabConfig; viewPath: string }[] => {\n  const customViews =\n    collectionConfig?.admin?.components?.views?.edit ||\n    globalConfig?.admin?.components?.views?.edit ||\n    {}\n\n  return [\n    {\n      tab: {\n        href: '',\n        label: ({ t }) => t('general:edit'),\n        order: 100,\n        ...(customViews?.['default']?.tab || {}),\n      },\n      viewPath: '/',\n    },\n    {\n      tab: {\n        condition: ({ collectionConfig, globalConfig, permissions }) =>\n          Boolean(\n            (collectionConfig?.versions &&\n              permissions?.collections?.[collectionConfig?.slug]?.readVersions) ||\n              (globalConfig?.versions && permissions?.globals?.[globalConfig?.slug]?.readVersions),\n          ),\n        href: '/versions',\n        label: ({ t }) => t('version:versions'),\n        order: 300,\n        Pill_Component: VersionsPill,\n        ...(customViews?.['versions']?.tab || {}),\n      },\n      viewPath: '/versions',\n    },\n    {\n      tab: {\n        condition: ({ collectionConfig, globalConfig }) =>\n          (collectionConfig && !collectionConfig?.admin?.hideAPIURL) ||\n          (globalConfig && !globalConfig?.admin?.hideAPIURL),\n        href: '/api',\n        label: 'API',\n        order: 400,\n        ...(customViews?.['api']?.tab || {}),\n      },\n      viewPath: '/api',\n    },\n  ]\n    .concat(\n      Object.entries(customViews).reduce((acc, [key, value]) => {\n        if (documentViewKeys.includes(key)) {\n          return acc\n        }\n\n        if (value?.tab) {\n          acc.push({\n            tab: value.tab,\n            viewPath: 'path' in value ? value.path : '',\n          })\n        }\n\n        return acc\n      }, []),\n    )\n    ?.sort(({ tab: a }, { tab: b }) => {\n      if (a.order === undefined && b.order === undefined) {\n        return 0\n      } else if (a.order === undefined) {\n        return 1\n      } else if (b.order === undefined) {\n        return -1\n      }\n\n      return a.order - b.order\n    })\n}\n"],"names":["VersionsPill","documentViewKeys","getTabs","collectionConfig","globalConfig","customViews","admin","components","views","edit","tab","href","label","t","order","viewPath","condition","permissions","Boolean","versions","collections","slug","readVersions","globals","Pill_Component","hideAPIURL","concat","Object","entries","reduce","acc","key","value","includes","push","path","sort","a","b","undefined"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 3823, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/index.tsx"],"sourcesContent":["import type {\n  DocumentTabClientProps,\n  DocumentTabServerPropsOnly,\n  PayloadRequest,\n  SanitizedCollectionConfig,\n  SanitizedGlobalConfig,\n  SanitizedPermissions,\n} from 'payload'\n\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport React from 'react'\n\nimport { ShouldRenderTabs } from './ShouldRenderTabs.js'\nimport { DefaultDocumentTab } from './Tab/index.js'\nimport { getTabs } from './tabs/index.js'\nimport './index.scss'\n\nconst baseClass = 'doc-tabs'\n\nexport const DocumentTabs: React.FC<{\n  collectionConfig: SanitizedCollectionConfig\n  globalConfig: SanitizedGlobalConfig\n  permissions: SanitizedPermissions\n  req: PayloadRequest\n}> = ({ collectionConfig, globalConfig, permissions, req }) => {\n  const { config } = req.payload\n\n  const tabs = getTabs({\n    collectionConfig,\n    globalConfig,\n  })\n\n  return (\n    <ShouldRenderTabs>\n      <div className={baseClass}>\n        <div className={`${baseClass}__tabs-container`}>\n          <ul className={`${baseClass}__tabs`}>\n            {tabs?.map(({ tab: tabConfig, viewPath }, index) => {\n              const { condition } = tabConfig || {}\n\n              const meetsCondition =\n                !condition ||\n                condition({ collectionConfig, config, globalConfig, permissions, req })\n\n              if (!meetsCondition) {\n                return null\n              }\n\n              if (tabConfig?.Component) {\n                return RenderServerComponent({\n                  clientProps: {\n                    path: viewPath,\n                  } satisfies DocumentTabClientProps,\n                  Component: tabConfig.Component,\n                  importMap: req.payload.importMap,\n                  key: `tab-${index}`,\n                  serverProps: {\n                    collectionConfig,\n                    globalConfig,\n                    i18n: req.i18n,\n                    payload: req.payload,\n                    permissions,\n                    req,\n                    user: req.user,\n                  } satisfies DocumentTabServerPropsOnly,\n                })\n              }\n\n              return (\n                <DefaultDocumentTab\n                  collectionConfig={collectionConfig}\n                  globalConfig={globalConfig}\n                  key={`tab-${index}`}\n                  path={viewPath}\n                  permissions={permissions}\n                  req={req}\n                  tabConfig={tabConfig}\n                />\n              )\n            })}\n          </ul>\n        </div>\n      </div>\n    </ShouldRenderTabs>\n  )\n}\n"],"names":["RenderServerComponent","React","ShouldRenderTabs","DefaultDocumentTab","getTabs","baseClass","DocumentTabs","collectionConfig","globalConfig","permissions","req","config","payload","tabs","_jsx","className","map","tab","tabConfig","viewPath","index","condition","meetsCondition","Component","clientProps","path","importMap","key","serverProps","i18n","user"],"mappings":";;;;;AASA,SAASA,qBAAqB,QAAQ;AACtC,OAAOC,KAAA,MAAW;AAElB,SAASC,gBAAgB,QAAQ;AACjC,SAASC,kBAAkB,QAAQ;AACnC,SAASC,OAAO,QAAQ;;;;;;;;;;;;AAGxB,MAAMC,SAAA,GAAY;AAEX,MAAMC,YAAA,GAKRA,CAAC,EAAEC,gBAAgB,EAAEC,YAAY,EAAEC,WAAW,EAAEC,GAAAA,EAAK;IACxD,MAAM,EAAEC,MAAAA,EAAQ,GAAGD,GAAA,CAAIE,OAAO;IAE9B,MAAMC,IAAA,OAAOT,8MAAA,EAAQ;QACnBG,gBAAA;QACAC;IACF;IAEA,OAAA,WAAA,OACEM,8NAAA,EAACZ,0NAAA,EAAA;kBACC,WAAA,OAAAY,8NAAA,EAAC,OAAA;YAAIC,SAAA,EAAWV,SAAA;sBACd,WAAA,OAAAS,8NAAA,EAAC,OAAA;gBAAIC,SAAA,EAAW,GAAGV,SAAA,CAAA,gBAAA,CAA2B;0BAC5C,WAAA,OAAAS,8NAAA,EAAC,MAAA;oBAAGC,SAAA,EAAW,GAAGV,SAAA,CAAA,MAAA,CAAiB;8BAChCQ,IAAA,EAAMG,GAAA,CAAI,CAAC,EAAEC,GAAA,EAAKC,SAAS,EAAEC,QAAAA,EAAU,EAAEC,KAAA;wBACxC,MAAM,EAAEC,SAAAA,EAAW,GAAGH,SAAA,IAAa,CAAC;wBAEpC,MAAMI,cAAA,GACJ,CAACD,SAAA,IACDA,SAAA,CAAU;4BAAEd,gBAAA;4BAAkBI,MAAA;4BAAQH,YAAA;4BAAcC,WAAA;4BAAaC;wBAAI;wBAEvE,IAAI,CAACY,cAAA,EAAgB;4BACnB,OAAO;wBACT;wBAEA,IAAIJ,SAAA,EAAWK,SAAA,EAAW;4BACxB,WAAOvB,iNAAA,EAAsB;gCAC3BwB,WAAA,EAAa;oCACXC,IAAA,EAAMN;gCACR;gCACAI,SAAA,EAAWL,SAAA,CAAUK,SAAS;gCAC9BG,SAAA,EAAWhB,GAAA,CAAIE,OAAO,CAACc,SAAS;gCAChCC,GAAA,EAAK,CAAA,IAAA,EAAOP,KAAA,EAAO;gCACnBQ,WAAA,EAAa;oCACXrB,gBAAA;oCACAC,YAAA;oCACAqB,IAAA,EAAMnB,GAAA,CAAImB,IAAI;oCACdjB,OAAA,EAASF,GAAA,CAAIE,OAAO;oCACpBH,WAAA;oCACAC,GAAA;oCACAoB,IAAA,EAAMpB,GAAA,CAAIoB,IAAAA;gCACZ;4BACF;wBACF;wBAEA,OAAA,WAAA,OACEhB,8NAAA,EAACX,wNAAA,EAAA;4BACCI,gBAAA,EAAkBA,gBAAA;4BAClBC,YAAA,EAAcA,YAAA;4BAEdiB,IAAA,EAAMN,QAAA;4BACNV,WAAA,EAAaA,WAAA;4BACbC,GAAA,EAAKA,GAAA;4BACLQ,SAAA,EAAWA;2BAJN,CAAA,IAAA,EAAOE,KAAA,EAAO;oBAOzB;;;;;AAMZ","ignoreList":[]}},
    {"offset": {"line": 3910, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/DocumentHeader/index.tsx"],"sourcesContent":["import type {\n  PayloadRequest,\n  SanitizedCollectionConfig,\n  SanitizedGlobalConfig,\n  SanitizedPermissions,\n} from 'payload'\n\nimport { Gutter, RenderTitle } from '@payloadcms/ui'\nimport React from 'react'\n\nimport { DocumentTabs } from './Tabs/index.js'\nimport './index.scss'\n\nconst baseClass = `doc-header`\n\n/**\n * @internal\n */\nexport const DocumentHeader: React.FC<{\n  AfterHeader?: React.ReactNode\n  collectionConfig?: SanitizedCollectionConfig\n  globalConfig?: SanitizedGlobalConfig\n  hideTabs?: boolean\n  permissions: SanitizedPermissions\n  req: PayloadRequest\n}> = (props) => {\n  const { AfterHeader, collectionConfig, globalConfig, hideTabs, permissions, req } = props\n\n  return (\n    <Gutter className={baseClass}>\n      <div className={`${baseClass}__header`}>\n        <RenderTitle className={`${baseClass}__title`} />\n        {!hideTabs && (\n          <DocumentTabs\n            collectionConfig={collectionConfig}\n            globalConfig={globalConfig}\n            permissions={permissions}\n            req={req}\n          />\n        )}\n      </div>\n      {AfterHeader ? <div className={`${baseClass}__after-header`}>{AfterHeader}</div> : null}\n    </Gutter>\n  )\n}\n"],"names":["Gutter","RenderTitle","React","DocumentTabs","baseClass","DocumentHeader","props","AfterHeader","collectionConfig","globalConfig","hideTabs","permissions","req","_jsxs","className","_jsx"],"mappings":";;;;;AAOA,SAASA,MAAM,EAAEC,WAAW,QAAQ;AACpC,OAAOC,KAAA,MAAW;AAElB,SAASC,YAAY,QAAQ;;;;;;;;;AAG7B,MAAMC,SAAA,GAAY,CAAA,UAAA,CAAY;AAKvB,MAAMC,cAAA,IAOPC,KAAA;IACJ,MAAM,EAAEC,WAAW,EAAEC,gBAAgB,EAAEC,YAAY,EAAEC,QAAQ,EAAEC,WAAW,EAAEC,GAAAA,EAAK,GAAGN,KAAA;IAEpF,OAAA,WAAA,OACEO,+NAAA,EAACb,kLAAA,EAAA;QAAOc,SAAA,EAAWV,SAAA;;8BACjBS,+NAAA,EAAC,OAAA;gBAAIC,SAAA,EAAW,GAAGV,SAAA,CAAA,QAAA,CAAmB;;sCACpCW,8NAAA,EAACd,uLAAA,EAAA;wBAAYa,SAAA,EAAW,GAAGV,SAAA,CAAA,OAAA,CAAA;;oBAC1B,CAACM,QAAA,IAAA,WAAA,OACAK,8NAAA,EAACZ,2MAAA,EAAA;wBACCK,gBAAA,EAAkBA,gBAAA;wBAClBC,YAAA,EAAcA,YAAA;wBACdE,WAAA,EAAaA,WAAA;wBACbC,GAAA,EAAKA;;;;YAIVL,WAAA,GAAA,WAAA,OAAcQ,8NAAA,EAAC,OAAA;gBAAID,SAAA,EAAW,GAAGV,SAAA,CAAA,cAAA,CAAyB;0BAAGG;iBAAqB;SAAA;;AAGzF","ignoreList":[]}},
    {"offset": {"line": 3960, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Document/getDocPreferences.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Document/getDocPreferences.ts"],"sourcesContent":["import type { DocumentPreferences, Payload, TypedUser } from 'payload'\n\nimport { sanitizeID } from '@payloadcms/ui/shared'\n\ntype Args = {\n  collectionSlug?: string\n  globalSlug?: string\n  id?: number | string\n  payload: Payload\n  user: TypedUser\n}\n\nexport const getDocPreferences = async ({\n  id,\n  collectionSlug,\n  globalSlug,\n  payload,\n  user,\n}: Args): Promise<DocumentPreferences> => {\n  let preferencesKey\n\n  if (collectionSlug && id) {\n    preferencesKey = `collection-${collectionSlug}-${id}`\n  }\n\n  if (globalSlug) {\n    preferencesKey = `global-${globalSlug}`\n  }\n\n  if (preferencesKey) {\n    const preferencesResult = (await payload.find({\n      collection: 'payload-preferences',\n      depth: 0,\n      limit: 1,\n      where: {\n        and: [\n          {\n            key: {\n              equals: preferencesKey,\n            },\n          },\n          {\n            'user.relationTo': {\n              equals: user.collection,\n            },\n          },\n          {\n            'user.value': {\n              equals: sanitizeID(user.id),\n            },\n          },\n        ],\n      },\n    })) as unknown as { docs: { value: DocumentPreferences }[] }\n\n    if (preferencesResult?.docs?.[0]?.value) {\n      return preferencesResult.docs[0].value\n    }\n  }\n\n  return { fields: {} }\n}\n"],"names":["sanitizeID","getDocPreferences","id","collectionSlug","globalSlug","payload","user","preferencesKey","preferencesResult","find","collection","depth","limit","where","and","key","equals","docs","value","fields"],"mappings":";;;;AAEA,SAASA,UAAU,QAAQ;;;;;;AAUpB,MAAMC,iBAAA,GAAoB,MAAAA,CAAO,EACtCC,EAAE,EACFC,cAAc,EACdC,UAAU,EACVC,OAAO,EACPC,IAAAA,EACK;IACL,IAAIC,cAAA;IAEJ,IAAIJ,cAAA,IAAkBD,EAAA,EAAI;QACxBK,cAAA,GAAiB,CAAA,WAAA,EAAcJ,cAAA,CAAA,CAAA,EAAkBD,EAAA,EAAI;IACvD;IAEA,IAAIE,UAAA,EAAY;QACdG,cAAA,GAAiB,CAAA,OAAA,EAAUH,UAAA,EAAY;IACzC;IAEA,IAAIG,cAAA,EAAgB;QAClB,MAAMC,iBAAA,GAAqB,MAAMH,OAAA,CAAQI,IAAI,CAAC;YAC5CC,UAAA,EAAY;YACZC,KAAA,EAAO;YACPC,KAAA,EAAO;YACPC,KAAA,EAAO;gBACLC,GAAA,EAAK;oBACH;wBACEC,GAAA,EAAK;4BACHC,MAAA,EAAQT;wBACV;oBACF;oBACA;wBACE,mBAAmB;4BACjBS,MAAA,EAAQV,IAAA,CAAKI,UAAAA;wBACf;oBACF;oBACA;wBACE,cAAc;4BACZM,MAAA,MAAQhB,sMAAA,EAAWM,IAAA,CAAKJ,EAAE;wBAC5B;oBACF;iBAAA;YAEJ;QACF;QAEA,IAAIM,iBAAA,EAAmBS,IAAA,EAAA,CAAO,EAAE,EAAEC,KAAA,EAAO;YACvC,OAAOV,iBAAA,CAAkBS,IAAI,CAAC,EAAE,CAACC,KAAK;QACxC;IACF;IAEA,OAAO;QAAEC,MAAA,EAAQ,CAAC;IAAE;AACtB","ignoreList":[]}},
    {"offset": {"line": 4018, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Document/getDocumentData.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Document/getDocumentData.ts"],"sourcesContent":["import { sanitizeID } from '@payloadcms/ui/shared'\nimport {\n  type Locale,\n  logError,\n  type Payload,\n  type PayloadRequest,\n  type TypedUser,\n  type TypeWithID,\n} from 'payload'\n\ntype Args = {\n  collectionSlug?: string\n  globalSlug?: string\n  id?: number | string\n  locale?: Locale\n  payload: Payload\n  req?: PayloadRequest\n  segments?: string[]\n  user?: TypedUser\n}\n\nexport const getDocumentData = async ({\n  id: idArg,\n  collectionSlug,\n  globalSlug,\n  locale,\n  payload,\n  req,\n  segments,\n  user,\n}: Args): Promise<null | Record<string, unknown> | TypeWithID> => {\n  const id = sanitizeID(idArg)\n  let resolvedData: Record<string, unknown> | TypeWithID = null\n  const { transactionID, ...rest } = req\n\n  const isTrashedDoc = segments?.[2] === 'trash' && typeof segments?.[3] === 'string' // id exists at segment 3\n\n  try {\n    if (collectionSlug && id) {\n      resolvedData = await payload.findByID({\n        id,\n        collection: collectionSlug,\n        depth: 0,\n        draft: true,\n        fallbackLocale: false,\n        locale: locale?.code,\n        overrideAccess: false,\n        req: {\n          ...rest,\n        },\n        trash: isTrashedDoc ? true : false,\n        user,\n      })\n    }\n\n    if (globalSlug) {\n      resolvedData = await payload.findGlobal({\n        slug: globalSlug,\n        depth: 0,\n        draft: true,\n        fallbackLocale: false,\n        locale: locale?.code,\n        overrideAccess: false,\n        req: {\n          ...rest,\n        },\n        user,\n      })\n    }\n  } catch (err) {\n    logError({ err, payload })\n  }\n\n  return resolvedData\n}\n"],"names":["sanitizeID","logError","getDocumentData","id","idArg","collectionSlug","globalSlug","locale","payload","req","segments","user","resolvedData","transactionID","rest","isTrashedDoc","findByID","collection","depth","draft","fallbackLocale","code","overrideAccess","trash","findGlobal","slug","err"],"mappings":";;;;AAAA,SAASA,UAAU,QAAQ;AAC3B,SAEEC,QAAQ,QAKH;;;;;;;;AAaA,MAAMC,eAAA,GAAkB,MAAAA,CAAO,EACpCC,EAAA,EAAIC,KAAK,EACTC,cAAc,EACdC,UAAU,EACVC,MAAM,EACNC,OAAO,EACPC,GAAG,EACHC,QAAQ,EACRC,IAAAA,EACK;IACL,MAAMR,EAAA,OAAKH,sMAAA,EAAWI,KAAA;IACtB,IAAIQ,YAAA,GAAqD;IACzD,MAAM,EAAEC,aAAa,EAAE,GAAGC,MAAM,GAAGL,GAAA;IAEnC,MAAMM,YAAA,GAAeL,QAAA,EAAA,CAAW,EAAE,KAAK,WAAW,OAAOA,QAAA,EAAA,CAAW,EAAE,KAAK,SAAS,yBAAA;;IAEpF,IAAI;QACF,IAAIL,cAAA,IAAkBF,EAAA,EAAI;YACxBS,YAAA,GAAe,MAAMJ,OAAA,CAAQQ,QAAQ,CAAC;gBACpCb,EAAA;gBACAc,UAAA,EAAYZ,cAAA;gBACZa,KAAA,EAAO;gBACPC,KAAA,EAAO;gBACPC,cAAA,EAAgB;gBAChBb,MAAA,EAAQA,MAAA,EAAQc,IAAA;gBAChBC,cAAA,EAAgB;gBAChBb,GAAA,EAAK;oBACH,GAAGK,IAAAA;gBACL;gBACAS,KAAA,EAAOR,YAAA,GAAe,OAAO;gBAC7BJ;YACF;QACF;QAEA,IAAIL,UAAA,EAAY;YACdM,YAAA,GAAe,MAAMJ,OAAA,CAAQgB,UAAU,CAAC;gBACtCC,IAAA,EAAMnB,UAAA;gBACNY,KAAA,EAAO;gBACPC,KAAA,EAAO;gBACPC,cAAA,EAAgB;gBAChBb,MAAA,EAAQA,MAAA,EAAQc,IAAA;gBAChBC,cAAA,EAAgB;gBAChBb,GAAA,EAAK;oBACH,GAAGK,IAAAA;gBACL;gBACAH;YACF;QACF;IACF,EAAE,OAAOe,GAAA,EAAK;YACZzB,wKAAA,EAAS;YAAEyB,GAAA;YAAKlB;QAAQ;IAC1B;IAEA,OAAOI,YAAA;AACT","ignoreList":[]}},
    {"offset": {"line": 4083, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Document/getDocumentPermissions.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Document/getDocumentPermissions.tsx"],"sourcesContent":["import type {\n  Data,\n  PayloadRequest,\n  SanitizedCollectionConfig,\n  SanitizedDocumentPermissions,\n  SanitizedGlobalConfig,\n} from 'payload'\n\nimport {\n  hasSavePermission as getHasSavePermission,\n  isEditing as getIsEditing,\n} from '@payloadcms/ui/shared'\nimport { docAccessOperation, docAccessOperationGlobal, logError } from 'payload'\nimport { hasDraftsEnabled } from 'payload/shared'\n\nexport const getDocumentPermissions = async (args: {\n  collectionConfig?: SanitizedCollectionConfig\n  data: Data\n  globalConfig?: SanitizedGlobalConfig\n  /**\n   * When called for creating a new document, id is not provided.\n   */\n  id?: number | string\n  req: PayloadRequest\n}): Promise<{\n  docPermissions: SanitizedDocumentPermissions\n  hasPublishPermission: boolean\n  hasSavePermission: boolean\n}> => {\n  const { id, collectionConfig, data = {}, globalConfig, req } = args\n\n  let docPermissions: SanitizedDocumentPermissions\n  let hasPublishPermission = false\n\n  if (collectionConfig) {\n    try {\n      docPermissions = await docAccessOperation({\n        id,\n        collection: {\n          config: collectionConfig,\n        },\n        data: {\n          ...data,\n          _status: 'draft',\n        },\n        req,\n      })\n\n      if (hasDraftsEnabled(collectionConfig)) {\n        hasPublishPermission = (\n          await docAccessOperation({\n            id,\n            collection: {\n              config: collectionConfig,\n            },\n            data: {\n              ...data,\n              _status: 'published',\n            },\n            req,\n          })\n        ).update\n      }\n    } catch (err) {\n      logError({ err, payload: req.payload })\n    }\n  }\n\n  if (globalConfig) {\n    try {\n      docPermissions = await docAccessOperationGlobal({\n        data,\n        globalConfig,\n        req,\n      })\n\n      if (hasDraftsEnabled(globalConfig)) {\n        hasPublishPermission = (\n          await docAccessOperationGlobal({\n            data: {\n              ...data,\n              _status: 'published',\n            },\n            globalConfig,\n            req,\n          })\n        ).update\n      }\n    } catch (err) {\n      logError({ err, payload: req.payload })\n    }\n  }\n\n  const hasSavePermission = getHasSavePermission({\n    collectionSlug: collectionConfig?.slug,\n    docPermissions,\n    globalSlug: globalConfig?.slug,\n    isEditing: getIsEditing({\n      id,\n      collectionSlug: collectionConfig?.slug,\n      globalSlug: globalConfig?.slug,\n    }),\n  })\n\n  return {\n    docPermissions,\n    hasPublishPermission,\n    hasSavePermission,\n  }\n}\n"],"names":["hasSavePermission","getHasSavePermission","isEditing","getIsEditing","docAccessOperation","docAccessOperationGlobal","logError","hasDraftsEnabled","getDocumentPermissions","args","id","collectionConfig","data","globalConfig","req","docPermissions","hasPublishPermission","collection","config","_status","update","err","payload","collectionSlug","slug","globalSlug"],"mappings":";;;;AAQA,SACEA,iBAAA,IAAqBC,oBAAoB,EACzCC,SAAA,IAAaC,YAAY,QACpB;AACP,SAASC,kBAAkB,EAAEC,wBAAwB,EAAEC,QAAQ,QAAQ;AACvE,SAASC,gBAAgB,QAAQ;;;;;;;;;;AAE1B,MAAMC,sBAAA,GAAyB,OAAOC,IAAA;IAc3C,MAAM,EAAEC,EAAE,EAAEC,gBAAgB,EAAEC,IAAA,GAAO,CAAC,CAAC,EAAEC,YAAY,EAAEC,GAAAA,EAAK,GAAGL,IAAA;IAE/D,IAAIM,cAAA;IACJ,IAAIC,oBAAA,GAAuB;IAE3B,IAAIL,gBAAA,EAAkB;QACpB,IAAI;YACFI,cAAA,GAAiB,UAAMX,kLAAA,EAAmB;gBACxCM,EAAA;gBACAO,UAAA,EAAY;oBACVC,MAAA,EAAQP;gBACV;gBACAC,IAAA,EAAM;oBACJ,GAAGA,IAAI;oBACPO,OAAA,EAAS;gBACX;gBACAL;YACF;YAEA,QAAIP,oMAAA,EAAiBI,gBAAA,GAAmB;gBACtCK,oBAAA,GAAuB,CACrB,UAAMZ,kLAAA,EAAmB;oBACvBM,EAAA;oBACAO,UAAA,EAAY;wBACVC,MAAA,EAAQP;oBACV;oBACAC,IAAA,EAAM;wBACJ,GAAGA,IAAI;wBACPO,OAAA,EAAS;oBACX;oBACAL;gBACF,EAAC,EACDM,MAAM;YACV;QACF,EAAE,OAAOC,GAAA,EAAK;gBACZf,wKAAA,EAAS;gBAAEe,GAAA;gBAAKC,OAAA,EAASR,GAAA,CAAIQ,OAAAA;YAAQ;QACvC;IACF;IAEA,IAAIT,YAAA,EAAc;QAChB,IAAI;YACFE,cAAA,GAAiB,UAAMV,wLAAA,EAAyB;gBAC9CO,IAAA;gBACAC,YAAA;gBACAC;YACF;YAEA,QAAIP,oMAAA,EAAiBM,YAAA,GAAe;gBAClCG,oBAAA,GAAuB,CACrB,UAAMX,wLAAA,EAAyB;oBAC7BO,IAAA,EAAM;wBACJ,GAAGA,IAAI;wBACPO,OAAA,EAAS;oBACX;oBACAN,YAAA;oBACAC;gBACF,EAAC,EACDM,MAAM;YACV;QACF,EAAE,OAAOC,GAAA,EAAK;gBACZf,wKAAA,EAAS;gBAAEe,GAAA;gBAAKC,OAAA,EAASR,GAAA,CAAIQ,OAAAA;YAAQ;QACvC;IACF;IAEA,MAAMtB,iBAAA,OAAoBC,6MAAA,EAAqB;QAC7CsB,cAAA,EAAgBZ,gBAAA,EAAkBa,IAAA;QAClCT,cAAA;QACAU,UAAA,EAAYZ,YAAA,EAAcW,IAAA;QAC1BtB,SAAA,MAAWC,qMAAA,EAAa;YACtBO,EAAA;YACAa,cAAA,EAAgBZ,gBAAA,EAAkBa,IAAA;YAClCC,UAAA,EAAYZ,YAAA,EAAcW;QAC5B;IACF;IAEA,OAAO;QACLT,cAAA;QACAC,oBAAA;QACAhB;IACF;AACF","ignoreList":[]}},
    {"offset": {"line": 4183, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Document/getIsLocked.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Document/getIsLocked.ts"],"sourcesContent":["import type {\n  PayloadRequest,\n  SanitizedCollectionConfig,\n  SanitizedGlobalConfig,\n  TypedUser,\n  Where,\n} from 'payload'\n\nimport { sanitizeID } from '@payloadcms/ui/shared'\nimport { extractID } from 'payload/shared'\n\ntype Args = {\n  collectionConfig?: SanitizedCollectionConfig\n  globalConfig?: SanitizedGlobalConfig\n  id?: number | string\n  isEditing: boolean\n  req: PayloadRequest\n}\n\ntype Result = Promise<{\n  currentEditor?: TypedUser\n  isLocked: boolean\n  lastUpdateTime?: number\n}>\n\nexport const getIsLocked = async ({\n  id,\n  collectionConfig,\n  globalConfig,\n  isEditing,\n  req,\n}: Args): Result => {\n  const entityConfig = collectionConfig || globalConfig\n\n  const entityHasLockingEnabled =\n    entityConfig?.lockDocuments !== undefined ? entityConfig?.lockDocuments : true\n\n  // Check if the locked-documents collection exists\n  if (!req.payload.collections?.['payload-locked-documents']) {\n    // If the collection doesn't exist, locking is not available\n    return {\n      isLocked: false,\n    }\n  }\n\n  if (!entityHasLockingEnabled || !isEditing) {\n    return {\n      isLocked: false,\n    }\n  }\n\n  const where: Where = {}\n\n  const lockDurationDefault = 300 // Default 5 minutes in seconds\n  const lockDuration =\n    typeof entityConfig.lockDocuments === 'object'\n      ? entityConfig.lockDocuments.duration\n      : lockDurationDefault\n  const lockDurationInMilliseconds = lockDuration * 1000\n\n  const now = new Date().getTime()\n\n  if (globalConfig) {\n    where.and = [\n      {\n        globalSlug: {\n          equals: globalConfig.slug,\n        },\n      },\n      {\n        updatedAt: {\n          greater_than: new Date(now - lockDurationInMilliseconds),\n        },\n      },\n    ]\n  } else {\n    where.and = [\n      {\n        'document.value': {\n          equals: sanitizeID(id),\n        },\n      },\n      {\n        'document.relationTo': {\n          equals: collectionConfig.slug,\n        },\n      },\n      {\n        updatedAt: {\n          greater_than: new Date(now - lockDurationInMilliseconds),\n        },\n      },\n    ]\n  }\n\n  const { docs } = await req.payload.find({\n    collection: 'payload-locked-documents',\n    depth: 1,\n    overrideAccess: false,\n    req,\n    where,\n  })\n\n  if (docs.length > 0) {\n    const currentEditor = docs[0].user?.value\n    const lastUpdateTime = new Date(docs[0].updatedAt).getTime()\n\n    if (extractID(currentEditor) !== req.user.id) {\n      return {\n        currentEditor,\n        isLocked: true,\n        lastUpdateTime,\n      }\n    }\n  }\n\n  return {\n    isLocked: false,\n  }\n}\n"],"names":["sanitizeID","extractID","getIsLocked","id","collectionConfig","globalConfig","isEditing","req","entityConfig","entityHasLockingEnabled","lockDocuments","undefined","payload","collections","isLocked","where","lockDurationDefault","lockDuration","duration","lockDurationInMilliseconds","now","Date","getTime","and","globalSlug","equals","slug","updatedAt","greater_than","docs","find","collection","depth","overrideAccess","length","currentEditor","user","value","lastUpdateTime"],"mappings":";;;;AAQA,SAASA,UAAU,QAAQ;AAC3B,SAASC,SAAS,QAAQ;;;;;;;;AAgBnB,MAAMC,WAAA,GAAc,MAAAA,CAAO,EAChCC,EAAE,EACFC,gBAAgB,EAChBC,YAAY,EACZC,SAAS,EACTC,GAAAA,EACK;IACL,MAAMC,YAAA,GAAeJ,gBAAA,IAAoBC,YAAA;IAEzC,MAAMI,uBAAA,GACJD,YAAA,EAAcE,aAAA,KAAkBC,SAAA,GAAYH,YAAA,EAAcE,aAAA,GAAgB;IAE5E,kDAAA;IACA,IAAI,CAACH,GAAA,CAAIK,OAAO,CAACC,WAAW,EAAA,CAAG,2BAA2B,EAAE;QAC1D,4DAAA;QACA,OAAO;YACLC,QAAA,EAAU;QACZ;IACF;IAEA,IAAI,CAACL,uBAAA,IAA2B,CAACH,SAAA,EAAW;QAC1C,OAAO;YACLQ,QAAA,EAAU;QACZ;IACF;IAEA,MAAMC,KAAA,GAAe,CAAC;IAEtB,MAAMC,mBAAA,GAAsB,IAAI,+BAAA;;IAChC,MAAMC,YAAA,GACJ,OAAOT,YAAA,CAAaE,aAAa,KAAK,WAClCF,YAAA,CAAaE,aAAa,CAACQ,QAAQ,GACnCF,mBAAA;IACN,MAAMG,0BAAA,GAA6BF,YAAA,GAAe;IAElD,MAAMG,GAAA,GAAM,IAAIC,IAAA,GAAOC,OAAO;IAE9B,IAAIjB,YAAA,EAAc;QAChBU,KAAA,CAAMQ,GAAG,GAAG;YACV;gBACEC,UAAA,EAAY;oBACVC,MAAA,EAAQpB,YAAA,CAAaqB,IAAAA;gBACvB;YACF;YACA;gBACEC,SAAA,EAAW;oBACTC,YAAA,EAAc,IAAIP,IAAA,CAAKD,GAAA,GAAMD,0BAAA;gBAC/B;YACF;SACD;IACH,OAAO;QACLJ,KAAA,CAAMQ,GAAG,GAAG;YACV;gBACE,kBAAkB;oBAChBE,MAAA,MAAQzB,sMAAA,EAAWG,EAAA;gBACrB;YACF;YACA;gBACE,uBAAuB;oBACrBsB,MAAA,EAAQrB,gBAAA,CAAiBsB,IAAAA;gBAC3B;YACF;YACA;gBACEC,SAAA,EAAW;oBACTC,YAAA,EAAc,IAAIP,IAAA,CAAKD,GAAA,GAAMD,0BAAA;gBAC/B;YACF;SACD;IACH;IAEA,MAAM,EAAEU,IAAAA,EAAM,GAAG,MAAMtB,GAAA,CAAIK,OAAO,CAACkB,IAAI,CAAC;QACtCC,UAAA,EAAY;QACZC,KAAA,EAAO;QACPC,cAAA,EAAgB;QAChB1B,GAAA;QACAQ;IACF;IAEA,IAAIc,IAAA,CAAKK,MAAM,GAAG,GAAG;QACnB,MAAMC,aAAA,GAAgBN,IAAI,CAAC,EAAE,CAACO,IAAI,EAAEC,KAAA;QACpC,MAAMC,cAAA,GAAiB,IAAIjB,IAAA,CAAKQ,IAAI,CAAC,EAAE,CAACF,SAAS,EAAEL,OAAO;QAE1D,QAAIrB,6LAAA,EAAUkC,aAAA,MAAmB5B,GAAA,CAAI6B,IAAI,CAACjC,EAAE,EAAE;YAC5C,OAAO;gBACLgC,aAAA;gBACArB,QAAA,EAAU;gBACVwB;YACF;QACF;IACF;IAEA,OAAO;QACLxB,QAAA,EAAU;IACZ;AACF","ignoreList":[]}},
    {"offset": {"line": 4278, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Document/getVersions.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Document/getVersions.ts"],"sourcesContent":["import { sanitizeID, traverseForLocalizedFields } from '@payloadcms/ui/shared'\nimport {\n  combineQueries,\n  extractAccessFromPermission,\n  type Payload,\n  type SanitizedCollectionConfig,\n  type SanitizedDocumentPermissions,\n  type SanitizedGlobalConfig,\n  type TypedUser,\n} from 'payload'\nimport { hasAutosaveEnabled, hasDraftsEnabled } from 'payload/shared'\n\ntype Args = {\n  collectionConfig?: SanitizedCollectionConfig\n  /**\n   * Optional - performance optimization.\n   * If a document has been fetched before fetching versions, pass it here.\n   * If this document is set to published, we can skip the query to find out if a published document exists,\n   * as the passed in document is proof of its existence.\n   */\n  doc?: Record<string, any>\n  docPermissions: SanitizedDocumentPermissions\n  globalConfig?: SanitizedGlobalConfig\n  id?: number | string\n  locale?: string\n  payload: Payload\n  user: TypedUser\n}\n\ntype Result = Promise<{\n  hasPublishedDoc: boolean\n  mostRecentVersionIsAutosaved: boolean\n  unpublishedVersionCount: number\n  versionCount: number\n}>\n\n// TODO: in the future, we can parallelize some of these queries\n// this will speed up the API by ~30-100ms or so\n// Note from the future: I have attempted parallelizing these queries, but it made this function almost 2x slower.\nexport const getVersions = async ({\n  id: idArg,\n  collectionConfig,\n  doc,\n  docPermissions,\n  globalConfig,\n  locale,\n  payload,\n  user,\n}: Args): Result => {\n  const id = sanitizeID(idArg)\n  let publishedDoc\n  let hasPublishedDoc = false\n  let mostRecentVersionIsAutosaved = false\n  let unpublishedVersionCount = 0\n  let versionCount = 0\n\n  const entityConfig = collectionConfig || globalConfig\n  const versionsConfig = entityConfig?.versions\n  const hasLocalizedFields = traverseForLocalizedFields(entityConfig.fields)\n  const localizedDraftsEnabled =\n    hasDraftsEnabled(entityConfig) &&\n    typeof payload.config.localization === 'object' &&\n    hasLocalizedFields\n\n  const shouldFetchVersions = Boolean(versionsConfig && docPermissions?.readVersions)\n\n  if (!shouldFetchVersions) {\n    // Without readVersions permission, determine published status from the _status field\n    const hasPublishedDoc = localizedDraftsEnabled\n      ? doc?._status === 'published'\n      : doc?._status !== 'draft'\n\n    return {\n      hasPublishedDoc,\n      mostRecentVersionIsAutosaved,\n      unpublishedVersionCount,\n      versionCount,\n    }\n  }\n\n  if (collectionConfig) {\n    if (!id) {\n      return {\n        hasPublishedDoc,\n        mostRecentVersionIsAutosaved,\n        unpublishedVersionCount,\n        versionCount,\n      }\n    }\n\n    if (hasDraftsEnabled(collectionConfig)) {\n      // Find out if a published document exists\n      if (doc?._status === 'published') {\n        publishedDoc = doc\n      } else {\n        publishedDoc = (\n          await payload.find({\n            collection: collectionConfig.slug,\n            depth: 0,\n            limit: 1,\n            locale: locale || undefined,\n            pagination: false,\n            select: {\n              updatedAt: true,\n            },\n            user,\n            where: {\n              and: [\n                {\n                  _status: {\n                    equals: 'published',\n                  },\n                },\n                {\n                  id: {\n                    equals: id,\n                  },\n                },\n              ],\n            },\n          })\n        )?.docs?.[0]\n      }\n\n      if (publishedDoc) {\n        hasPublishedDoc = true\n      }\n\n      if (hasAutosaveEnabled(collectionConfig)) {\n        const where: Record<string, any> = {\n          and: [\n            {\n              parent: {\n                equals: id,\n              },\n            },\n          ],\n        }\n\n        if (localizedDraftsEnabled) {\n          where.and.push({\n            snapshot: {\n              not_equals: true,\n            },\n          })\n        }\n\n        const mostRecentVersion = await payload.findVersions({\n          collection: collectionConfig.slug,\n          depth: 0,\n          limit: 1,\n          locale,\n          select: {\n            autosave: true,\n          },\n          user,\n          where: combineQueries(where, extractAccessFromPermission(docPermissions.readVersions)),\n        })\n\n        if (\n          mostRecentVersion.docs[0] &&\n          'autosave' in mostRecentVersion.docs[0] &&\n          mostRecentVersion.docs[0].autosave\n        ) {\n          mostRecentVersionIsAutosaved = true\n        }\n      }\n\n      if (publishedDoc?.updatedAt) {\n        ;({ totalDocs: unpublishedVersionCount } = await payload.countVersions({\n          collection: collectionConfig.slug,\n          locale,\n          user,\n          where: combineQueries(\n            {\n              and: [\n                {\n                  parent: {\n                    equals: id,\n                  },\n                },\n                {\n                  'version._status': {\n                    equals: 'draft',\n                  },\n                },\n                {\n                  updatedAt: {\n                    greater_than: publishedDoc.updatedAt,\n                  },\n                },\n              ],\n            },\n            extractAccessFromPermission(docPermissions.readVersions),\n          ),\n        }))\n      }\n    }\n\n    const countVersionsWhere: Record<string, any> = {\n      and: [\n        {\n          parent: {\n            equals: id,\n          },\n        },\n      ],\n    }\n\n    if (localizedDraftsEnabled) {\n      countVersionsWhere.and.push({\n        snapshot: {\n          not_equals: true,\n        },\n      })\n    }\n\n    ;({ totalDocs: versionCount } = await payload.countVersions({\n      collection: collectionConfig.slug,\n      locale,\n      user,\n      where: combineQueries(\n        countVersionsWhere,\n        extractAccessFromPermission(docPermissions.readVersions),\n      ),\n    }))\n  }\n\n  if (globalConfig) {\n    // Find out if a published document exists\n    if (hasDraftsEnabled(globalConfig)) {\n      if (doc?._status === 'published') {\n        publishedDoc = doc\n      } else {\n        publishedDoc = await payload.findGlobal({\n          slug: globalConfig.slug,\n          depth: 0,\n          locale,\n          select: {\n            updatedAt: true,\n          },\n          user,\n        })\n      }\n\n      if (publishedDoc?._status === 'published') {\n        hasPublishedDoc = true\n      }\n\n      if (hasAutosaveEnabled(globalConfig)) {\n        const mostRecentVersion = await payload.findGlobalVersions({\n          slug: globalConfig.slug,\n          limit: 1,\n          locale,\n          select: {\n            autosave: true,\n          },\n          user,\n        })\n\n        if (\n          mostRecentVersion.docs[0] &&\n          'autosave' in mostRecentVersion.docs[0] &&\n          mostRecentVersion.docs[0].autosave\n        ) {\n          mostRecentVersionIsAutosaved = true\n        }\n      }\n\n      if (publishedDoc?.updatedAt) {\n        ;({ totalDocs: unpublishedVersionCount } = await payload.countGlobalVersions({\n          global: globalConfig.slug,\n          locale,\n          user,\n          where: combineQueries(\n            {\n              and: [\n                {\n                  'version._status': {\n                    equals: 'draft',\n                  },\n                },\n                {\n                  updatedAt: {\n                    greater_than: publishedDoc.updatedAt,\n                  },\n                },\n              ],\n            },\n            extractAccessFromPermission(docPermissions.readVersions),\n          ),\n        }))\n      }\n    }\n\n    ;({ totalDocs: versionCount } = await payload.countGlobalVersions({\n      global: globalConfig.slug,\n      locale,\n      user,\n      where: localizedDraftsEnabled\n        ? {\n            snapshot: {\n              not_equals: true,\n            },\n          }\n        : undefined,\n    }))\n  }\n\n  return {\n    hasPublishedDoc,\n    mostRecentVersionIsAutosaved,\n    unpublishedVersionCount,\n    versionCount,\n  }\n}\n"],"names":["sanitizeID","traverseForLocalizedFields","combineQueries","extractAccessFromPermission","hasAutosaveEnabled","hasDraftsEnabled","getVersions","id","idArg","collectionConfig","doc","docPermissions","globalConfig","locale","payload","user","publishedDoc","hasPublishedDoc","mostRecentVersionIsAutosaved","unpublishedVersionCount","versionCount","entityConfig","versionsConfig","versions","hasLocalizedFields","fields","localizedDraftsEnabled","config","localization","shouldFetchVersions","Boolean","readVersions","_status","find","collection","slug","depth","limit","undefined","pagination","select","updatedAt","where","and","equals","docs","parent","push","snapshot","not_equals","mostRecentVersion","findVersions","autosave","totalDocs","countVersions","greater_than","countVersionsWhere","findGlobal","findGlobalVersions","countGlobalVersions","global"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 4519, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Account/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AccountClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call AccountClient() from the server but AccountClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Account/index.client.js <module evaluation>\",\n    \"AccountClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,gBAAgB,IAAA,wQAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,kGACA","ignoreList":[0]}},
    {"offset": {"line": 4533, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Account/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AccountClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call AccountClient() from the server but AccountClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Account/index.client.js\",\n    \"AccountClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,gBAAgB,IAAA,wQAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,8EACA","ignoreList":[0]}},
    {"offset": {"line": 4547, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Account/index.client.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Account/index.client.tsx"],"sourcesContent":["'use client'\nimport { type StepNavItem, useStepNav, useTranslation } from '@payloadcms/ui'\nimport React from 'react'\n\nexport const AccountClient: React.FC = () => {\n  const { setStepNav } = useStepNav()\n  const { t } = useTranslation()\n\n  React.useEffect(() => {\n    const nav: StepNavItem[] = []\n\n    nav.push({\n      label: t('authentication:account'),\n      url: '/account',\n    })\n\n    setStepNav(nav)\n  }, [setStepNav, t])\n\n  return null\n}\n"],"names":["c","_c","useStepNav","useTranslation","React","AccountClient","$","setStepNav","t","t0","t1","nav","push","label","url","useEffect"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 4555, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Account/ResetPreferences/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ResetPreferences = registerClientReference(\n    function() { throw new Error(\"Attempted to call ResetPreferences() from the server but ResetPreferences is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Account/ResetPreferences/index.js <module evaluation>\",\n    \"ResetPreferences\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,4GACA","ignoreList":[0]}},
    {"offset": {"line": 4569, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Account/ResetPreferences/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ResetPreferences = registerClientReference(\n    function() { throw new Error(\"Attempted to call ResetPreferences() from the server but ResetPreferences is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Account/ResetPreferences/index.js\",\n    \"ResetPreferences\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,wFACA","ignoreList":[0]}},
    {"offset": {"line": 4583, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Account/ResetPreferences/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Account/ResetPreferences/index.tsx"],"sourcesContent":["'use client'\nimport type { TypedUser } from 'payload'\n\nimport {\n  Button,\n  ConfirmationModal,\n  toast,\n  useConfig,\n  useModal,\n  useTranslation,\n} from '@payloadcms/ui'\nimport { formatAdminURL } from 'payload/shared'\nimport * as qs from 'qs-esm'\nimport { Fragment, useCallback } from 'react'\n\nconst confirmResetModalSlug = 'confirm-reset-modal'\n\nexport const ResetPreferences: React.FC<{\n  readonly user?: TypedUser\n}> = ({ user }) => {\n  const { openModal } = useModal()\n  const { t } = useTranslation()\n  const {\n    config: {\n      routes: { api: apiRoute },\n    },\n  } = useConfig()\n\n  const handleResetPreferences = useCallback(async () => {\n    if (!user) {\n      return\n    }\n\n    const stringifiedQuery = qs.stringify(\n      {\n        depth: 0,\n        where: {\n          user: {\n            id: {\n              equals: user.id,\n            },\n          },\n        },\n      },\n      { addQueryPrefix: true },\n    )\n\n    try {\n      const res = await fetch(\n        formatAdminURL({\n          apiRoute,\n          path: `/payload-preferences${stringifiedQuery}`,\n        }),\n        {\n          credentials: 'include',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          method: 'DELETE',\n        },\n      )\n\n      const json = await res.json()\n      const message = json.message\n\n      if (res.ok) {\n        toast.success(message)\n      } else {\n        toast.error(message)\n      }\n    } catch (_err) {\n      // swallow error\n    }\n  }, [apiRoute, user])\n\n  return (\n    <Fragment>\n      <div>\n        <Button buttonStyle=\"secondary\" onClick={() => openModal(confirmResetModalSlug)}>\n          {t('general:resetPreferences')}\n        </Button>\n      </div>\n      <ConfirmationModal\n        body={t('general:resetPreferencesDescription')}\n        confirmingLabel={t('general:resettingPreferences')}\n        heading={t('general:resetPreferences')}\n        modalSlug={confirmResetModalSlug}\n        onConfirm={handleResetPreferences}\n      />\n    </Fragment>\n  )\n}\n"],"names":["c","_c","Button","ConfirmationModal","toast","useConfig","useModal","useTranslation","formatAdminURL","qs","Fragment","useCallback","confirmResetModalSlug","ResetPreferences","t0","$","user","openModal","t","config","t1","routes","t2","api","apiRoute","t3","stringifiedQuery","stringify","depth","where","id","equals","addQueryPrefix","res","fetch","path","credentials","headers","method","json","message","ok","success","error","t4","_err","handleResetPreferences","t5","_jsxs","children","_jsx","buttonStyle","onClick","body","confirmingLabel","heading","modalSlug","onConfirm"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 4591, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Account/ToggleTheme/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ToggleTheme = registerClientReference(\n    function() { throw new Error(\"Attempted to call ToggleTheme() from the server but ToggleTheme is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Account/ToggleTheme/index.js <module evaluation>\",\n    \"ToggleTheme\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,uGACA","ignoreList":[0]}},
    {"offset": {"line": 4605, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Account/ToggleTheme/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ToggleTheme = registerClientReference(\n    function() { throw new Error(\"Attempted to call ToggleTheme() from the server but ToggleTheme is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Account/ToggleTheme/index.js\",\n    \"ToggleTheme\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,mFACA","ignoreList":[0]}},
    {"offset": {"line": 4619, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Account/ToggleTheme/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Account/ToggleTheme/index.tsx"],"sourcesContent":["'use client'\n\nimport { RadioGroupField, useTheme, useTranslation } from '@payloadcms/ui'\nimport React, { useCallback } from 'react'\n\nexport const ToggleTheme: React.FC = () => {\n  const { autoMode, setTheme, theme } = useTheme()\n  const { t } = useTranslation()\n\n  const onChange = useCallback(\n    (newTheme) => {\n      setTheme(newTheme)\n    },\n    [setTheme],\n  )\n\n  return (\n    <RadioGroupField\n      disableModifyingForm={true}\n      field={{\n        name: 'theme',\n        label: t('general:adminTheme'),\n        options: [\n          {\n            label: t('general:automatic'),\n            value: 'auto',\n          },\n          {\n            label: t('general:light'),\n            value: 'light',\n          },\n          {\n            label: t('general:dark'),\n            value: 'dark',\n          },\n        ],\n      }}\n      onChange={onChange}\n      path=\"theme\"\n      value={autoMode ? 'auto' : theme}\n    />\n  )\n}\n"],"names":["c","_c","RadioGroupField","useTheme","useTranslation","React","useCallback","ToggleTheme","$","autoMode","setTheme","theme","t","t0","newTheme","onChange","t1","_jsx","disableModifyingForm","field","name","label","options","value","path"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 4627, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Account/Settings/LanguageSelector.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LanguageSelector = registerClientReference(\n    function() { throw new Error(\"Attempted to call LanguageSelector() from the server but LanguageSelector is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Account/Settings/LanguageSelector.js <module evaluation>\",\n    \"LanguageSelector\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,+GACA","ignoreList":[0]}},
    {"offset": {"line": 4641, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Account/Settings/LanguageSelector.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LanguageSelector = registerClientReference(\n    function() { throw new Error(\"Attempted to call LanguageSelector() from the server but LanguageSelector is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Account/Settings/LanguageSelector.js\",\n    \"LanguageSelector\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,2FACA","ignoreList":[0]}},
    {"offset": {"line": 4655, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Account/Settings/LanguageSelector.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Account/Settings/LanguageSelector.tsx"],"sourcesContent":["'use client'\nimport type { AcceptedLanguages } from '@payloadcms/translations'\nimport type { ReactSelectOption } from '@payloadcms/ui'\nimport type { LanguageOptions } from 'payload'\n\nimport { ReactSelect, useTranslation } from '@payloadcms/ui'\nimport React from 'react'\n\nexport const LanguageSelector: React.FC<{\n  languageOptions: LanguageOptions\n}> = (props) => {\n  const { languageOptions } = props\n\n  const { i18n, switchLanguage } = useTranslation()\n\n  return (\n    <ReactSelect\n      inputId=\"language-select\"\n      isClearable={false}\n      onChange={async (option: ReactSelectOption<AcceptedLanguages>) => {\n        await switchLanguage(option.value)\n      }}\n      options={languageOptions}\n      value={languageOptions.find((language) => language.value === i18n.language)}\n    />\n  )\n}\n"],"names":["c","_c","ReactSelect","useTranslation","React","LanguageSelector","props","$","languageOptions","i18n","switchLanguage","t0","option","value","t1","t2","language","_jsx","inputId","isClearable","onChange","options","find"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 4663, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Account/Settings/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Account/Settings/index.tsx"],"sourcesContent":["import type { I18n } from '@payloadcms/translations'\nimport type { BasePayload, Config, LanguageOptions, TypedUser } from 'payload'\n\nimport { FieldLabel } from '@payloadcms/ui'\nimport React from 'react'\n\nimport { ResetPreferences } from '../ResetPreferences/index.js'\nimport './index.scss'\nimport { ToggleTheme } from '../ToggleTheme/index.js'\nimport { LanguageSelector } from './LanguageSelector.js'\n\nconst baseClass = 'payload-settings'\n\nexport const Settings: React.FC<{\n  readonly className?: string\n  readonly i18n: I18n\n  readonly languageOptions: LanguageOptions\n  readonly payload: BasePayload\n  readonly theme: Config['admin']['theme']\n  readonly user?: TypedUser\n}> = (props) => {\n  const { className, i18n, languageOptions, theme, user } = props\n\n  return (\n    <div className={[baseClass, className].filter(Boolean).join(' ')}>\n      <h3>{i18n.t('general:payloadSettings')}</h3>\n      <div className={`${baseClass}__language`}>\n        <FieldLabel htmlFor=\"language-select\" label={i18n.t('general:language')} />\n        <LanguageSelector languageOptions={languageOptions} />\n      </div>\n      {theme === 'all' && <ToggleTheme />}\n      <ResetPreferences user={user} />\n    </div>\n  )\n}\n"],"names":["FieldLabel","React","ResetPreferences","ToggleTheme","LanguageSelector","baseClass","Settings","props","className","i18n","languageOptions","theme","user","_jsxs","filter","Boolean","join","_jsx","t","htmlFor","label"],"mappings":";;;;;AAGA,SAASA,UAAU,QAAQ;AAC3B,OAAOC,KAAA,MAAW;AAElB,SAASC,gBAAgB,QAAQ;AAEjC,SAASC,WAAW,QAAQ;AAC5B,SAASC,gBAAgB,QAAQ;;;;;;;AAEjC,MAAMC,SAAA,GAAY;AAEX,MAAMC,QAAA,IAOPC,KAAA;IACJ,MAAM,EAAEC,SAAS,EAAEC,IAAI,EAAEC,eAAe,EAAEC,KAAK,EAAEC,IAAAA,EAAM,GAAGL,KAAA;IAE1D,OAAA,WAAA,OACEM,+NAAA,EAAC,OAAA;QAAIL,SAAA,EAAW;YAACH,SAAA;YAAWG,SAAA;SAAU,CAACM,MAAM,CAACC,OAAA,EAASC,IAAI,CAAC;;8BAC1DC,8NAAA,EAAC,MAAA;0BAAIR,IAAA,CAAKS,CAAC,CAAC;;8BACZL,+NAAA,EAAC,OAAA;gBAAIL,SAAA,EAAW,GAAGH,SAAA,CAAA,UAAA,CAAqB;;sCACtCY,8NAAA,EAACjB,sLAAA,EAAA;wBAAWmB,OAAA,EAAQ;wBAAkBC,KAAA,EAAOX,IAAA,CAAKS,CAAC,CAAC;;sCACpDD,8NAAA,EAACb,oNAAA,EAAA;wBAAiBM,eAAA,EAAiBA;;;;YAEpCC,KAAA,KAAU,SAAA,WAAA,OAASM,8NAAA,EAACd,uMAAA,EAAA,CAAA;Y,W,OACrBc,8NAAA,EAACf,iNAAA,EAAA;gBAAiBU,IAAA,EAAMA;;;;AAG9B","ignoreList":[]}},
    {"offset": {"line": 4716, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Account/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Account/index.tsx"],"sourcesContent":["import type { AdminViewServerProps, DocumentViewServerPropsOnly } from 'payload'\n\nimport { DocumentInfoProvider, EditDepthProvider, HydrateAuthProvider } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { buildFormState } from '@payloadcms/ui/utilities/buildFormState'\nimport { notFound } from 'next/navigation.js'\nimport { formatAdminURL } from 'payload/shared'\nimport React from 'react'\n\nimport { DocumentHeader } from '../../elements/DocumentHeader/index.js'\nimport { getDocPreferences } from '../Document/getDocPreferences.js'\nimport { getDocumentData } from '../Document/getDocumentData.js'\nimport { getDocumentPermissions } from '../Document/getDocumentPermissions.js'\nimport { getIsLocked } from '../Document/getIsLocked.js'\nimport { getVersions } from '../Document/getVersions.js'\nimport { EditView } from '../Edit/index.js'\nimport { AccountClient } from './index.client.js'\nimport { Settings } from './Settings/index.js'\n\nexport async function AccountView({ initPageResult, params, searchParams }: AdminViewServerProps) {\n  const {\n    languageOptions,\n    locale,\n    permissions,\n    req,\n    req: {\n      i18n,\n      payload,\n      payload: { config },\n      user,\n    },\n  } = initPageResult\n\n  const {\n    admin: { theme, user: userSlug },\n    routes: { api },\n    serverURL,\n  } = config\n\n  const collectionConfig = payload?.collections?.[userSlug]?.config\n\n  if (collectionConfig && user?.id) {\n    // Fetch the data required for the view\n    const data = await getDocumentData({\n      id: user.id,\n      collectionSlug: collectionConfig.slug,\n      locale,\n      payload,\n      req,\n      user,\n    })\n\n    if (!data) {\n      throw new Error('not-found')\n    }\n\n    // Get document preferences\n    const docPreferences = await getDocPreferences({\n      id: user.id,\n      collectionSlug: collectionConfig.slug,\n      payload,\n      user,\n    })\n\n    // Get permissions\n    const { docPermissions, hasPublishPermission, hasSavePermission } =\n      await getDocumentPermissions({\n        id: user.id,\n        collectionConfig,\n        data,\n        req,\n      })\n\n    // Build initial form state from data\n    const { state: formState } = await buildFormState({\n      id: user.id,\n      collectionSlug: collectionConfig.slug,\n      data,\n      docPermissions,\n      docPreferences,\n      locale: locale?.code,\n      operation: 'update',\n      renderAllFields: true,\n      req,\n      schemaPath: collectionConfig.slug,\n      skipValidation: true,\n    })\n\n    // Fetch document lock state\n    const { currentEditor, isLocked, lastUpdateTime } = await getIsLocked({\n      id: user.id,\n      collectionConfig,\n      isEditing: true,\n      req,\n    })\n\n    // Get all versions required for UI\n    const { hasPublishedDoc, mostRecentVersionIsAutosaved, unpublishedVersionCount, versionCount } =\n      await getVersions({\n        id: user.id,\n        collectionConfig,\n        doc: data,\n        docPermissions,\n        locale: locale?.code,\n        payload,\n        user,\n      })\n\n    return (\n      <DocumentInfoProvider\n        AfterFields={\n          <Settings\n            i18n={i18n}\n            languageOptions={languageOptions}\n            payload={payload}\n            theme={theme}\n            user={user}\n          />\n        }\n        apiURL={formatAdminURL({\n          apiRoute: api,\n          path: `/${userSlug}${user?.id ? `/${user.id}` : ''}`,\n        })}\n        collectionSlug={userSlug}\n        currentEditor={currentEditor}\n        docPermissions={docPermissions}\n        hasPublishedDoc={hasPublishedDoc}\n        hasPublishPermission={hasPublishPermission}\n        hasSavePermission={hasSavePermission}\n        id={user?.id}\n        initialData={data}\n        initialState={formState}\n        isEditing\n        isLocked={isLocked}\n        lastUpdateTime={lastUpdateTime}\n        mostRecentVersionIsAutosaved={mostRecentVersionIsAutosaved}\n        unpublishedVersionCount={unpublishedVersionCount}\n        versionCount={versionCount}\n      >\n        <EditDepthProvider>\n          <DocumentHeader\n            collectionConfig={collectionConfig}\n            hideTabs\n            permissions={permissions}\n            req={req}\n          />\n          <HydrateAuthProvider permissions={permissions} />\n          {RenderServerComponent({\n            Component: config.admin?.components?.views?.account?.Component,\n            Fallback: EditView,\n            importMap: payload.importMap,\n            serverProps: {\n              doc: data,\n              hasPublishedDoc,\n              i18n,\n              initPageResult,\n              locale,\n              params,\n              payload,\n              permissions,\n              routeSegments: [],\n              searchParams,\n              user,\n            } satisfies DocumentViewServerPropsOnly,\n          })}\n          <AccountClient />\n        </EditDepthProvider>\n      </DocumentInfoProvider>\n    )\n  }\n\n  return notFound()\n}\n"],"names":["DocumentInfoProvider","EditDepthProvider","HydrateAuthProvider","RenderServerComponent","buildFormState","notFound","formatAdminURL","React","DocumentHeader","getDocPreferences","getDocumentData","getDocumentPermissions","getIsLocked","getVersions","EditView","AccountClient","Settings","AccountView","initPageResult","params","searchParams","languageOptions","locale","permissions","req","i18n","payload","config","user","admin","theme","userSlug","routes","api","serverURL","collectionConfig","collections","id","data","collectionSlug","slug","Error","docPreferences","docPermissions","hasPublishPermission","hasSavePermission","state","formState","code","operation","renderAllFields","schemaPath","skipValidation","currentEditor","isLocked","lastUpdateTime","isEditing","hasPublishedDoc","mostRecentVersionIsAutosaved","unpublishedVersionCount","versionCount","doc","_jsx","AfterFields","apiURL","apiRoute","path","initialData","initialState","_jsxs","hideTabs","Component","components","views","account","Fallback","importMap","serverProps","routeSegments"],"mappings":";;;;;AAEA,SAASA,oBAAoB,EAAEC,iBAAiB,EAAEC,mBAAmB,QAAQ;AAC7E,SAASC,qBAAqB,QAAQ;AACtC,SAASC,cAAc,QAAQ;AAC/B,SAASC,QAAQ,QAAQ;AACzB,SAASC,cAAc,QAAQ;AAC/B,OAAOC,KAAA,MAAW;AAElB,SAASC,cAAc,QAAQ;AAC/B,SAASC,iBAAiB,QAAQ;AAClC,SAASC,eAAe,QAAQ;AAChC,SAASC,sBAAsB,QAAQ;AACvC,SAASC,WAAW,QAAQ;AAC5B,SAASC,WAAW,QAAQ;AAC5B,SAASC,QAAQ,QAAQ;AACzB,SAASC,aAAa,QAAQ;AAC9B,SAASC,QAAQ,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAElB,eAAeC,YAAY,EAAEC,cAAc,EAAEC,MAAM,EAAEC,YAAAA,EAAoC;IAC9F,MAAM,EACJC,eAAe,EACfC,MAAM,EACNC,WAAW,EACXC,GAAG,EACHA,GAAA,EAAK,EACHC,IAAI,EACJC,OAAO,EACPA,OAAA,EAAS,EAAEC,MAAAA,EAAQ,EACnBC,IAAAA,EAAI,EAEP,GAAGV,cAAA;IAEJ,MAAM,EACJW,KAAA,EAAO,EAAEC,KAAK,EAAEF,IAAA,EAAMG,QAAAA,EAAU,EAChCC,MAAA,EAAQ,EAAEC,GAAAA,EAAK,EACfC,SAAAA,EACD,GAAGP,MAAA;IAEJ,MAAMQ,gBAAA,GAAmBT,OAAA,EAASU,WAAA,EAAA,CAAcL,QAAA,CAAS,EAAEJ,MAAA;IAE3D,IAAIQ,gBAAA,IAAoBP,IAAA,EAAMS,EAAA,EAAI;QAChC,uCAAA;QACA,MAAMC,IAAA,GAAO,UAAM5B,uMAAA,EAAgB;YACjC2B,EAAA,EAAIT,IAAA,CAAKS,EAAE;YACXE,cAAA,EAAgBJ,gBAAA,CAAiBK,IAAI;YACrClB,MAAA;YACAI,OAAA;YACAF,GAAA;YACAI;QACF;QAEA,IAAI,CAACU,IAAA,EAAM;YACT,MAAM,IAAIG,KAAA,CAAM;QAClB;QAEA,2BAAA;QACA,MAAMC,cAAA,GAAiB,UAAMjC,2MAAA,EAAkB;YAC7C4B,EAAA,EAAIT,IAAA,CAAKS,EAAE;YACXE,cAAA,EAAgBJ,gBAAA,CAAiBK,IAAI;YACrCd,OAAA;YACAE;QACF;QAEA,kBAAA;QACA,MAAM,EAAEe,cAAc,EAAEC,oBAAoB,EAAEC,iBAAAA,EAAmB,GAC/D,UAAMlC,qNAAA,EAAuB;YAC3B0B,EAAA,EAAIT,IAAA,CAAKS,EAAE;YACXF,gBAAA;YACAG,IAAA;YACAd;QACF;QAEF,qCAAA;QACA,MAAM,EAAEsB,KAAA,EAAOC,SAAAA,EAAW,GAAG,UAAM3C,2LAAA,EAAe;YAChDiC,EAAA,EAAIT,IAAA,CAAKS,EAAE;YACXE,cAAA,EAAgBJ,gBAAA,CAAiBK,IAAI;YACrCF,IAAA;YACAK,cAAA;YACAD,cAAA;YACApB,MAAA,EAAQA,MAAA,EAAQ0B,IAAA;YAChBC,SAAA,EAAW;YACXC,eAAA,EAAiB;YACjB1B,GAAA;YACA2B,UAAA,EAAYhB,gBAAA,CAAiBK,IAAI;YACjCY,cAAA,EAAgB;QAClB;QAEA,4BAAA;QACA,MAAM,EAAEC,aAAa,EAAEC,QAAQ,EAAEC,cAAAA,EAAgB,GAAG,UAAM3C,+LAAA,EAAY;YACpEyB,EAAA,EAAIT,IAAA,CAAKS,EAAE;YACXF,gBAAA;YACAqB,SAAA,EAAW;YACXhC;QACF;QAEA,mCAAA;QACA,MAAM,EAAEiC,eAAe,EAAEC,4BAA4B,EAAEC,uBAAuB,EAAEC,YAAAA,EAAc,GAC5F,UAAM/C,+LAAA,EAAY;YAChBwB,EAAA,EAAIT,IAAA,CAAKS,EAAE;YACXF,gBAAA;YACA0B,GAAA,EAAKvB,IAAA;YACLK,cAAA;YACArB,MAAA,EAAQA,MAAA,EAAQ0B,IAAA;YAChBtB,OAAA;YACAE;QACF;QAEF,OAAA,WAAA,OACEkC,8NAAA,EAAC9D,gMAAA,EAAA;YACC+D,WAAA,EAAA,WAAA,OACED,8NAAA,EAAC9C,iMAAA,EAAA;gBACCS,IAAA,EAAMA,IAAA;gBACNJ,eAAA,EAAiBA,eAAA;gBACjBK,OAAA,EAASA,OAAA;gBACTI,KAAA,EAAOA,KAAA;gBACPF,IAAA,EAAMA;;YAGVoC,MAAA,MAAQ1D,kMAAA,EAAe;gBACrB2D,QAAA,EAAUhC,GAAA;gBACViC,IAAA,EAAM,CAAA,CAAA,EAAInC,QAAA,GAAWH,IAAA,EAAMS,EAAA,GAAK,CAAA,CAAA,EAAIT,IAAA,CAAKS,EAAE,EAAE,GAAG,IAAA;YAClD;YACAE,cAAA,EAAgBR,QAAA;YAChBsB,aAAA,EAAeA,aAAA;YACfV,cAAA,EAAgBA,cAAA;YAChBc,eAAA,EAAiBA,eAAA;YACjBb,oBAAA,EAAsBA,oBAAA;YACtBC,iBAAA,EAAmBA,iBAAA;YACnBR,EAAA,EAAIT,IAAA,EAAMS,EAAA;YACV8B,WAAA,EAAa7B,IAAA;YACb8B,YAAA,EAAcrB,SAAA;YACdS,SAAS,EAAA;YACTF,QAAA,EAAUA,QAAA;YACVC,cAAA,EAAgBA,cAAA;YAChBG,4BAAA,EAA8BA,4BAAA;YAC9BC,uBAAA,EAAyBA,uBAAA;YACzBC,YAAA,EAAcA,YAAA;sBAEd,WAAA,OAAAS,+NAAA,EAACpE,6LAAA,EAAA;;sCACC6D,8NAAA,EAACtD,qMAAA,EAAA;wBACC2B,gBAAA,EAAkBA,gBAAA;wBAClBmC,QAAQ,EAAA;wBACR/C,WAAA,EAAaA,WAAA;wBACbC,GAAA,EAAKA;;sCAEPsC,8NAAA,EAAC5D,+LAAA,EAAA;wBAAoBqB,WAAA,EAAaA;;wBACjCpB,iNAAA,EAAsB;wBACrBoE,SAAA,EAAW5C,MAAA,CAAOE,KAAK,EAAE2C,UAAA,EAAYC,KAAA,EAAOC,OAAA,EAASH,SAAA;wBACrDI,QAAA,EAAU7D,kLAAA;wBACV8D,SAAA,EAAWlD,OAAA,CAAQkD,SAAS;wBAC5BC,WAAA,EAAa;4BACXhB,GAAA,EAAKvB,IAAA;4BACLmB,eAAA;4BACAhC,IAAA;4BACAP,cAAA;4BACAI,MAAA;4BACAH,MAAA;4BACAO,OAAA;4BACAH,WAAA;4BACAuD,aAAA,EAAe,EAAE;4BACjB1D,YAAA;4BACAQ;wBACF;oBACF;oB,W,OACAkC,8NAAA,EAAC/C,oMAAA,EAAA,CAAA;iBAAA;;;IAIT;IAEA,WAAOV,8IAAA;AACT","ignoreList":[]}},
    {"offset": {"line": 4896, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/ui/dist/utilities/getFolderResultsComponentAndData.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/src/utilities/getFolderResultsComponentAndData.tsx"],"sourcesContent":["import type {\n  CollectionSlug,\n  ErrorResult,\n  GetFolderResultsComponentAndDataArgs,\n  ServerFunction,\n  Where,\n} from 'payload'\nimport type { FolderBreadcrumb, FolderOrDocument } from 'payload/shared'\n\nimport { APIError, formatErrors, getFolderData } from 'payload'\nimport { buildFolderWhereConstraints, combineWhereConstraints } from 'payload/shared'\n\nimport {\n  FolderFileTable,\n  ItemCardGrid,\n  // eslint-disable-next-line payload/no-imports-from-exports-dir -- This component is returned via server functions, it must reference the exports dir\n} from '../exports/client/index.js'\n\ntype GetFolderResultsComponentAndDataResult = {\n  breadcrumbs?: FolderBreadcrumb[]\n  documents?: FolderOrDocument[]\n  folderAssignedCollections?: CollectionSlug[]\n  FolderResultsComponent: React.ReactNode\n  subfolders?: FolderOrDocument[]\n}\n\ntype GetFolderResultsComponentAndDataErrorResult = {\n  breadcrumbs?: never\n  documents?: never\n  FolderResultsComponent?: never\n  subfolders?: never\n} & (\n  | {\n      message: string\n    }\n  | ErrorResult\n)\n\nexport const getFolderResultsComponentAndDataHandler: ServerFunction<\n  GetFolderResultsComponentAndDataArgs,\n  Promise<GetFolderResultsComponentAndDataErrorResult | GetFolderResultsComponentAndDataResult>\n> = async (args) => {\n  const { req } = args\n\n  try {\n    const res = await getFolderResultsComponentAndData(args)\n    return res\n  } catch (err) {\n    req.payload.logger.error({\n      err,\n      msg: `There was an error getting the folder results component and data`,\n    })\n\n    return formatErrors(err)\n  }\n}\n\n/**\n * This function is responsible for fetching folder data, building the results component\n * and returns the data and component together.\n */\nexport const getFolderResultsComponentAndData = async ({\n  browseByFolder = false,\n  collectionsToDisplay: activeCollectionSlugs,\n  displayAs,\n  folderAssignedCollections,\n  folderID = undefined,\n  req,\n  sort,\n}: GetFolderResultsComponentAndDataArgs): Promise<GetFolderResultsComponentAndDataResult> => {\n  const { payload } = req\n\n  if (!payload.config.folders) {\n    throw new APIError('Folders are not enabled in the configuration.')\n  }\n\n  const emptyQuery = {\n    id: {\n      exists: false,\n    },\n  }\n\n  let collectionSlug: CollectionSlug | undefined = undefined\n  let documentWhere: undefined | Where =\n    Array.isArray(activeCollectionSlugs) && !activeCollectionSlugs.length ? emptyQuery : undefined\n  let folderWhere: undefined | Where =\n    Array.isArray(activeCollectionSlugs) && !activeCollectionSlugs.length ? emptyQuery : undefined\n\n  // todo(perf): - collect promises and resolve them in parallel\n  for (const activeCollectionSlug of activeCollectionSlugs) {\n    if (activeCollectionSlug === payload.config.folders.slug) {\n      const folderCollectionConstraints = await buildFolderWhereConstraints({\n        collectionConfig: payload.collections[activeCollectionSlug].config,\n        folderID,\n        localeCode: req?.locale,\n        req,\n        search: typeof req?.query?.search === 'string' ? req.query.search : undefined,\n        sort,\n      })\n\n      if (folderCollectionConstraints) {\n        folderWhere = folderCollectionConstraints\n      }\n\n      folderWhere = combineWhereConstraints([\n        folderWhere,\n        Array.isArray(folderAssignedCollections) &&\n        folderAssignedCollections.length &&\n        payload.config.folders.collectionSpecific\n          ? {\n              or: [\n                {\n                  folderType: {\n                    in: folderAssignedCollections,\n                  },\n                },\n                // if the folderType is not set, it means it accepts all collections and should appear in the results\n                {\n                  folderType: {\n                    exists: false,\n                  },\n                },\n              ],\n            }\n          : undefined,\n      ])\n    } else if ((browseByFolder && folderID) || !browseByFolder) {\n      if (!browseByFolder) {\n        collectionSlug = activeCollectionSlug\n      }\n\n      if (!documentWhere) {\n        documentWhere = {\n          or: [],\n        }\n      }\n\n      const collectionConstraints = await buildFolderWhereConstraints({\n        collectionConfig: payload.collections[activeCollectionSlug].config,\n        folderID,\n        localeCode: req?.locale,\n        req,\n        search: typeof req?.query?.search === 'string' ? req.query.search : undefined,\n        sort,\n      })\n\n      if (collectionConstraints) {\n        documentWhere.or.push(collectionConstraints)\n      }\n    }\n  }\n\n  const folderData = await getFolderData({\n    collectionSlug,\n    documentWhere,\n    folderID,\n    folderWhere,\n    req,\n    sort,\n  })\n\n  let FolderResultsComponent = null\n\n  if (displayAs === 'grid') {\n    FolderResultsComponent = (\n      <div>\n        {folderData.subfolders.length ? (\n          <>\n            <ItemCardGrid items={folderData.subfolders} title={'Folders'} type=\"folder\" />\n          </>\n        ) : null}\n\n        {folderData.documents.length ? (\n          <>\n            <ItemCardGrid\n              items={folderData.documents}\n              subfolderCount={folderData.subfolders.length}\n              title={'Documents'}\n              type=\"file\"\n            />\n          </>\n        ) : null}\n      </div>\n    )\n  } else {\n    FolderResultsComponent = <FolderFileTable showRelationCell={browseByFolder} />\n  }\n\n  return {\n    breadcrumbs: folderData.breadcrumbs,\n    documents: folderData.documents,\n    folderAssignedCollections: folderData.folderAssignedCollections,\n    FolderResultsComponent,\n    subfolders: folderData.subfolders,\n  }\n}\n"],"names":["APIError","formatErrors","getFolderData","buildFolderWhereConstraints","combineWhereConstraints","FolderFileTable","ItemCardGrid","getFolderResultsComponentAndDataHandler","args","req","res","getFolderResultsComponentAndData","err","payload","logger","error","msg","browseByFolder","collectionsToDisplay","activeCollectionSlugs","displayAs","folderAssignedCollections","folderID","undefined","sort","config","folders","emptyQuery","id","exists","collectionSlug","documentWhere","Array","isArray","length","folderWhere","activeCollectionSlug","slug","folderCollectionConstraints","collectionConfig","collections","localeCode","locale","search","query","collectionSpecific","or","folderType","in","collectionConstraints","push","folderData","FolderResultsComponent","_jsxs","subfolders","_jsx","_Fragment","items","title","type","documents","subfolderCount","showRelationCell","breadcrumbs"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 5044, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/BrowseByFolder/buildView.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/BrowseByFolder/buildView.tsx"],"sourcesContent":["import type {\n  AdminViewServerProps,\n  BuildCollectionFolderViewResult,\n  FolderListViewClientProps,\n  FolderListViewServerPropsOnly,\n  FolderSortKeys,\n  ListQuery,\n} from 'payload'\n\nimport { DefaultBrowseByFolderView, HydrateAuthProvider } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { getFolderResultsComponentAndData, upsertPreferences } from '@payloadcms/ui/rsc'\nimport { formatAdminURL } from '@payloadcms/ui/shared'\nimport { redirect } from 'next/navigation.js'\nimport React from 'react'\n\nexport type BuildFolderViewArgs = {\n  customCellProps?: Record<string, any>\n  disableBulkDelete?: boolean\n  disableBulkEdit?: boolean\n  enableRowSelections: boolean\n  folderID?: number | string\n  isInDrawer?: boolean\n  overrideEntityVisibility?: boolean\n  query: ListQuery\n} & AdminViewServerProps\n\nexport const buildBrowseByFolderView = async (\n  args: BuildFolderViewArgs,\n): Promise<BuildCollectionFolderViewResult> => {\n  const {\n    browseByFolderSlugs: browseByFolderSlugsFromArgs = [],\n    disableBulkDelete,\n    disableBulkEdit,\n    enableRowSelections,\n    folderID,\n    initPageResult,\n    isInDrawer,\n    params,\n    query: queryFromArgs,\n    searchParams,\n  } = args\n\n  const {\n    locale: fullLocale,\n    permissions,\n    req: {\n      i18n,\n      payload,\n      payload: { config },\n      query: queryFromReq,\n      user,\n    },\n    visibleEntities,\n  } = initPageResult\n\n  if (config.folders === false || config.folders.browseByFolder === false) {\n    throw new Error('not-found')\n  }\n\n  const foldersSlug = config.folders.slug\n\n  /**\n   * All visiible folder enabled collection slugs that the user has read permissions for.\n   */\n  const allowReadCollectionSlugs = browseByFolderSlugsFromArgs.filter(\n    (collectionSlug) =>\n      permissions?.collections?.[collectionSlug]?.read &&\n      visibleEntities.collections.includes(collectionSlug),\n  )\n\n  const query =\n    queryFromArgs ||\n    ((queryFromReq\n      ? {\n          ...queryFromReq,\n          relationTo:\n            typeof queryFromReq?.relationTo === 'string'\n              ? JSON.parse(queryFromReq.relationTo)\n              : undefined,\n        }\n      : {}) as ListQuery)\n\n  /**\n   * If a folderID is provided and the relationTo query param exists,\n   * we filter the collection slugs to only those that are allowed to be read.\n   *\n   * If no folderID is provided, only folders should be active and displayed (the root view).\n   */\n  let collectionsToDisplay: string[] = []\n  if (folderID && Array.isArray(query?.relationTo)) {\n    collectionsToDisplay = query.relationTo.filter(\n      (slug) => allowReadCollectionSlugs.includes(slug) || slug === foldersSlug,\n    )\n  } else if (folderID) {\n    collectionsToDisplay = [...allowReadCollectionSlugs, foldersSlug]\n  } else {\n    collectionsToDisplay = [foldersSlug]\n  }\n\n  const {\n    routes: { admin: adminRoute },\n  } = config\n\n  /**\n   * @todo: find a pattern to avoid setting preferences on hard navigation, i.e. direct links, page refresh, etc.\n   * This will ensure that prefs are only updated when explicitly set by the user\n   * This could potentially be done by injecting a `sessionID` into the params and comparing it against a session cookie\n   */\n  const browseByFolderPreferences = await upsertPreferences<{\n    sort?: FolderSortKeys\n    viewPreference?: 'grid' | 'list'\n  }>({\n    key: 'browse-by-folder',\n    req: initPageResult.req,\n    value: {\n      sort: query?.sort as FolderSortKeys,\n    },\n  })\n\n  const sortPreference: FolderSortKeys = browseByFolderPreferences?.sort || 'name'\n  const viewPreference = browseByFolderPreferences?.viewPreference || 'grid'\n\n  const { breadcrumbs, documents, folderAssignedCollections, FolderResultsComponent, subfolders } =\n    await getFolderResultsComponentAndData({\n      browseByFolder: true,\n      collectionsToDisplay,\n      displayAs: viewPreference,\n      folderAssignedCollections: collectionsToDisplay.filter((slug) => slug !== foldersSlug) || [],\n      folderID,\n      req: initPageResult.req,\n      sort: sortPreference,\n    })\n\n  const resolvedFolderID = breadcrumbs[breadcrumbs.length - 1]?.id\n\n  if (\n    !isInDrawer &&\n    ((resolvedFolderID && folderID && folderID !== resolvedFolderID) ||\n      (folderID && !resolvedFolderID))\n  ) {\n    redirect(\n      formatAdminURL({\n        adminRoute,\n        path: config.admin.routes.browseByFolder,\n      }),\n    )\n  }\n\n  const serverProps: Omit<FolderListViewServerPropsOnly, 'collectionConfig' | 'listPreferences'> = {\n    documents,\n    i18n,\n    locale: fullLocale,\n    params,\n    payload,\n    permissions,\n    searchParams,\n    subfolders,\n    user,\n  }\n\n  // const folderViewSlots = renderFolderViewSlots({\n  //   clientProps: {\n  //   },\n  //   description: staticDescription,\n  //   payload,\n  //   serverProps,\n  // })\n\n  // Filter down allCollectionFolderSlugs by the ones the current folder is assingned to\n  const allAvailableCollectionSlugs =\n    folderID && Array.isArray(folderAssignedCollections) && folderAssignedCollections.length\n      ? allowReadCollectionSlugs.filter((slug) => folderAssignedCollections.includes(slug))\n      : allowReadCollectionSlugs\n\n  // Filter down activeCollectionFolderSlugs by the ones the current folder is assingned to\n  const availableActiveCollectionFolderSlugs = collectionsToDisplay.filter((slug) => {\n    if (slug === foldersSlug) {\n      return permissions?.collections?.[foldersSlug]?.read\n    } else {\n      return !folderAssignedCollections || folderAssignedCollections.includes(slug)\n    }\n  })\n\n  // Documents cannot be created without a parent folder in this view\n  const allowCreateCollectionSlugs = (\n    resolvedFolderID ? [foldersSlug, ...allAvailableCollectionSlugs] : [foldersSlug]\n  ).filter((collectionSlug) => {\n    if (collectionSlug === foldersSlug) {\n      return permissions?.collections?.[foldersSlug]?.create\n    }\n    return (\n      permissions?.collections?.[collectionSlug]?.create &&\n      visibleEntities.collections.includes(collectionSlug)\n    )\n  })\n\n  return {\n    View: (\n      <>\n        <HydrateAuthProvider permissions={permissions} />\n        {RenderServerComponent({\n          clientProps: {\n            // ...folderViewSlots,\n            activeCollectionFolderSlugs: availableActiveCollectionFolderSlugs,\n            allCollectionFolderSlugs: allAvailableCollectionSlugs,\n            allowCreateCollectionSlugs,\n            baseFolderPath: `/browse-by-folder`,\n            breadcrumbs,\n            disableBulkDelete,\n            disableBulkEdit,\n            documents,\n            enableRowSelections,\n            folderAssignedCollections,\n            folderFieldName: config.folders.fieldName,\n            folderID: resolvedFolderID || null,\n            FolderResultsComponent,\n            sort: sortPreference,\n            subfolders,\n            viewPreference,\n          } satisfies FolderListViewClientProps,\n          // Component:config.folders?.components?.views?.BrowseByFolders?.Component,\n          Fallback: DefaultBrowseByFolderView,\n          importMap: payload.importMap,\n          serverProps,\n        })}\n      </>\n    ),\n  }\n}\n"],"names":["DefaultBrowseByFolderView","HydrateAuthProvider","RenderServerComponent","getFolderResultsComponentAndData","upsertPreferences","formatAdminURL","redirect","React","buildBrowseByFolderView","args","browseByFolderSlugs","browseByFolderSlugsFromArgs","disableBulkDelete","disableBulkEdit","enableRowSelections","folderID","initPageResult","isInDrawer","params","query","queryFromArgs","searchParams","locale","fullLocale","permissions","req","i18n","payload","config","queryFromReq","user","visibleEntities","folders","browseByFolder","Error","foldersSlug","slug","allowReadCollectionSlugs","filter","collectionSlug","collections","read","includes","relationTo","JSON","parse","undefined","collectionsToDisplay","Array","isArray","routes","admin","adminRoute","browseByFolderPreferences","key","value","sort","sortPreference","viewPreference","breadcrumbs","documents","folderAssignedCollections","FolderResultsComponent","subfolders","displayAs","resolvedFolderID","length","id","path","serverProps","allAvailableCollectionSlugs","availableActiveCollectionFolderSlugs","allowCreateCollectionSlugs","create","View","_jsxs","_Fragment","_jsx","clientProps","activeCollectionFolderSlugs","allCollectionFolderSlugs","baseFolderPath","folderFieldName","fieldName","Fallback","importMap"],"mappings":";;;;;AASA,SAASA,yBAAyB,EAAEC,mBAAmB,QAAQ;AAC/D,SAASC,qBAAqB,QAAQ;;AACtC,SAASC,gCAAgC,EAAEC,iBAAiB,QAAQ;AACpE,SAASC,cAAc,QAAQ;AAC/B,SAASC,QAAQ,QAAQ;AACzB,OAAOC,KAAA,MAAW;;;;;;;;;;;;;;AAaX,MAAMC,uBAAA,GAA0B,OACrCC,IAAA;IAEA,MAAM,EACJC,mBAAA,EAAqBC,2BAAA,GAA8B,EAAE,EACrDC,iBAAiB,EACjBC,eAAe,EACfC,mBAAmB,EACnBC,QAAQ,EACRC,cAAc,EACdC,UAAU,EACVC,MAAM,EACNC,KAAA,EAAOC,aAAa,EACpBC,YAAAA,EACD,GAAGZ,IAAA;IAEJ,MAAM,EACJa,MAAA,EAAQC,UAAU,EAClBC,WAAW,EACXC,GAAA,EAAK,EACHC,IAAI,EACJC,OAAO,EACPA,OAAA,EAAS,EAAEC,MAAAA,EAAQ,EACnBT,KAAA,EAAOU,YAAY,EACnBC,IAAAA,EACD,EACDC,eAAAA,EACD,GAAGf,cAAA;IAEJ,IAAIY,MAAA,CAAOI,OAAO,KAAK,SAASJ,MAAA,CAAOI,OAAO,CAACC,cAAc,KAAK,OAAO;QACvE,MAAM,IAAIC,KAAA,CAAM;IAClB;IAEA,MAAMC,WAAA,GAAcP,MAAA,CAAOI,OAAO,CAACI,IAAI;IAEvC;;KAGA,MAAMC,wBAAA,GAA2B1B,2BAAA,CAA4B2B,MAAM,EAChEC,cAAA,GACCf,WAAA,EAAagB,WAAA,EAAA,CAAcD,cAAA,CAAe,EAAEE,IAAA,IAC5CV,eAAA,CAAgBS,WAAW,CAACE,QAAQ,CAACH,cAAA;IAGzC,MAAMpB,KAAA,GACJC,aAAA,IAAA,CACES,YAAA,GACE;QACE,GAAGA,YAAY;QACfc,UAAA,EACE,OAAOd,YAAA,EAAcc,UAAA,KAAe,WAChCC,IAAA,CAAKC,KAAK,CAAChB,YAAA,CAAac,UAAU,IAClCG;IACR,IACA,CAAC,CAAA;IAEP;;;;;KAMA,IAAIC,oBAAA,GAAiC,EAAE;IACvC,IAAIhC,QAAA,IAAYiC,KAAA,CAAMC,OAAO,CAAC9B,KAAA,EAAOwB,UAAA,GAAa;QAChDI,oBAAA,GAAuB5B,KAAA,CAAMwB,UAAU,CAACL,MAAM,EAC3CF,IAAA,GAASC,wBAAA,CAAyBK,QAAQ,CAACN,IAAA,KAASA,IAAA,KAASD,WAAA;IAElE,OAAO,IAAIpB,QAAA,EAAU;QACnBgC,oBAAA,GAAuB,C;eAAIV,wBAAA;YAA0BF,WAAA;SAAY;IACnE,OAAO;QACLY,oBAAA,GAAuB;YAACZ,WAAA;SAAY;IACtC;IAEA,MAAM,EACJe,MAAA,EAAQ,EAAEC,KAAA,EAAOC,UAAAA,EAAU,EAC5B,GAAGxB,MAAA;IAEJ;;;;KAKA,MAAMyB,yBAAA,GAA4B,UAAMjD,iMAAA,EAGrC;QACDkD,GAAA,EAAK;QACL7B,GAAA,EAAKT,cAAA,CAAeS,GAAG;QACvB8B,KAAA,EAAO;YACLC,IAAA,EAAMrC,KAAA,EAAOqC;QACf;IACF;IAEA,MAAMC,cAAA,GAAiCJ,yBAAA,EAA2BG,IAAA,IAAQ;IAC1E,MAAME,cAAA,GAAiBL,yBAAA,EAA2BK,cAAA,IAAkB;IAEpE,MAAM,EAAEC,WAAW,EAAEC,SAAS,EAAEC,yBAAyB,EAAEC,sBAAsB,EAAEC,UAAAA,EAAY,GAC7F,UAAM5D,+NAAA,EAAiC;QACrC8B,cAAA,EAAgB;QAChBc,oBAAA;QACAiB,SAAA,EAAWN,cAAA;QACXG,yBAAA,EAA2Bd,oBAAA,CAAqBT,MAAM,EAAEF,IAAA,GAASA,IAAA,KAASD,WAAA,KAAgB,EAAE;QAC5FpB,QAAA;QACAU,GAAA,EAAKT,cAAA,CAAeS,GAAG;QACvB+B,IAAA,EAAMC;IACR;IAEF,MAAMQ,gBAAA,GAAmBN,WAAW,CAACA,WAAA,CAAYO,MAAM,GAAG,EAAE,EAAEC,EAAA;IAE9D,IACE,CAAClD,UAAA,IAAA,CACAgD,gBAAC,IAAoBlD,QAAA,IAAYA,QAAA,KAAakD,gBAAA,IAC5ClD,QAAA,IAAY,CAACkD,gBAAgB,GAChC;YACA3D,8IAAA,MACED,kMAAA,EAAe;YACb+C,UAAA;YACAgB,IAAA,EAAMxC,MAAA,CAAOuB,KAAK,CAACD,MAAM,CAACjB,cAAAA;QAC5B;IAEJ;IAEA,MAAMoC,WAAA,GAA2F;QAC/FT,SAAA;QACAlC,IAAA;QACAJ,MAAA,EAAQC,UAAA;QACRL,MAAA;QACAS,OAAA;QACAH,WAAA;QACAH,YAAA;QACA0C,UAAA;QACAjC;IACF;IAEA,kDAAA;IACA,mBAAA;IACA,OAAA;IACA,oCAAA;IACA,aAAA;IACA,iBAAA;IACA,KAAA;IAEA,sFAAA;IACA,MAAMwC,2BAAA,GACJvD,QAAA,IAAYiC,KAAA,CAAMC,OAAO,CAACY,yBAAA,KAA8BA,yBAAA,CAA0BK,MAAM,GACpF7B,wBAAA,CAAyBC,MAAM,EAAEF,IAAA,GAASyB,yBAAA,CAA0BnB,QAAQ,CAACN,IAAA,KAC7EC,wBAAA;IAEN,yFAAA;IACA,MAAMkC,oCAAA,GAAuCxB,oBAAA,CAAqBT,MAAM,EAAEF,IAAA;QACxE,IAAIA,IAAA,KAASD,WAAA,EAAa;YACxB,OAAOX,WAAA,EAAagB,WAAA,EAAA,CAAcL,WAAA,CAAY,EAAEM,IAAA;QAClD,OAAO;YACL,OAAO,CAACoB,yBAAA,IAA6BA,yBAAA,CAA0BnB,QAAQ,CAACN,IAAA;QAC1E;IACF;IAEA,mEAAA;IACA,MAAMoC,0BAAA,GAA6B,CACjCP,gBAAA,GAAmB;QAAC9B,WAAA,E;WAAgBmC,2BAAA;KAA4B,GAAG;QAACnC,WAAA;KAAY,EAChFG,MAAM,EAAEC,cAAA;QACR,IAAIA,cAAA,KAAmBJ,WAAA,EAAa;YAClC,OAAOX,WAAA,EAAagB,WAAA,EAAA,CAAcL,WAAA,CAAY,EAAEsC,MAAA;QAClD;QACA,OACEjD,WAAA,EAAagB,WAAA,EAAA,CAAcD,cAAA,CAAe,EAAEkC,MAAA,IAC5C1C,eAAA,CAAgBS,WAAW,CAACE,QAAQ,CAACH,cAAA;IAEzC;IAEA,OAAO;QACLmC,IAAA,EAAA,WAAA,OACEC,+NAAA,EAAAC,mOAAA,EAAA;;kCACEC,8NAAA,EAAC5E,+LAAA,EAAA;oBAAoBuB,WAAA,EAAaA;;oBACjCtB,iNAAA,EAAsB;oBACrB4E,WAAA,EAAa;wBACX,sBAAA;wBACAC,2BAAA,EAA6BR,oCAAA;wBAC7BS,wBAAA,EAA0BV,2BAAA;wBAC1BE,0BAAA;wBACAS,cAAA,EAAgB,CAAA,iBAAA,CAAmB;wBACnCtB,WAAA;wBACA/C,iBAAA;wBACAC,eAAA;wBACA+C,SAAA;wBACA9C,mBAAA;wBACA+C,yBAAA;wBACAqB,eAAA,EAAiBtD,MAAA,CAAOI,OAAO,CAACmD,SAAS;wBACzCpE,QAAA,EAAUkD,gBAAA,IAAoB;wBAC9BH,sBAAA;wBACAN,IAAA,EAAMC,cAAA;wBACNM,UAAA;wBACAL;oBACF;oBACA,2EAAA;oBACA0B,QAAA,EAAUpF,qMAAA;oBACVqF,SAAA,EAAW1D,OAAA,CAAQ0D,SAAS;oBAC5BhB;gBACF;aAAA;;IAGN;AACF","ignoreList":[]}},
    {"offset": {"line": 5213, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/BrowseByFolder/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/BrowseByFolder/index.tsx"],"sourcesContent":["import type React from 'react'\n\nimport { notFound } from 'next/navigation.js'\n\nimport type { BuildFolderViewArgs } from './buildView.js'\n\nimport { buildBrowseByFolderView } from './buildView.js'\n\nexport const BrowseByFolder: React.FC<BuildFolderViewArgs> = async (args) => {\n  try {\n    const { View } = await buildBrowseByFolderView(args)\n    return View\n  } catch (error) {\n    if (error?.message === 'NEXT_REDIRECT') {\n      throw error\n    }\n    if (error.message === 'not-found') {\n      notFound()\n    } else {\n      console.error(error) // eslint-disable-line no-console\n    }\n  }\n}\n"],"names":["notFound","buildBrowseByFolderView","BrowseByFolder","args","View","error","message","console"],"mappings":";;;;AAEA,SAASA,QAAQ,QAAQ;AAIzB,SAASC,uBAAuB,QAAQ;;;;;;;AAEjC,MAAMC,cAAA,GAAgD,OAAOC,IAAA;IAClE,IAAI;QACF,MAAM,EAAEC,IAAAA,EAAM,GAAG,UAAMH,+MAAA,EAAwBE,IAAA;QAC/C,OAAOC,IAAA;IACT,EAAE,OAAOC,KAAA,EAAO;QACd,IAAIA,KAAA,EAAOC,OAAA,KAAY,iBAAiB;YACtC,MAAMD,KAAA;QACR;QACA,IAAIA,KAAA,CAAMC,OAAO,KAAK,aAAa;gBACjCN,8IAAA;QACF,OAAO;YACLO,OAAA,CAAQF,KAAK,CAACA,KAAA,GAAO,iCAAA;QACvB;IACF;AACF","ignoreList":[]}},
    {"offset": {"line": 5247, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/CollectionFolders/buildView.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/CollectionFolders/buildView.tsx"],"sourcesContent":["import type {\n  AdminViewServerProps,\n  BuildCollectionFolderViewResult,\n  FolderListViewClientProps,\n  FolderListViewServerPropsOnly,\n  FolderSortKeys,\n  ListQuery,\n} from 'payload'\n\nimport { DefaultCollectionFolderView, HydrateAuthProvider } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { getFolderResultsComponentAndData, upsertPreferences } from '@payloadcms/ui/rsc'\nimport { formatAdminURL } from '@payloadcms/ui/shared'\nimport { redirect } from 'next/navigation.js'\nimport React from 'react'\n\n// import { renderFolderViewSlots } from './renderFolderViewSlots.js'\n\nexport type BuildCollectionFolderViewStateArgs = {\n  disableBulkDelete?: boolean\n  disableBulkEdit?: boolean\n  enableRowSelections: boolean\n  folderID?: number | string\n  isInDrawer?: boolean\n  overrideEntityVisibility?: boolean\n  query: ListQuery\n} & AdminViewServerProps\n\n/**\n * Builds the entire view for collection-folder views on the server\n */\nexport const buildCollectionFolderView = async (\n  args: BuildCollectionFolderViewStateArgs,\n): Promise<BuildCollectionFolderViewResult> => {\n  const {\n    disableBulkDelete,\n    disableBulkEdit,\n    enableRowSelections,\n    folderID,\n    initPageResult,\n    isInDrawer,\n    overrideEntityVisibility,\n    params,\n    query: queryFromArgs,\n    searchParams,\n  } = args\n\n  const {\n    collectionConfig,\n    collectionConfig: { slug: collectionSlug },\n    locale: fullLocale,\n    permissions,\n    req: {\n      i18n,\n      payload,\n      payload: { config },\n      query: queryFromReq,\n      user,\n    },\n    visibleEntities,\n  } = initPageResult\n\n  if (!config.folders) {\n    throw new Error('not-found')\n  }\n\n  if (\n    !permissions?.collections?.[collectionSlug]?.read ||\n    !permissions?.collections?.[config.folders.slug].read\n  ) {\n    throw new Error('not-found')\n  }\n\n  if (collectionConfig) {\n    if (\n      (!visibleEntities.collections.includes(collectionSlug) && !overrideEntityVisibility) ||\n      !config.folders\n    ) {\n      throw new Error('not-found')\n    }\n\n    const query = queryFromArgs || queryFromReq\n\n    /**\n     * @todo: find a pattern to avoid setting preferences on hard navigation, i.e. direct links, page refresh, etc.\n     * This will ensure that prefs are only updated when explicitly set by the user\n     * This could potentially be done by injecting a `sessionID` into the params and comparing it against a session cookie\n     */\n    const collectionFolderPreferences = await upsertPreferences<{\n      sort?: FolderSortKeys\n      viewPreference?: 'grid' | 'list'\n    }>({\n      key: `${collectionSlug}-collection-folder`,\n      req: initPageResult.req,\n      value: {\n        sort: query?.sort as FolderSortKeys,\n      },\n    })\n\n    const sortPreference: FolderSortKeys = collectionFolderPreferences?.sort || 'name'\n    const viewPreference = collectionFolderPreferences?.viewPreference || 'grid'\n\n    const {\n      routes: { admin: adminRoute },\n    } = config\n\n    const {\n      breadcrumbs,\n      documents,\n      folderAssignedCollections,\n      FolderResultsComponent,\n      subfolders,\n    } = await getFolderResultsComponentAndData({\n      browseByFolder: false,\n      collectionsToDisplay: [config.folders.slug, collectionSlug],\n      displayAs: viewPreference,\n      folderAssignedCollections: [collectionSlug],\n      folderID,\n      req: initPageResult.req,\n      sort: sortPreference,\n    })\n\n    const resolvedFolderID = breadcrumbs[breadcrumbs.length - 1]?.id\n\n    if (\n      !isInDrawer &&\n      ((resolvedFolderID && folderID && folderID !== resolvedFolderID) ||\n        (folderID && !resolvedFolderID))\n    ) {\n      redirect(\n        formatAdminURL({\n          adminRoute,\n          path: `/collections/${collectionSlug}/${config.folders.slug}`,\n        }),\n      )\n    }\n\n    const serverProps: FolderListViewServerPropsOnly = {\n      collectionConfig,\n      documents,\n      i18n,\n      locale: fullLocale,\n      params,\n      payload,\n      permissions,\n      searchParams,\n      subfolders,\n      user,\n    }\n\n    // We could support slots in the folder view in the future\n    // const folderViewSlots = renderFolderViewSlots({\n    //   clientProps: {\n    //     collectionSlug,\n    //     hasCreatePermission,\n    //     newDocumentURL,\n    //   },\n    //   collectionConfig,\n    //   description: typeof collectionConfig.admin.description === 'function'\n    //   ? collectionConfig.admin.description({ t: i18n.t })\n    //   : collectionConfig.admin.description,\n    //   payload,\n    //   serverProps,\n    // })\n\n    const search = query?.search as string\n\n    return {\n      View: (\n        <>\n          <HydrateAuthProvider permissions={permissions} />\n          {RenderServerComponent({\n            clientProps: {\n              // ...folderViewSlots,\n              allCollectionFolderSlugs: [config.folders.slug, collectionSlug],\n              allowCreateCollectionSlugs: [\n                permissions?.collections?.[config.folders.slug]?.create\n                  ? config.folders.slug\n                  : null,\n                resolvedFolderID && permissions?.collections?.[collectionSlug]?.create\n                  ? collectionSlug\n                  : null,\n              ].filter(Boolean),\n              baseFolderPath: `/collections/${collectionSlug}/${config.folders.slug}`,\n              breadcrumbs,\n              collectionSlug,\n              disableBulkDelete,\n              disableBulkEdit,\n              documents,\n              enableRowSelections,\n              folderAssignedCollections,\n              folderFieldName: config.folders.fieldName,\n              folderID: resolvedFolderID || null,\n              FolderResultsComponent,\n              search,\n              sort: sortPreference,\n              subfolders,\n              viewPreference,\n            } satisfies FolderListViewClientProps,\n            // Component: collectionConfig?.admin?.components?.views?.Folders?.Component,\n            Fallback: DefaultCollectionFolderView,\n            importMap: payload.importMap,\n            serverProps,\n          })}\n        </>\n      ),\n    }\n  }\n\n  throw new Error('not-found')\n}\n"],"names":["DefaultCollectionFolderView","HydrateAuthProvider","RenderServerComponent","getFolderResultsComponentAndData","upsertPreferences","formatAdminURL","redirect","React","buildCollectionFolderView","args","disableBulkDelete","disableBulkEdit","enableRowSelections","folderID","initPageResult","isInDrawer","overrideEntityVisibility","params","query","queryFromArgs","searchParams","collectionConfig","slug","collectionSlug","locale","fullLocale","permissions","req","i18n","payload","config","queryFromReq","user","visibleEntities","folders","Error","collections","read","includes","collectionFolderPreferences","key","value","sort","sortPreference","viewPreference","routes","admin","adminRoute","breadcrumbs","documents","folderAssignedCollections","FolderResultsComponent","subfolders","browseByFolder","collectionsToDisplay","displayAs","resolvedFolderID","length","id","path","serverProps","search","View","_jsxs","_Fragment","_jsx","clientProps","allCollectionFolderSlugs","allowCreateCollectionSlugs","create","filter","Boolean","baseFolderPath","folderFieldName","fieldName","Fallback","importMap"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 5399, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/CollectionFolders/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/CollectionFolders/index.tsx"],"sourcesContent":["import type React from 'react'\n\nimport { notFound } from 'next/navigation.js'\n\nimport type { BuildCollectionFolderViewStateArgs } from './buildView.js'\n\nimport { buildCollectionFolderView } from './buildView.js'\n\nexport const CollectionFolderView: React.FC<BuildCollectionFolderViewStateArgs> = async (args) => {\n  try {\n    const { View } = await buildCollectionFolderView(args)\n    return View\n  } catch (error) {\n    if (error?.message === 'NEXT_REDIRECT') {\n      throw error\n    }\n    if (error.message === 'not-found') {\n      notFound()\n    } else {\n      console.error(error) // eslint-disable-line no-console\n    }\n  }\n}\n"],"names":["notFound","buildCollectionFolderView","CollectionFolderView","args","View","error","message","console"],"mappings":";;;;AAEA,SAASA,QAAQ,QAAQ;AAIzB,SAASC,yBAAyB,QAAQ;;;;;;;AAEnC,MAAMC,oBAAA,GAAqE,OAAOC,IAAA;IACvF,IAAI;QACF,MAAM,EAAEC,IAAAA,EAAM,GAAG,UAAMH,oNAAA,EAA0BE,IAAA;QACjD,OAAOC,IAAA;IACT,EAAE,OAAOC,KAAA,EAAO;QACd,IAAIA,KAAA,EAAOC,OAAA,KAAY,iBAAiB;YACtC,MAAMD,KAAA;QACR;QACA,IAAIA,KAAA,CAAMC,OAAO,KAAK,aAAa;gBACjCN,8IAAA;QACF,OAAO;YACLO,OAAA,CAAQF,KAAK,CAACA,KAAA,GAAO,iCAAA;QACvB;IACF;AACF","ignoreList":[]}},
    {"offset": {"line": 5433, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/ui/dist/providers/TableColumns/buildColumnState/filterFieldsWithPermissions.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/src/providers/TableColumns/buildColumnState/filterFieldsWithPermissions.tsx"],"sourcesContent":["import type {\n  ClientField,\n  Field,\n  SanitizedFieldPermissions,\n  SanitizedFieldsPermissions,\n} from 'payload'\n\nimport { fieldAffectsData, fieldIsHiddenOrDisabled, fieldIsID } from 'payload/shared'\n\nconst shouldSkipField = (field: ClientField | Field): boolean =>\n  (field.type !== 'ui' && fieldIsHiddenOrDisabled(field) && !fieldIsID(field)) ||\n  field?.admin?.disableListColumn === true\n\nexport const filterFieldsWithPermissions = <T extends ClientField | Field = ClientField>({\n  fieldPermissions,\n  fields,\n}: {\n  fieldPermissions?: SanitizedFieldPermissions | SanitizedFieldsPermissions\n  fields: (ClientField | Field)[]\n}): T[] => {\n  return (fields ?? []).reduce((acc, field) => {\n    if (shouldSkipField(field)) {\n      return acc\n    }\n\n    // handle tabs\n    if (field.type === 'tabs' && 'tabs' in field) {\n      const formattedField = {\n        ...field,\n        tabs: field.tabs.map((tab) => ({\n          ...tab,\n          fields: filterFieldsWithPermissions<T>({\n            fieldPermissions:\n              typeof fieldPermissions === 'boolean'\n                ? fieldPermissions\n                : 'name' in tab && tab.name\n                  ? fieldPermissions[tab.name]?.fields || fieldPermissions[tab.name]\n                  : fieldPermissions,\n            fields: tab.fields,\n          }),\n        })),\n      } as ClientField | Field\n      acc.push(formattedField)\n      return acc\n    }\n\n    // handle fields with subfields (row, group, collapsible, etc.)\n    if ('fields' in field && Array.isArray(field.fields)) {\n      const formattedField = {\n        ...field,\n        fields: filterFieldsWithPermissions<T>({\n          fieldPermissions:\n            typeof fieldPermissions === 'boolean'\n              ? fieldPermissions\n              : 'name' in field && field.name\n                ? fieldPermissions?.[field.name]?.fields || fieldPermissions?.[field.name]\n                : fieldPermissions,\n          fields: field.fields,\n        }),\n      } as ClientField | Field\n      acc.push(formattedField)\n      return acc\n    }\n\n    if (fieldPermissions === true) {\n      acc.push(field)\n      return acc\n    }\n\n    if (fieldAffectsData(field)) {\n      const fieldPermission = fieldPermissions?.[field.name]\n      // Always allow ID fields, or if explicitly granted (true or { read: true })\n      // undefined means field is not in permissions object = denied\n      if (fieldIsID(field) || fieldPermission === true || fieldPermission?.read === true) {\n        acc.push(field)\n      }\n      return acc\n    }\n\n    // leaf\n    acc.push(field)\n    return acc\n  }, [])\n}\n"],"names":["fieldAffectsData","fieldIsHiddenOrDisabled","fieldIsID","shouldSkipField","field","type","admin","disableListColumn","filterFieldsWithPermissions","fieldPermissions","fields","reduce","acc","formattedField","tabs","map","tab","name","push","Array","isArray","fieldPermission","read"],"mappings":";;;;AAOA,SAASA,gBAAgB,EAAEC,uBAAuB,EAAEC,SAAS,QAAQ;;;;;;AAErE,MAAMC,eAAA,IAAmBC,KAAA,GACvBA,KAAC,CAAMC,IAAI,KAAK,YAAQJ,2MAAA,EAAwBG,KAAA,KAAU,KAACF,6LAAA,EAAUE,KAAA,KACrEA,KAAA,EAAOE,KAAA,EAAOC,iBAAA,KAAsB;AAE/B,MAAMC,2BAAA,GAA8BA,CAA8C,EACvFC,gBAAgB,EAChBC,MAAAA,EAID;IACC,OAAO,CAACA,MAAA,IAAU,EAAE,EAAEC,MAAM,CAAC,CAACC,GAAA,EAAKR,KAAA;QACjC,IAAID,eAAA,CAAgBC,KAAA,GAAQ;YAC1B,OAAOQ,GAAA;QACT;QAEA,cAAA;QACA,IAAIR,KAAA,CAAMC,IAAI,KAAK,UAAU,UAAUD,KAAA,EAAO;YAC5C,MAAMS,cAAA,GAAiB;gBACrB,GAAGT,KAAK;gBACRU,IAAA,EAAMV,KAAA,CAAMU,IAAI,CAACC,GAAG,EAAEC,GAAA,GAAA,CAAS;wBAC7B,GAAGA,GAAG;wBACNN,MAAA,EAAQF,2BAAA,CAA+B;4BACrCC,gBAAA,EACE,OAAOA,gBAAA,KAAqB,YACxBA,gBAAA,GACA,UAAUO,GAAA,IAAOA,GAAA,CAAIC,IAAI,GACvBR,gBAAgB,CAACO,GAAA,CAAIC,IAAI,CAAC,EAAEP,MAAA,IAAUD,gBAAgB,CAACO,GAAA,CAAIC,IAAI,CAAC,GAChER,gBAAA;4BACRC,MAAA,EAAQM,GAAA,CAAIN,MAAAA;wBACd;oBACF,CAAA;YACF;YACAE,GAAA,CAAIM,IAAI,CAACL,cAAA;YACT,OAAOD,GAAA;QACT;QAEA,+DAAA;QACA,IAAI,YAAYR,KAAA,IAASe,KAAA,CAAMC,OAAO,CAAChB,KAAA,CAAMM,MAAM,GAAG;YACpD,MAAMG,cAAA,GAAiB;gBACrB,GAAGT,KAAK;gBACRM,MAAA,EAAQF,2BAAA,CAA+B;oBACrCC,gBAAA,EACE,OAAOA,gBAAA,KAAqB,YACxBA,gBAAA,GACA,UAAUL,KAAA,IAASA,KAAA,CAAMa,IAAI,GAC3BR,gBAAA,EAAA,CAAmBL,KAAA,CAAMa,IAAI,CAAC,EAAEP,MAAA,IAAUD,gBAAA,EAAA,CAAmBL,KAAA,CAAMa,IAAI,CAAC,GACxER,gBAAA;oBACRC,MAAA,EAAQN,KAAA,CAAMM,MAAAA;gBAChB;YACF;YACAE,GAAA,CAAIM,IAAI,CAACL,cAAA;YACT,OAAOD,GAAA;QACT;QAEA,IAAIH,gBAAA,KAAqB,MAAM;YAC7BG,GAAA,CAAIM,IAAI,CAACd,KAAA;YACT,OAAOQ,GAAA;QACT;QAEA,QAAIZ,oMAAA,EAAiBI,KAAA,GAAQ;YAC3B,MAAMiB,eAAA,GAAkBZ,gBAAA,EAAA,CAAmBL,KAAA,CAAMa,IAAI,CAAC;YACtD,4EAAA;YACA,8DAAA;YACA,QAAIf,6LAAA,EAAUE,KAAA,KAAUiB,eAAA,KAAoB,QAAQA,eAAA,EAAiBC,IAAA,KAAS,MAAM;gBAClFV,GAAA,CAAIM,IAAI,CAACd,KAAA;YACX;YACA,OAAOQ,GAAA;QACT;QAEA,OAAA;QACAA,GAAA,CAAIM,IAAI,CAACd,KAAA;QACT,OAAOQ,GAAA;IACT,GAAG,EAAE;AACP","ignoreList":[]}},
    {"offset": {"line": 5501, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/ui/dist/providers/TableColumns/getInitialColumns.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/src/providers/TableColumns/getInitialColumns.ts"],"sourcesContent":["import type { ClientField, CollectionConfig, CollectionPreferences, Field } from 'payload'\n\nimport { fieldAffectsData } from 'payload/shared'\n\nconst getRemainingColumns = <T extends ClientField[] | Field[]>(\n  fields: T,\n  useAsTitle: string,\n): CollectionPreferences['columns'] =>\n  fields?.reduce((remaining, field) => {\n    if (fieldAffectsData(field) && field.name === useAsTitle) {\n      return remaining\n    }\n\n    if (!fieldAffectsData(field) && 'fields' in field) {\n      return [...remaining, ...getRemainingColumns(field.fields, useAsTitle)]\n    }\n\n    if (field.type === 'tabs' && 'tabs' in field) {\n      return [\n        ...remaining,\n        ...field.tabs.reduce(\n          (tabFieldColumns, tab) => [\n            ...tabFieldColumns,\n            ...('name' in tab ? [tab.name] : getRemainingColumns(tab.fields, useAsTitle)),\n          ],\n          [],\n        ),\n      ]\n    }\n\n    return [...remaining, field.name]\n  }, [])\n\n/**\n * Returns the initial columns to display in the table based on the following criteria:\n * 1. If `defaultColumns` is set in the collection config, use those columns\n * 2. Otherwise take `useAtTitle, if set, and the next 3 fields that are not hidden or disabled\n */\nexport const getInitialColumns = <T extends ClientField[] | Field[]>(\n  fields: T,\n  useAsTitle: CollectionConfig['admin']['useAsTitle'],\n  defaultColumns: CollectionConfig['admin']['defaultColumns'],\n): CollectionPreferences['columns'] => {\n  let initialColumns = []\n\n  if (Array.isArray(defaultColumns) && defaultColumns.length >= 1) {\n    initialColumns = defaultColumns\n  } else {\n    if (useAsTitle) {\n      initialColumns.push(useAsTitle)\n    }\n\n    const remainingColumns = getRemainingColumns(fields, useAsTitle)\n\n    initialColumns = initialColumns.concat(remainingColumns)\n    initialColumns = initialColumns.slice(0, 4)\n  }\n\n  return initialColumns.map((column) => ({\n    accessor: column,\n    active: true,\n  }))\n}\n"],"names":["fieldAffectsData","getRemainingColumns","fields","useAsTitle","reduce","remaining","field","name","type","tabs","tabFieldColumns","tab","getInitialColumns","defaultColumns","initialColumns","Array","isArray","length","push","remainingColumns","concat","slice","map","column","accessor","active"],"mappings":";;;;AAEA,SAASA,gBAAgB,QAAQ;;;;;;AAEjC,MAAMC,mBAAA,GAAsBA,CAC1BC,MAAA,EACAC,UAAA,GAEAD,MAAA,EAAQE,MAAA,CAAO,CAACC,SAAA,EAAWC,KAAA;QACzB,QAAIN,oMAAA,EAAiBM,KAAA,KAAUA,KAAA,CAAMC,IAAI,KAAKJ,UAAA,EAAY;YACxD,OAAOE,SAAA;QACT;QAEA,IAAI,KAACL,oMAAA,EAAiBM,KAAA,KAAU,YAAYA,KAAA,EAAO;YACjD,OAAO,C;mBAAID,SAAA,E;mBAAcJ,mBAAA,CAAoBK,KAAA,CAAMJ,MAAM,EAAEC,UAAA;aAAY;QACzE;QAEA,IAAIG,KAAA,CAAME,IAAI,KAAK,UAAU,UAAUF,KAAA,EAAO;YAC5C,OAAO,C;mBACFD,SAAA,E;mBACAC,KAAA,CAAMG,IAAI,CAACL,MAAM,CAClB,CAACM,eAAA,EAAiBC,GAAA,GAAQ,C;2BACrBD,eAAA,E;2BACC,UAAUC,GAAA,GAAM;4BAACA,GAAA,CAAIJ,IAAI;yBAAC,GAAGN,mBAAA,CAAoBU,GAAA,CAAIT,MAAM,EAAEC,UAAA;qBAClE,EACD,EAAE;aAEL;QACH;QAEA,OAAO,C;eAAIE,SAAA;YAAWC,KAAA,CAAMC,IAAI;SAAC;IACnC,GAAG,EAAE;AAOA,MAAMK,iBAAA,GAAoBA,CAC/BV,MAAA,EACAC,UAAA,EACAU,cAAA;IAEA,IAAIC,cAAA,GAAiB,EAAE;IAEvB,IAAIC,KAAA,CAAMC,OAAO,CAACH,cAAA,KAAmBA,cAAA,CAAeI,MAAM,IAAI,GAAG;QAC/DH,cAAA,GAAiBD,cAAA;IACnB,OAAO;QACL,IAAIV,UAAA,EAAY;YACdW,cAAA,CAAeI,IAAI,CAACf,UAAA;QACtB;QAEA,MAAMgB,gBAAA,GAAmBlB,mBAAA,CAAoBC,MAAA,EAAQC,UAAA;QAErDW,cAAA,GAAiBA,cAAA,CAAeM,MAAM,CAACD,gBAAA;QACvCL,cAAA,GAAiBA,cAAA,CAAeO,KAAK,CAAC,GAAG;IAC3C;IAEA,OAAOP,cAAA,CAAeQ,GAAG,EAAEC,MAAA,GAAA,CAAY;YACrCC,QAAA,EAAUD,MAAA;YACVE,MAAA,EAAQ;QACV,CAAA;AACF","ignoreList":[]}},
    {"offset": {"line": 5561, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/ui/dist/utilities/getColumns.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/src/utilities/getColumns.ts"],"sourcesContent":["import type { I18nClient } from '@payloadcms/translations'\nimport type {\n  ClientCollectionConfig,\n  ClientConfig,\n  ColumnPreference,\n  SanitizedPermissions,\n} from 'payload'\n\nimport { flattenTopLevelFields } from 'payload'\nimport { fieldAffectsData } from 'payload/shared'\n\nimport { filterFieldsWithPermissions } from '../providers/TableColumns/buildColumnState/filterFieldsWithPermissions.js'\nimport { getInitialColumns } from '../providers/TableColumns/getInitialColumns.js'\n\nexport const getColumns = ({\n  clientConfig,\n  collectionConfig,\n  collectionSlug,\n  columns,\n  i18n,\n  permissions,\n}: {\n  clientConfig: ClientConfig\n  collectionConfig?: ClientCollectionConfig\n  collectionSlug: string | string[]\n  columns: ColumnPreference[]\n  i18n: I18nClient\n  permissions?: SanitizedPermissions\n}) => {\n  const isPolymorphic = Array.isArray(collectionSlug)\n\n  const fields = !isPolymorphic ? (collectionConfig?.fields ?? []) : []\n\n  if (isPolymorphic) {\n    for (const collection of collectionSlug) {\n      const clientCollectionConfig = clientConfig.collections.find(\n        (each) => each.slug === collection,\n      )\n\n      for (const field of filterFieldsWithPermissions({\n        fieldPermissions: permissions?.collections?.[collection]?.fields || true,\n        fields: clientCollectionConfig.fields,\n      })) {\n        if (fieldAffectsData(field)) {\n          if (fields.some((each) => fieldAffectsData(each) && each.name === field.name)) {\n            continue\n          }\n        }\n\n        fields.push(field)\n      }\n    }\n  }\n\n  return columns?.length\n    ? columns?.filter((column) =>\n        flattenTopLevelFields(fields, {\n          i18n,\n          keepPresentationalFields: true,\n          moveSubFieldsToTop: true,\n        })?.some((field) => {\n          const accessor =\n            'accessor' in field ? field.accessor : 'name' in field ? field.name : undefined\n          return accessor === column.accessor\n        }),\n      )\n    : getInitialColumns(\n        isPolymorphic\n          ? fields\n          : filterFieldsWithPermissions({\n              fieldPermissions:\n                typeof collectionSlug === 'string' &&\n                permissions?.collections?.[collectionSlug]?.fields\n                  ? permissions.collections[collectionSlug].fields\n                  : true,\n              fields,\n            }),\n        collectionConfig?.admin?.useAsTitle,\n        isPolymorphic ? [] : collectionConfig?.admin?.defaultColumns,\n      )\n}\n"],"names":["flattenTopLevelFields","fieldAffectsData","filterFieldsWithPermissions","getInitialColumns","getColumns","clientConfig","collectionConfig","collectionSlug","columns","i18n","permissions","isPolymorphic","Array","isArray","fields","collection","clientCollectionConfig","collections","find","each","slug","field","fieldPermissions","some","name","push","length","filter","column","keepPresentationalFields","moveSubFieldsToTop","accessor","undefined","admin","useAsTitle","defaultColumns"],"mappings":";;;;AAQA,SAASA,qBAAqB,QAAQ;AACtC,SAASC,gBAAgB,QAAQ;AAEjC,SAASC,2BAA2B,QAAQ;AAC5C,SAASC,iBAAiB,QAAQ;;;;;;;;;;;;AAE3B,MAAMC,UAAA,GAAaA,CAAC,EACzBC,YAAY,EACZC,gBAAgB,EAChBC,cAAc,EACdC,OAAO,EACPC,IAAI,EACJC,WAAAA,EAQD;IACC,MAAMC,aAAA,GAAgBC,KAAA,CAAMC,OAAO,CAACN,cAAA;IAEpC,MAAMO,MAAA,GAAS,CAACH,aAAA,GAAiBL,gBAAA,EAAkBQ,MAAA,IAAU,EAAE,GAAI,EAAE;IAErE,IAAIH,aAAA,EAAe;QACjB,KAAK,MAAMI,UAAA,IAAcR,cAAA,CAAgB;YACvC,MAAMS,sBAAA,GAAyBX,YAAA,CAAaY,WAAW,CAACC,IAAI,EACzDC,IAAA,GAASA,IAAA,CAAKC,IAAI,KAAKL,UAAA;YAG1B,KAAK,MAAMM,KAAA,QAASnB,yPAAA,EAA4B;gBAC9CoB,gBAAA,EAAkBZ,WAAA,EAAaO,WAAA,EAAA,CAAcF,UAAA,CAAW,EAAED,MAAA,IAAU;gBACpEA,MAAA,EAAQE,sBAAA,CAAuBF,MAAAA;YACjC,GAAI;gBACF,QAAIb,oMAAA,EAAiBoB,KAAA,GAAQ;oBAC3B,IAAIP,MAAA,CAAOS,IAAI,EAAEJ,IAAA,OAASlB,oMAAA,EAAiBkB,IAAA,KAASA,IAAA,CAAKK,IAAI,KAAKH,KAAA,CAAMG,IAAI,GAAG;wBAC7E;oBACF;gBACF;gBAEAV,MAAA,CAAOW,IAAI,CAACJ,KAAA;YACd;QACF;IACF;IAEA,OAAOb,OAAA,EAASkB,MAAA,GACZlB,OAAA,EAASmB,MAAA,EAAQC,MAAA,OACf5B,qLAAA,EAAsBc,MAAA,EAAQ;YAC5BL,IAAA;YACAoB,wBAAA,EAA0B;YAC1BC,kBAAA,EAAoB;QACtB,IAAIP,IAAA,EAAMF,KAAA;YACR,MAAMU,QAAA,GACJ,cAAcV,KAAA,GAAQA,KAAA,CAAMU,QAAQ,GAAG,UAAUV,KAAA,GAAQA,KAAA,CAAMG,IAAI,GAAGQ,SAAA;YACxE,OAAOD,QAAA,KAAaH,MAAA,CAAOG,QAAQ;QACrC,UAEF5B,iNAAA,EACEQ,aAAA,GACIG,MAAA,OACAZ,yPAAA,EAA4B;QAC1BoB,gBAAA,EACE,OAAOf,cAAA,KAAmB,YAC1BG,WAAA,EAAaO,WAAA,EAAA,CAAcV,cAAA,CAAe,EAAEO,MAAA,GACxCJ,WAAA,CAAYO,WAAW,CAACV,cAAA,CAAe,CAACO,MAAM,GAC9C;QACNA;IACF,IACJR,gBAAA,EAAkB2B,KAAA,EAAOC,UAAA,EACzBvB,aAAA,GAAgB,EAAE,GAAGL,gBAAA,EAAkB2B,KAAA,EAAOE,cAAA;AAEtD","ignoreList":[]}},
    {"offset": {"line": 5616, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/ui/dist/providers/TableColumns/buildColumnState/isColumnActive.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/src/providers/TableColumns/buildColumnState/isColumnActive.ts"],"sourcesContent":["import type { ColumnPreference } from 'payload'\n\nexport function isColumnActive({\n  accessor,\n  activeColumnsIndices,\n  column,\n  columns,\n}: {\n  accessor: string\n  activeColumnsIndices: number[]\n  column: ColumnPreference\n  columns: ColumnPreference[]\n}) {\n  if (column) {\n    return column.active\n  } else if (columns && Array.isArray(columns) && columns.length > 0) {\n    return Boolean(columns.find((col) => col.accessor === accessor)?.active)\n  } else if (activeColumnsIndices.length < 4) {\n    return true\n  }\n\n  return false\n}\n"],"names":["isColumnActive","accessor","activeColumnsIndices","column","columns","active","Array","isArray","length","Boolean","find","col"],"mappings":";;;;AAEO,SAASA,eAAe,EAC7BC,QAAQ,EACRC,oBAAoB,EACpBC,MAAM,EACNC,OAAAA,EAMD;IACC,IAAID,MAAA,EAAQ;QACV,OAAOA,MAAA,CAAOE,MAAM;IACtB,OAAO,IAAID,OAAA,IAAWE,KAAA,CAAMC,OAAO,CAACH,OAAA,KAAYA,OAAA,CAAQI,MAAM,GAAG,GAAG;QAClE,OAAOC,OAAA,CAAQL,OAAA,CAAQM,IAAI,EAAEC,GAAA,GAAQA,GAAA,CAAIV,QAAQ,KAAKA,QAAA,GAAWI,MAAA;IACnE,OAAO,IAAIH,oBAAA,CAAqBM,MAAM,GAAG,GAAG;QAC1C,OAAO;IACT;IAEA,OAAO;AACT","ignoreList":[]}},
    {"offset": {"line": 5634, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/ui/dist/elements/RenderCustomComponent/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/src/elements/RenderCustomComponent/index.tsx"],"sourcesContent":["type Args = {\n  CustomComponent?: React.ReactNode\n  Fallback: React.ReactNode\n}\n\n/**\n * Renders a CustomComponent or a Fallback component.\n * Only fallback if the Custom Component is undefined.\n *\n * If the CustomComponent is null, render null.\n *\n * @param {Object} args - Arguments object.\n * @param {React.ReactNode} [args.CustomComponent] - Optional custom component to render.\n * @param {React.ReactNode} args.Fallback - Fallback component to render if CustomComponent is undefined.\n * @returns {React.ReactNode} Rendered component.\n */\nexport function RenderCustomComponent({ CustomComponent, Fallback }: Args): React.ReactNode {\n  return CustomComponent !== undefined ? CustomComponent : Fallback\n}\n"],"names":["RenderCustomComponent","CustomComponent","Fallback","undefined"],"mappings":"AAKA;;;;;;;;;;GAWA;;;;AAAO,SAASA,sBAAsB,EAAEC,eAAe,EAAEC,QAAAA,EAAgB;IACvE,OAAOD,eAAA,KAAoBE,SAAA,GAAYF,eAAA,GAAkBC,QAAA;AAC3D","ignoreList":[]}},
    {"offset": {"line": 5655, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/ui/dist/utilities/isValidReactElement.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/src/utilities/isValidReactElement.ts"],"sourcesContent":["import React, { type ReactElement } from 'react'\n\nconst LazyReactComponentSymbol = Symbol.for('react.lazy')\n\n/**\n * Since Next.js 15.4, `React.isValidElement()` returns `false` for components that cross the server-client boundary.\n * This utility expands on that check so that it returns true for valid React elements.\n */\nexport function isValidReactElement<P>(object: {} | null | undefined): object is ReactElement<P> {\n  return React.isValidElement(object) || object?.['$$typeof'] === LazyReactComponentSymbol\n}\n"],"names":["React","LazyReactComponentSymbol","Symbol","for","isValidReactElement","object","isValidElement"],"mappings":";;;;AAAA,OAAOA,KAAA,MAAkC;;AAEzC,MAAMC,wBAAA,GAA2BC,MAAA,CAAOC,GAAG,CAAC;AAMrC,SAASC,oBAAuBC,MAA6B;IAClE,OAAOL,gNAAA,CAAMM,cAAc,CAACD,MAAA,KAAWA,MAAA,EAAA,CAAS,WAAW,KAAKJ,wBAAA;AAClE","ignoreList":[]}},
    {"offset": {"line": 5669, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/ui/dist/utilities/hasOptionLabelJSXElement.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/src/utilities/hasOptionLabelJSXElement.ts"],"sourcesContent":["import type { DefaultCellComponentProps } from 'payload'\n\nimport { isValidReactElement } from './isValidReactElement.js'\n\nexport const hasOptionLabelJSXElement = (cellClientProps: DefaultCellComponentProps) => {\n  const { cellData, field } = cellClientProps\n\n  if ((field?.type === 'select' || field?.type == 'radio') && Array.isArray(field?.options)) {\n    const matchingOption = field.options.find(\n      (option) => typeof option === 'object' && option.value === cellData,\n    )\n\n    if (\n      matchingOption &&\n      typeof matchingOption === 'object' &&\n      isValidReactElement(matchingOption.label)\n    ) {\n      return true\n    }\n  }\n\n  return false\n}\n"],"names":["isValidReactElement","hasOptionLabelJSXElement","cellClientProps","cellData","field","type","Array","isArray","options","matchingOption","find","option","value","label"],"mappings":";;;;AAEA,SAASA,mBAAmB,QAAQ;;AAE7B,MAAMC,wBAAA,IAA4BC,eAAA;IACvC,MAAM,EAAEC,QAAQ,EAAEC,KAAAA,EAAO,GAAGF,eAAA;IAE5B,IAAI,CAACE,KAAA,EAAOC,IAAA,KAAS,YAAYD,KAAA,EAAOC,IAAA,IAAQ,OAAM,KAAMC,KAAA,CAAMC,OAAO,CAACH,KAAA,EAAOI,OAAA,GAAU;QACzF,MAAMC,cAAA,GAAiBL,KAAA,CAAMI,OAAO,CAACE,IAAI,EACtCC,MAAA,GAAW,OAAOA,MAAA,KAAW,YAAYA,MAAA,CAAOC,KAAK,KAAKT,QAAA;QAG7D,IACEM,cAAA,IACA,OAAOA,cAAA,KAAmB,gBAC1BT,qMAAA,EAAoBS,cAAA,CAAeI,KAAK,GACxC;YACA,OAAO;QACT;IACF;IAEA,OAAO;AACT","ignoreList":[]}},
    {"offset": {"line": 5689, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/ui/dist/providers/TableColumns/buildColumnState/findValueFromPath.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/src/providers/TableColumns/buildColumnState/findValueFromPath.ts"],"sourcesContent":["/**\n * Safely resolves a deeply nested value from a document using dot-notation accessor paths.\n *\n * Used in list views to retrieve field values, especially for fields hoisted from nested structures\n * like groups, where the accessor may be in the form of `group.someField`.\n *\n * @param doc - The document object to retrieve the value from.\n * @param path - A dot-separated accessor string (e.g., \"group.someField\").\n * @returns The resolved value at the specified path, or undefined if any segment is missing.\n */\nexport const findValueFromPath = (doc: Record<string, any>, path: string): any => {\n  return path.split('.').reduce((acc, key) => acc?.[key], doc)\n}\n"],"names":["findValueFromPath","doc","path","split","reduce","acc","key"],"mappings":"AAAA;;;;;;;;;GAUA;;;;AAAO,MAAMA,iBAAA,GAAoBA,CAACC,GAAA,EAA0BC,IAAA;IAC1D,OAAOA,IAAA,CAAKC,KAAK,CAAC,KAAKC,MAAM,CAAC,CAACC,GAAA,EAAKC,GAAA,GAAQD,GAAA,EAAA,CAAMC,GAAA,CAAI,EAAEL,GAAA;AAC1D","ignoreList":[]}},
    {"offset": {"line": 5711, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/ui/dist/providers/TableColumns/buildColumnState/renderCell.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/src/providers/TableColumns/buildColumnState/renderCell.tsx"],"sourcesContent":["import type { I18nClient } from '@payloadcms/translations'\nimport type {\n  ClientField,\n  DefaultCellComponentProps,\n  DefaultServerCellComponentProps,\n  Document,\n  Field,\n  Payload,\n  PayloadRequest,\n  ViewTypes,\n} from 'payload'\n\nimport { MissingEditorProp } from 'payload'\nimport { formatAdminURL } from 'payload/shared'\n\nimport { RenderCustomComponent } from '../../../elements/RenderCustomComponent/index.js'\nimport { RenderServerComponent } from '../../../elements/RenderServerComponent/index.js'\nimport {\n  DefaultCell,\n  RenderDefaultCell,\n  // eslint-disable-next-line payload/no-imports-from-exports-dir -- MUST reference the exports dir: https://github.com/payloadcms/payload/issues/12002#issuecomment-2791493587\n} from '../../../exports/client/index.js'\nimport { hasOptionLabelJSXElement } from '../../../utilities/hasOptionLabelJSXElement.js'\nimport { findValueFromPath } from './findValueFromPath.js'\n\ntype RenderCellArgs = {\n  readonly clientField: ClientField\n  readonly collectionSlug: string\n  readonly columnIndex: number\n  readonly customCellProps: DefaultCellComponentProps['customCellProps']\n  readonly doc: Document\n  readonly enableRowSelections: boolean\n  readonly i18n: I18nClient\n  readonly isLinkedColumn: boolean\n  readonly payload: Payload\n  readonly req?: PayloadRequest\n  readonly rowIndex: number\n  readonly serverField: Field\n  readonly viewType?: ViewTypes\n}\nexport function renderCell({\n  clientField,\n  collectionSlug,\n  columnIndex,\n  customCellProps,\n  doc,\n  enableRowSelections,\n  i18n,\n  isLinkedColumn,\n  payload,\n  req,\n  rowIndex,\n  serverField,\n  viewType,\n}: RenderCellArgs) {\n  const baseCellClientProps: DefaultCellComponentProps = {\n    cellData: undefined,\n    collectionSlug,\n    customCellProps,\n    field: clientField,\n    rowData: undefined,\n    viewType,\n  }\n\n  const accessor: string | undefined =\n    ('accessor' in clientField ? (clientField.accessor as string) : undefined) ??\n    ('name' in clientField ? clientField.name : undefined)\n\n  // Check if there's a custom formatDocURL function for this linked column\n  let shouldLink = isLinkedColumn\n  let customLinkURL: string | undefined\n\n  if (isLinkedColumn && req) {\n    const collectionConfig = payload.collections[collectionSlug]?.config\n    const formatDocURL = collectionConfig?.admin?.formatDocURL\n\n    if (typeof formatDocURL === 'function') {\n      // Generate the default URL that would normally be used\n      const adminRoute = req.payload.config.routes?.admin || '/admin'\n      const defaultURL = formatAdminURL({\n        adminRoute,\n        path: `/collections/${collectionSlug}${viewType === 'trash' ? '/trash' : ''}/${encodeURIComponent(String(doc.id))}`,\n      })\n\n      const customURL = formatDocURL({\n        collectionSlug,\n        defaultURL,\n        doc,\n        req,\n        viewType,\n      })\n\n      if (customURL === null) {\n        // formatDocURL returned null = disable linking entirely\n        shouldLink = false\n      } else if (typeof customURL === 'string') {\n        // formatDocURL returned a string = use custom URL\n        shouldLink = true\n        customLinkURL = customURL\n      } else {\n        // formatDocURL returned unexpected type = disable linking for safety\n        shouldLink = false\n      }\n    }\n  }\n\n  // For _status field, use _displayStatus if available (for showing \"changed\" status in list view)\n  const cellData =\n    'name' in clientField && accessor === '_status' && '_displayStatus' in doc\n      ? doc._displayStatus\n      : 'name' in clientField\n        ? findValueFromPath(doc, accessor)\n        : undefined\n\n  // For _status field, add 'changed' option for display purposes\n  // The 'changed' status is computed at runtime\n  let enrichedClientField = clientField\n  if ('name' in clientField && accessor === '_status' && clientField.type === 'select') {\n    const hasChangedOption = clientField.options?.some(\n      (opt) => (typeof opt === 'object' ? opt.value : opt) === 'changed',\n    )\n    if (!hasChangedOption) {\n      enrichedClientField = {\n        ...clientField,\n        options: [\n          ...(clientField.options || []),\n          {\n            label: i18n.t('version:draftHasPublishedVersion'),\n            value: 'changed',\n          },\n        ],\n      }\n    }\n  }\n\n  const cellClientProps: DefaultCellComponentProps = {\n    ...baseCellClientProps,\n    cellData,\n    field: enrichedClientField,\n    link: shouldLink,\n    linkURL: customLinkURL,\n    rowData: doc,\n  }\n\n  const cellServerProps: DefaultServerCellComponentProps = {\n    cellData: cellClientProps.cellData,\n    className: baseCellClientProps.className,\n    collectionConfig: payload.collections[collectionSlug].config,\n    collectionSlug,\n    columnIndex,\n    customCellProps: baseCellClientProps.customCellProps,\n    field: serverField,\n    i18n,\n    link: shouldLink,\n    linkURL: customLinkURL,\n    onClick: baseCellClientProps.onClick,\n    payload,\n    rowData: doc,\n  }\n\n  let CustomCell = null\n\n  if (serverField?.type === 'richText') {\n    if (!serverField?.editor) {\n      throw new MissingEditorProp(serverField) // while we allow disabling editor functionality, you should not have any richText fields defined if you do not have an editor\n    }\n\n    if (typeof serverField?.editor === 'function') {\n      throw new Error('Attempted to access unsanitized rich text editor.')\n    }\n\n    if (!serverField.admin) {\n      serverField.admin = {}\n    }\n\n    if (!serverField.admin.components) {\n      serverField.admin.components = {}\n    }\n\n    CustomCell = RenderServerComponent({\n      clientProps: cellClientProps,\n      Component: serverField.editor.CellComponent,\n      importMap: payload.importMap,\n      serverProps: cellServerProps,\n    })\n  } else {\n    const CustomCellComponent = serverField?.admin?.components?.Cell\n\n    if (CustomCellComponent) {\n      CustomCell = RenderServerComponent({\n        clientProps: cellClientProps,\n        Component: CustomCellComponent,\n        importMap: payload.importMap,\n        serverProps: cellServerProps,\n      })\n    } else if (\n      cellClientProps.cellData &&\n      cellClientProps.field &&\n      hasOptionLabelJSXElement(cellClientProps)\n    ) {\n      CustomCell = RenderServerComponent({\n        clientProps: cellClientProps,\n        Component: DefaultCell,\n        importMap: payload.importMap,\n      })\n    } else {\n      const CustomCellComponent = serverField?.admin?.components?.Cell\n\n      if (CustomCellComponent) {\n        CustomCell = RenderServerComponent({\n          clientProps: cellClientProps,\n          Component: CustomCellComponent,\n          importMap: payload.importMap,\n          serverProps: cellServerProps,\n        })\n      } else {\n        CustomCell = undefined\n      }\n    }\n  }\n\n  return (\n    <RenderCustomComponent\n      CustomComponent={CustomCell}\n      Fallback={\n        <RenderDefaultCell\n          clientProps={cellClientProps}\n          columnIndex={columnIndex}\n          enableRowSelections={enableRowSelections}\n          isLinkedColumn={isLinkedColumn}\n        />\n      }\n      key={`${rowIndex}-${columnIndex}`}\n    />\n  )\n}\n"],"names":["MissingEditorProp","formatAdminURL","RenderCustomComponent","RenderServerComponent","DefaultCell","RenderDefaultCell","hasOptionLabelJSXElement","findValueFromPath","renderCell","clientField","collectionSlug","columnIndex","customCellProps","doc","enableRowSelections","i18n","isLinkedColumn","payload","req","rowIndex","serverField","viewType","baseCellClientProps","cellData","undefined","field","rowData","accessor","name","shouldLink","customLinkURL","collectionConfig","collections","config","formatDocURL","admin","adminRoute","routes","defaultURL","path","encodeURIComponent","String","id","customURL","_displayStatus","enrichedClientField","type","hasChangedOption","options","some","opt","value","label","t","cellClientProps","link","linkURL","cellServerProps","className","onClick","CustomCell","editor","Error","components","clientProps","Component","CellComponent","importMap","serverProps","CustomCellComponent","Cell","_jsx","CustomComponent","Fallback"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 5888, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/ui/dist/providers/TableColumns/buildColumnState/sortFieldMap.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/src/providers/TableColumns/buildColumnState/sortFieldMap.ts"],"sourcesContent":["import type { ClientField, ColumnPreference, Field } from 'payload'\n\nfunction getAccessor(field) {\n  return field.accessor ?? ('name' in field ? field.name : undefined)\n}\n\nexport function sortFieldMap<T extends ClientField | Field>(\n  fieldMap: T[],\n  sortTo: ColumnPreference[],\n): T[] {\n  return fieldMap?.sort((a, b) => {\n    const aIndex = sortTo.findIndex((column) => 'name' in a && column.accessor === getAccessor(a))\n    const bIndex = sortTo.findIndex((column) => 'name' in b && column.accessor === getAccessor(b))\n\n    if (aIndex === -1 && bIndex === -1) {\n      return 0\n    }\n\n    if (aIndex === -1) {\n      return 1\n    }\n\n    if (bIndex === -1) {\n      return -1\n    }\n\n    return aIndex - bIndex\n  })\n}\n"],"names":["getAccessor","field","accessor","name","undefined","sortFieldMap","fieldMap","sortTo","sort","a","b","aIndex","findIndex","column","bIndex"],"mappings":";;;;AAEA,SAASA,YAAYC,KAAK;IACxB,OAAOA,KAAA,CAAMC,QAAQ,IAAA,CAAK,UAAUD,KAAA,GAAQA,KAAA,CAAME,IAAI,GAAGC,SAAQ;AACnE;AAEO,SAASC,aACdC,QAAa,EACbC,MAA0B;IAE1B,OAAOD,QAAA,EAAUE,IAAA,CAAK,CAACC,CAAA,EAAGC,CAAA;QACxB,MAAMC,MAAA,GAASJ,MAAA,CAAOK,SAAS,EAAEC,MAAA,GAAW,UAAUJ,CAAA,IAAKI,MAAA,CAAOX,QAAQ,KAAKF,WAAA,CAAYS,CAAA;QAC3F,MAAMK,MAAA,GAASP,MAAA,CAAOK,SAAS,EAAEC,MAAA,GAAW,UAAUH,CAAA,IAAKG,MAAA,CAAOX,QAAQ,KAAKF,WAAA,CAAYU,CAAA;QAE3F,IAAIC,MAAA,KAAW,CAAC,KAAKG,MAAA,KAAW,CAAC,GAAG;YAClC,OAAO;QACT;QAEA,IAAIH,MAAA,KAAW,CAAC,GAAG;YACjB,OAAO;QACT;QAEA,IAAIG,MAAA,KAAW,CAAC,GAAG;YACjB,OAAO,CAAC;QACV;QAEA,OAAOH,MAAA,GAASG,MAAA;IAClB;AACF","ignoreList":[]}},
    {"offset": {"line": 5917, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/ui/dist/providers/TableColumns/buildColumnState/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/src/providers/TableColumns/buildColumnState/index.tsx"],"sourcesContent":["import type { I18nClient } from '@payloadcms/translations'\nimport type {\n  ClientComponentProps,\n  ClientField,\n  CollectionPreferences,\n  CollectionSlug,\n  Column,\n  DefaultCellComponentProps,\n  Document,\n  Field,\n  PaginatedDocs,\n  Payload,\n  PayloadRequest,\n  SanitizedCollectionConfig,\n  SanitizedFieldsPermissions,\n  ServerComponentProps,\n  StaticLabel,\n  ViewTypes,\n} from 'payload'\n\nimport {\n  fieldIsHiddenOrDisabled,\n  fieldIsID,\n  fieldIsPresentationalOnly,\n  flattenTopLevelFields,\n} from 'payload/shared'\nimport React from 'react'\n\nimport type { SortColumnProps } from '../../../elements/SortColumn/index.js'\n\nimport { RenderServerComponent } from '../../../elements/RenderServerComponent/index.js'\nimport {\n  SortColumn,\n  // eslint-disable-next-line payload/no-imports-from-exports-dir -- MUST reference the exports dir: https://github.com/payloadcms/payload/issues/12002#issuecomment-2791493587\n} from '../../../exports/client/index.js'\nimport { filterFieldsWithPermissions } from './filterFieldsWithPermissions.js'\nimport { isColumnActive } from './isColumnActive.js'\nimport { renderCell } from './renderCell.js'\nimport { sortFieldMap } from './sortFieldMap.js'\n\nexport type BuildColumnStateArgs = {\n  beforeRows?: Column[]\n  clientFields: ClientField[]\n  columns?: CollectionPreferences['columns']\n  customCellProps: DefaultCellComponentProps['customCellProps']\n  enableLinkedCell?: boolean\n  enableRowSelections: boolean\n  enableRowTypes?: boolean\n  fieldPermissions?: SanitizedFieldsPermissions\n  i18n: I18nClient\n  payload: Payload\n  req?: PayloadRequest\n  serverFields: Field[]\n  sortColumnProps?: Partial<SortColumnProps>\n  useAsTitle: SanitizedCollectionConfig['admin']['useAsTitle']\n  viewType?: ViewTypes\n} & (\n  | {\n      collectionSlug: CollectionSlug\n      dataType: 'monomorphic'\n      docs: PaginatedDocs['docs']\n    }\n  | {\n      collectionSlug?: undefined\n      dataType: 'polymorphic'\n      docs: {\n        relationTo: CollectionSlug\n        value: Document\n      }[]\n    }\n)\n\nexport const buildColumnState = (args: BuildColumnStateArgs): Column[] => {\n  const {\n    beforeRows,\n    clientFields,\n    collectionSlug,\n    columns,\n    customCellProps,\n    dataType,\n    docs,\n    enableLinkedCell = true,\n    enableRowSelections,\n    fieldPermissions,\n    i18n,\n    payload,\n    req,\n    serverFields,\n    sortColumnProps,\n    useAsTitle,\n    viewType,\n  } = args\n\n  // clientFields contains the fake `id` column\n  let sortedFieldMap = flattenTopLevelFields(\n    filterFieldsWithPermissions({ fieldPermissions, fields: clientFields }),\n    {\n      i18n,\n      keepPresentationalFields: true,\n      moveSubFieldsToTop: true,\n    },\n  ) as ClientField[]\n\n  let _sortedFieldMap = flattenTopLevelFields(\n    filterFieldsWithPermissions({\n      fieldPermissions,\n      fields: serverFields,\n    }),\n    {\n      i18n,\n      keepPresentationalFields: true,\n      moveSubFieldsToTop: true,\n    },\n  ) as Field[] // TODO: think of a way to avoid this additional flatten\n\n  // place the `ID` field first, if it exists\n  // do the same for the `useAsTitle` field with precedence over the `ID` field\n  // then sort the rest of the fields based on the `defaultColumns` or `columns`\n  const idFieldIndex = sortedFieldMap?.findIndex((field) => fieldIsID(field))\n\n  if (idFieldIndex > -1) {\n    const idField = sortedFieldMap.splice(idFieldIndex, 1)[0]\n    sortedFieldMap.unshift(idField)\n  }\n\n  const useAsTitleFieldIndex = useAsTitle\n    ? sortedFieldMap.findIndex((field) => 'name' in field && field.name === useAsTitle)\n    : -1\n\n  if (useAsTitleFieldIndex > -1) {\n    const useAsTitleField = sortedFieldMap.splice(useAsTitleFieldIndex, 1)[0]\n    sortedFieldMap.unshift(useAsTitleField)\n  }\n\n  const sortTo = columns\n\n  if (sortTo) {\n    // sort the fields to the order of `defaultColumns` or `columns`\n    sortedFieldMap = sortFieldMap<ClientField>(sortedFieldMap, sortTo)\n    _sortedFieldMap = sortFieldMap<Field>(_sortedFieldMap, sortTo) // TODO: think of a way to avoid this additional sort\n  }\n\n  const activeColumnsIndices = []\n\n  const sorted: Column[] = sortedFieldMap?.reduce((acc, clientField, colIndex) => {\n    if (fieldIsHiddenOrDisabled(clientField) && !fieldIsID(clientField)) {\n      return acc\n    }\n\n    const accessor =\n      (clientField as any).accessor ?? ('name' in clientField ? clientField.name : undefined)\n\n    const serverField = _sortedFieldMap.find((f) => {\n      const fAccessor = (f as any).accessor ?? ('name' in f ? f.name : undefined)\n      return fAccessor === accessor\n    })\n\n    const hasCustomCell =\n      serverField?.admin &&\n      'components' in serverField.admin &&\n      serverField.admin.components &&\n      'Cell' in serverField.admin.components &&\n      serverField.admin.components.Cell\n\n    if (serverField && serverField.type === 'group' && !hasCustomCell) {\n      return acc // skip any group without a custom cell\n    }\n\n    const columnPref = columns?.find(\n      (preference) => clientField && 'name' in clientField && preference.accessor === accessor,\n    )\n\n    const isActive = isColumnActive({\n      accessor,\n      activeColumnsIndices,\n      column: columnPref,\n      columns,\n    })\n\n    if (isActive && !activeColumnsIndices.includes(colIndex)) {\n      activeColumnsIndices.push(colIndex)\n    }\n\n    let CustomLabel = undefined\n\n    if (dataType === 'monomorphic') {\n      const CustomLabelToRender =\n        serverField &&\n        'admin' in serverField &&\n        'components' in serverField.admin &&\n        'Label' in serverField.admin.components &&\n        serverField.admin.components.Label !== undefined // let it return `null`\n          ? serverField.admin.components.Label\n          : undefined\n\n      // TODO: customComponent will be optional in v4\n      const clientProps: Omit<ClientComponentProps, 'customComponents'> = {\n        field: clientField,\n      }\n\n      const customLabelServerProps: Pick<\n        ServerComponentProps,\n        'clientField' | 'collectionSlug' | 'field' | 'i18n' | 'payload'\n      > = {\n        clientField,\n        collectionSlug,\n        field: serverField,\n        i18n,\n        payload,\n      }\n\n      CustomLabel = CustomLabelToRender\n        ? RenderServerComponent({\n            clientProps,\n            Component: CustomLabelToRender,\n            importMap: payload.importMap,\n            serverProps: customLabelServerProps,\n          })\n        : undefined\n    }\n\n    const fieldAffectsDataSubFields =\n      clientField &&\n      clientField.type &&\n      (clientField.type === 'array' ||\n        clientField.type === 'group' ||\n        clientField.type === 'blocks')\n\n    const label =\n      clientField && 'labelWithPrefix' in clientField && clientField.labelWithPrefix !== undefined\n        ? clientField.labelWithPrefix\n        : 'label' in clientField\n          ? clientField.label\n          : undefined\n\n    // Convert accessor to dot notation specifically for SortColumn sorting behavior\n    const dotAccessor = accessor?.replace(/-/g, '.')\n\n    const isVirtualField = serverField && 'virtual' in serverField && serverField.virtual === true\n\n    const Heading = (\n      <SortColumn\n        disable={\n          fieldAffectsDataSubFields ||\n          fieldIsPresentationalOnly(clientField) ||\n          isVirtualField ||\n          undefined\n        }\n        Label={CustomLabel}\n        label={label as StaticLabel}\n        name={dotAccessor}\n        {...(sortColumnProps || {})}\n      />\n    )\n\n    const column: Column = {\n      accessor,\n      active: isActive,\n      CustomLabel,\n      field: clientField,\n      Heading,\n      renderedCells: isActive\n        ? docs.map((doc, rowIndex) => {\n            return renderCell({\n              clientField,\n              collectionSlug: dataType === 'monomorphic' ? collectionSlug : doc.relationTo,\n              columnIndex: colIndex,\n              customCellProps,\n              doc: dataType === 'monomorphic' ? doc : doc.value,\n              enableRowSelections,\n              i18n,\n              isLinkedColumn: enableLinkedCell && colIndex === activeColumnsIndices[0],\n              payload,\n              req,\n              rowIndex,\n              serverField,\n              viewType,\n            })\n          })\n        : [],\n    }\n\n    acc.push(column)\n\n    return acc\n  }, [])\n\n  if (beforeRows) {\n    sorted.unshift(...beforeRows)\n  }\n\n  return sorted\n}\n"],"names":["fieldIsHiddenOrDisabled","fieldIsID","fieldIsPresentationalOnly","flattenTopLevelFields","React","RenderServerComponent","SortColumn","filterFieldsWithPermissions","isColumnActive","renderCell","sortFieldMap","buildColumnState","args","beforeRows","clientFields","collectionSlug","columns","customCellProps","dataType","docs","enableLinkedCell","enableRowSelections","fieldPermissions","i18n","payload","req","serverFields","sortColumnProps","useAsTitle","viewType","sortedFieldMap","fields","keepPresentationalFields","moveSubFieldsToTop","_sortedFieldMap","idFieldIndex","findIndex","field","idField","splice","unshift","useAsTitleFieldIndex","name","useAsTitleField","sortTo","activeColumnsIndices","sorted","reduce","acc","clientField","colIndex","accessor","undefined","serverField","find","f","fAccessor","hasCustomCell","admin","components","Cell","type","columnPref","preference","isActive","column","includes","push","CustomLabel","CustomLabelToRender","Label","clientProps","customLabelServerProps","Component","importMap","serverProps","fieldAffectsDataSubFields","label","labelWithPrefix","dotAccessor","replace","isVirtualField","virtual","Heading","_jsx","disable","active","renderedCells","map","doc","rowIndex","relationTo","columnIndex","value","isLinkedColumn"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 6083, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/ui/dist/utilities/renderTable.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/src/utilities/renderTable.tsx"],"sourcesContent":["import type {\n  ClientCollectionConfig,\n  ClientConfig,\n  ClientField,\n  CollectionConfig,\n  Column,\n  ColumnPreference,\n  Field,\n  ImportMap,\n  ListQuery,\n  PaginatedDocs,\n  Payload,\n  PayloadRequest,\n  SanitizedCollectionConfig,\n  SanitizedFieldsPermissions,\n  ViewTypes,\n} from 'payload'\n\nimport { getTranslation, type I18nClient } from '@payloadcms/translations'\nimport { fieldAffectsData, fieldIsHiddenOrDisabled } from 'payload/shared'\nimport React from 'react'\n\nimport type { BuildColumnStateArgs } from '../providers/TableColumns/buildColumnState/index.js'\n\nimport { RenderServerComponent } from '../elements/RenderServerComponent/index.js'\nimport {\n  GroupByHeader,\n  GroupByPageControls,\n  OrderableTable,\n  Pill,\n  SelectAll,\n  SelectionProvider,\n  SelectRow,\n  SortHeader,\n  SortRow,\n  Table,\n  // eslint-disable-next-line payload/no-imports-from-exports-dir -- these MUST reference the exports dir: https://github.com/payloadcms/payload/issues/12002#issuecomment-2791493587\n} from '../exports/client/index.js'\nimport { filterFieldsWithPermissions } from '../providers/TableColumns/buildColumnState/filterFieldsWithPermissions.js'\nimport { buildColumnState } from '../providers/TableColumns/buildColumnState/index.js'\n\nexport const renderFilters = (\n  fields: Field[],\n  importMap: ImportMap,\n): Map<string, React.ReactNode> =>\n  fields.reduce(\n    (acc, field) => {\n      if (fieldIsHiddenOrDisabled(field)) {\n        return acc\n      }\n\n      if ('name' in field && field.admin?.components?.Filter) {\n        acc.set(\n          field.name,\n          RenderServerComponent({\n            Component: field.admin.components?.Filter,\n            importMap,\n          }),\n        )\n      }\n\n      return acc\n    },\n    new Map() as Map<string, React.ReactNode>,\n  )\n\nexport const renderTable = ({\n  clientCollectionConfig,\n  clientConfig,\n  collectionConfig,\n  collections,\n  columns,\n  customCellProps,\n  data,\n  enableRowSelections,\n  fieldPermissions,\n  groupByFieldPath,\n  groupByValue,\n  heading,\n  i18n,\n  key = 'table',\n  orderableFieldName,\n  payload,\n  query,\n  renderRowTypes,\n  req,\n  tableAppearance,\n  useAsTitle,\n  viewType,\n}: {\n  clientCollectionConfig?: ClientCollectionConfig\n  clientConfig?: ClientConfig\n  collectionConfig?: SanitizedCollectionConfig\n  collections?: string[]\n  columns: ColumnPreference[]\n  customCellProps?: Record<string, unknown>\n  data?: PaginatedDocs | undefined\n  drawerSlug?: string\n  enableRowSelections: boolean\n  fieldPermissions?: SanitizedFieldsPermissions\n  groupByFieldPath?: string\n  groupByValue?: string\n  heading?: string\n  i18n: I18nClient\n  key?: string\n  orderableFieldName: string\n  payload: Payload\n  query?: ListQuery\n  renderRowTypes?: boolean\n  req?: PayloadRequest\n  tableAppearance?: 'condensed' | 'default'\n  useAsTitle: CollectionConfig['admin']['useAsTitle']\n  viewType?: ViewTypes\n}): {\n  columnState: Column[]\n  Table: React.ReactNode\n} => {\n  // Ensure that columns passed as args comply with the field config, i.e. `hidden`, `disableListColumn`, etc.\n\n  let columnState: Column[]\n  let clientFields: ClientField[] = clientCollectionConfig?.fields || []\n  let serverFields: Field[] = collectionConfig?.fields || []\n  const isPolymorphic = collections\n\n  const isGroupingBy = Boolean(collectionConfig?.admin?.groupBy && query?.groupBy)\n\n  if (isPolymorphic) {\n    clientFields = []\n    serverFields = []\n\n    for (const collection of collections) {\n      const clientCollectionConfig = clientConfig.collections.find(\n        (each) => each.slug === collection,\n      )\n\n      for (const field of filterFieldsWithPermissions({\n        fieldPermissions,\n        fields: clientCollectionConfig.fields,\n      })) {\n        if (fieldAffectsData(field)) {\n          if (clientFields.some((each) => fieldAffectsData(each) && each.name === field.name)) {\n            continue\n          }\n        }\n\n        clientFields.push(field)\n      }\n\n      const serverCollectionConfig = payload.collections[collection].config\n\n      for (const field of filterFieldsWithPermissions<Field>({\n        fieldPermissions,\n        fields: serverCollectionConfig.fields,\n      })) {\n        if (fieldAffectsData(field)) {\n          if (serverFields.some((each) => fieldAffectsData(each) && each.name === field.name)) {\n            continue\n          }\n        }\n\n        serverFields.push(field)\n      }\n    }\n  }\n\n  const sharedArgs: Pick<\n    BuildColumnStateArgs,\n    | 'clientFields'\n    | 'columns'\n    | 'customCellProps'\n    | 'enableRowSelections'\n    | 'fieldPermissions'\n    | 'i18n'\n    | 'payload'\n    | 'req'\n    | 'serverFields'\n    | 'useAsTitle'\n    | 'viewType'\n  > = {\n    clientFields,\n    columns,\n    enableRowSelections,\n    fieldPermissions,\n    i18n,\n    // sortColumnProps,\n    customCellProps,\n    payload,\n    req,\n    serverFields,\n    useAsTitle,\n    viewType,\n  }\n\n  if (isPolymorphic) {\n    columnState = buildColumnState({\n      ...sharedArgs,\n      collectionSlug: undefined,\n      dataType: 'polymorphic',\n      docs: data?.docs || [],\n    })\n  } else {\n    columnState = buildColumnState({\n      ...sharedArgs,\n      collectionSlug: clientCollectionConfig.slug,\n      dataType: 'monomorphic',\n      docs: data?.docs || [],\n    })\n  }\n\n  const columnsToUse = [...columnState]\n\n  if (renderRowTypes) {\n    columnsToUse.unshift({\n      accessor: 'collection',\n      active: true,\n      field: {\n        admin: {\n          disabled: true,\n        },\n        hidden: true,\n      },\n      Heading: i18n.t('version:type'),\n      renderedCells: (data?.docs || []).map((doc, i) => (\n        <Pill key={i} size=\"small\">\n          {getTranslation(\n            collections\n              ? payload.collections[doc.relationTo].config.labels.singular\n              : clientCollectionConfig.labels.singular,\n            i18n,\n          )}\n        </Pill>\n      )),\n    } as Column)\n  }\n\n  if (enableRowSelections) {\n    columnsToUse.unshift({\n      accessor: '_select',\n      active: true,\n      field: {\n        admin: {\n          disabled: true,\n        },\n        hidden: true,\n      },\n      Heading: <SelectAll />,\n      renderedCells: (data?.docs || []).map((_, i) => (\n        <SelectRow key={i} rowData={data?.docs[i]} />\n      )),\n    } as Column)\n  }\n\n  if (isGroupingBy) {\n    return {\n      columnState,\n      // key is required since Next.js 15.2.0 to prevent React key error\n      Table: (\n        <div\n          className={['table-wrap', groupByValue !== undefined && `table-wrap--group-by`]\n            .filter(Boolean)\n            .join(' ')}\n          key={key}\n        >\n          <SelectionProvider docs={data?.docs || []} totalDocs={data?.totalDocs || 0}>\n            <GroupByHeader\n              collectionConfig={clientCollectionConfig}\n              groupByFieldPath={groupByFieldPath}\n              groupByValue={groupByValue}\n              heading={heading}\n            />\n            <Table appearance={tableAppearance} columns={columnsToUse} data={data?.docs || []} />\n            <GroupByPageControls\n              collectionConfig={clientCollectionConfig}\n              data={data}\n              groupByValue={groupByValue}\n            />\n          </SelectionProvider>\n        </div>\n      ),\n    }\n  }\n\n  if (!orderableFieldName) {\n    return {\n      columnState,\n      // key is required since Next.js 15.2.0 to prevent React key error\n      Table: (\n        <div className=\"table-wrap\" key={key}>\n          <Table appearance={tableAppearance} columns={columnsToUse} data={data?.docs || []} />\n        </div>\n      ),\n    }\n  }\n\n  columnsToUse.unshift({\n    accessor: '_dragHandle',\n    active: true,\n    field: {\n      admin: {\n        disabled: true,\n      },\n      hidden: true,\n    },\n    Heading: <SortHeader />,\n    renderedCells: (data?.docs || []).map((_, i) => <SortRow key={i} />),\n  } as Column)\n\n  return {\n    columnState,\n    // key is required since Next.js 15.2.0 to prevent React key error\n    Table: (\n      <div className=\"table-wrap\" key={key}>\n        <OrderableTable\n          appearance={tableAppearance}\n          collection={clientCollectionConfig}\n          columns={columnsToUse}\n          data={data?.docs || []}\n        />\n      </div>\n    ),\n  }\n}\n"],"names":["getTranslation","fieldAffectsData","fieldIsHiddenOrDisabled","React","RenderServerComponent","GroupByHeader","GroupByPageControls","OrderableTable","Pill","SelectAll","SelectionProvider","SelectRow","SortHeader","SortRow","Table","filterFieldsWithPermissions","buildColumnState","renderFilters","fields","importMap","reduce","acc","field","admin","components","Filter","set","name","Component","Map","renderTable","clientCollectionConfig","clientConfig","collectionConfig","collections","columns","customCellProps","data","enableRowSelections","fieldPermissions","groupByFieldPath","groupByValue","heading","i18n","key","orderableFieldName","payload","query","renderRowTypes","req","tableAppearance","useAsTitle","viewType","columnState","clientFields","serverFields","isPolymorphic","isGroupingBy","Boolean","groupBy","collection","find","each","slug","some","push","serverCollectionConfig","config","sharedArgs","collectionSlug","undefined","dataType","docs","columnsToUse","unshift","accessor","active","disabled","hidden","Heading","t","renderedCells","map","doc","i","_jsx","size","relationTo","labels","singular","_","rowData","className","filter","join","_jsxs","totalDocs","appearance"],"mappings":";;;;;;;AAkBA,SAASA,cAAc,QAAyB;AAChD,SAASC,gBAAgB,EAAEC,uBAAuB,QAAQ;AAC1D,OAAOC,KAAA,MAAW;AAIlB,SAASC,qBAAqB,QAAQ;AACtC,SACEC,aAAa,EACbC,mBAAmB,EACnBC,cAAc,EACdC,IAAI,EACJC,SAAS,EACTC,iBAAiB,EACjBC,SAAS,EACTC,UAAU,EACVC,OAAO,EACPC,KAAK,QAEA;AACP,SAASC,2BAA2B,QAAQ;AAC5C,SAASC,gBAAgB,QAAQ;;;;;;;;;;;;;;;;AAE1B,MAAMC,aAAA,GAAgBA,CAC3BC,MAAA,EACAC,SAAA,GAEAD,MAAA,CAAOE,MAAM,CACX,CAACC,GAAA,EAAKC,KAAA;QACJ,QAAIpB,2MAAA,EAAwBoB,KAAA,GAAQ;YAClC,OAAOD,GAAA;QACT;QAEA,IAAI,UAAUC,KAAA,IAASA,KAAA,CAAMC,KAAK,EAAEC,UAAA,EAAYC,MAAA,EAAQ;YACtDJ,GAAA,CAAIK,GAAG,CACLJ,KAAA,CAAMK,IAAI,MACVvB,iNAAA,EAAsB;gBACpBwB,SAAA,EAAWN,KAAA,CAAMC,KAAK,CAACC,UAAU,EAAEC,MAAA;gBACnCN;YACF;QAEJ;QAEA,OAAOE,GAAA;IACT,GACA,IAAIQ,GAAA;AAGD,MAAMC,WAAA,GAAcA,CAAC,EAC1BC,sBAAsB,EACtBC,YAAY,EACZC,gBAAgB,EAChBC,WAAW,EACXC,OAAO,EACPC,eAAe,EACfC,IAAI,EACJC,mBAAmB,EACnBC,gBAAgB,EAChBC,gBAAgB,EAChBC,YAAY,EACZC,OAAO,EACPC,IAAI,EACJC,GAAA,GAAM,OAAO,EACbC,kBAAkB,EAClBC,OAAO,EACPC,KAAK,EACLC,cAAc,EACdC,GAAG,EACHC,eAAe,EACfC,UAAU,EACVC,QAAAA,EAyBD;IAIC,4GAAA;IAEA,IAAIC,WAAA;IACJ,IAAIC,YAAA,GAA8BvB,sBAAA,EAAwBb,MAAA,IAAU,EAAE;IACtE,IAAIqC,YAAA,GAAwBtB,gBAAA,EAAkBf,MAAA,IAAU,EAAE;IAC1D,MAAMsC,aAAA,GAAgBtB,WAAA;IAEtB,MAAMuB,YAAA,GAAeC,OAAA,CAAQzB,gBAAA,EAAkBV,KAAA,EAAOoC,OAAA,IAAWZ,KAAA,EAAOY,OAAA;IAExE,IAAIH,aAAA,EAAe;QACjBF,YAAA,GAAe,EAAE;QACjBC,YAAA,GAAe,EAAE;QAEjB,KAAK,MAAMK,UAAA,IAAc1B,WAAA,CAAa;YACpC,MAAMH,sBAAA,GAAyBC,YAAA,CAAaE,WAAW,CAAC2B,IAAI,EACzDC,IAAA,GAASA,IAAA,CAAKC,IAAI,KAAKH,UAAA;YAG1B,KAAK,MAAMtC,KAAA,QAASP,yPAAA,EAA4B;gBAC9CwB,gBAAA;gBACArB,MAAA,EAAQa,sBAAA,CAAuBb,MAAAA;YACjC,GAAI;gBACF,QAAIjB,oMAAA,EAAiBqB,KAAA,GAAQ;oBAC3B,IAAIgC,YAAA,CAAaU,IAAI,EAAEF,IAAA,OAAS7D,oMAAA,EAAiB6D,IAAA,KAASA,IAAA,CAAKnC,IAAI,KAAKL,KAAA,CAAMK,IAAI,GAAG;wBACnF;oBACF;gBACF;gBAEA2B,YAAA,CAAaW,IAAI,CAAC3C,KAAA;YACpB;YAEA,MAAM4C,sBAAA,GAAyBpB,OAAA,CAAQZ,WAAW,CAAC0B,UAAA,CAAW,CAACO,MAAM;YAErE,KAAK,MAAM7C,KAAA,QAASP,yPAAA,EAAmC;gBACrDwB,gBAAA;gBACArB,MAAA,EAAQgD,sBAAA,CAAuBhD,MAAAA;YACjC,GAAI;gBACF,QAAIjB,oMAAA,EAAiBqB,KAAA,GAAQ;oBAC3B,IAAIiC,YAAA,CAAaS,IAAI,EAAEF,IAAA,OAAS7D,oMAAA,EAAiB6D,IAAA,KAASA,IAAA,CAAKnC,IAAI,KAAKL,KAAA,CAAMK,IAAI,GAAG;wBACnF;oBACF;gBACF;gBAEA4B,YAAA,CAAaU,IAAI,CAAC3C,KAAA;YACpB;QACF;IACF;IAEA,MAAM8C,UAAA,GAaF;QACFd,YAAA;QACAnB,OAAA;QACAG,mBAAA;QACAC,gBAAA;QACAI,IAAA;QACA,mBAAA;QACAP,eAAA;QACAU,OAAA;QACAG,GAAA;QACAM,YAAA;QACAJ,UAAA;QACAC;IACF;IAEA,IAAII,aAAA,EAAe;QACjBH,WAAA,OAAcrC,wNAAA,EAAiB;YAC7B,GAAGoD,UAAU;YACbC,cAAA,EAAgBC,SAAA;YAChBC,QAAA,EAAU;YACVC,IAAA,EAAMnC,IAAA,EAAMmC,IAAA,IAAQ,EAAA;QACtB;IACF,OAAO;QACLnB,WAAA,OAAcrC,wNAAA,EAAiB;YAC7B,GAAGoD,UAAU;YACbC,cAAA,EAAgBtC,sBAAA,CAAuBgC,IAAI;YAC3CQ,QAAA,EAAU;YACVC,IAAA,EAAMnC,IAAA,EAAMmC,IAAA,IAAQ,EAAA;QACtB;IACF;IAEA,MAAMC,YAAA,GAAe,C;WAAIpB,WAAA;KAAY;IAErC,IAAIL,cAAA,EAAgB;QAClByB,YAAA,CAAaC,OAAO,CAAC;YACnBC,QAAA,EAAU;YACVC,MAAA,EAAQ;YACRtD,KAAA,EAAO;gBACLC,KAAA,EAAO;oBACLsD,QAAA,EAAU;gBACZ;gBACAC,MAAA,EAAQ;YACV;YACAC,OAAA,EAASpC,IAAA,CAAKqC,CAAC,CAAC;YAChBC,aAAA,EAAe,CAAC5C,IAAA,EAAMmC,IAAA,IAAQ,EAAE,EAAEU,GAAG,CAAC,CAACC,GAAA,EAAKC,CAAA,GAAA,WAAA,OAC1CC,8NAAA,EAAC7E,gLAAA,EAAA;oBAAa8E,IAAA,EAAK;kCAChBtF,qMAAA,EACCkC,WAAA,GACIY,OAAA,CAAQZ,WAAW,CAACiD,GAAA,CAAII,UAAU,CAAC,CAACpB,MAAM,CAACqB,MAAM,CAACC,QAAQ,GAC1D1D,sBAAA,CAAuByD,MAAM,CAACC,QAAQ,EAC1C9C,IAAA;mBALOyC,CAAA;QASf;IACF;IAEA,IAAI9C,mBAAA,EAAqB;QACvBmC,YAAA,CAAaC,OAAO,CAAC;YACnBC,QAAA,EAAU;YACVC,MAAA,EAAQ;YACRtD,KAAA,EAAO;gBACLC,KAAA,EAAO;oBACLsD,QAAA,EAAU;gBACZ;gBACAC,MAAA,EAAQ;YACV;YACAC,OAAA,EAAA,WAAA,OAASM,8NAAA,EAAC5E,qLAAA,EAAA,CAAA;YACVwE,aAAA,EAAe,CAAC5C,IAAA,EAAMmC,IAAA,IAAQ,EAAE,EAAEU,GAAG,CAAC,CAACQ,CAAA,EAAGN,CAAA,GAAA,WAAA,OACxCC,8NAAA,EAAC1E,qLAAA,EAAA;oBAAkBgF,OAAA,EAAStD,IAAA,EAAMmC,IAAI,CAACY,CAAA,CAAA;mBAAvBA,CAAA;QAEpB;IACF;IAEA,IAAI3B,YAAA,EAAc;QAChB,OAAO;YACLJ,WAAA;YACA,kEAAA;YACAvC,KAAA,EAAA,WAAA,OACEuE,8NAAA,EAAC,OAAA;gBACCO,SAAA,EAAW;oBAAC;oBAAcnD,YAAA,KAAiB6B,SAAA,IAAa,CAAA,oBAAA,CAAsB;iBAAC,CAC5EuB,MAAM,CAACnC,OAAA,EACPoC,IAAI,CAAC;0BAGR,WAAA,OAAAC,+NAAA,EAACrF,6LAAA,EAAA;oBAAkB8D,IAAA,EAAMnC,IAAA,EAAMmC,IAAA,IAAQ,EAAE;oBAAEwB,SAAA,EAAW3D,IAAA,EAAM2D,SAAA,IAAa;;0CACvEX,8NAAA,EAAChF,yLAAA,EAAA;4BACC4B,gBAAA,EAAkBF,sBAAA;4BAClBS,gBAAA,EAAkBA,gBAAA;4BAClBC,YAAA,EAAcA,YAAA;4BACdC,OAAA,EAASA;;0CAEX2C,8NAAA,EAACvE,iLAAA,EAAA;4BAAMmF,UAAA,EAAY/C,eAAA;4BAAiBf,OAAA,EAASsC,YAAA;4BAAcpC,IAAA,EAAMA,IAAA,EAAMmC,IAAA,IAAQ,EAAA;;0CAC/Ea,8NAAA,EAAC/E,+LAAA,EAAA;4BACC2B,gBAAA,EAAkBF,sBAAA;4BAClBM,IAAA,EAAMA,IAAA;4BACNI,YAAA,EAAcA;;;;eAbbG,GAAA;QAkBX;IACF;IAEA,IAAI,CAACC,kBAAA,EAAoB;QACvB,OAAO;YACLQ,WAAA;YACA,kEAAA;YACAvC,KAAA,EAAA,WAAA,OACEuE,8NAAA,EAAC,OAAA;gBAAIO,SAAA,EAAU;0BACb,WAAA,OAAAP,8NAAA,EAACvE,iLAAA,EAAA;oBAAMmF,UAAA,EAAY/C,eAAA;oBAAiBf,OAAA,EAASsC,YAAA;oBAAcpC,IAAA,EAAMA,IAAA,EAAMmC,IAAA,IAAQ,EAAA;;eADhD5B,GAAA;QAIrC;IACF;IAEA6B,YAAA,CAAaC,OAAO,CAAC;QACnBC,QAAA,EAAU;QACVC,MAAA,EAAQ;QACRtD,KAAA,EAAO;YACLC,KAAA,EAAO;gBACLsD,QAAA,EAAU;YACZ;YACAC,MAAA,EAAQ;QACV;QACAC,OAAA,EAAA,WAAA,OAASM,8NAAA,EAACzE,sLAAA,EAAA,CAAA;QACVqE,aAAA,EAAe,CAAC5C,IAAA,EAAMmC,IAAA,IAAQ,EAAE,EAAEU,GAAG,CAAC,CAACQ,CAAA,EAAGN,CAAA,GAAA,WAAA,OAAMC,8NAAA,EAACxE,mLAAA,EAAA,CAAA,GAAauE,CAAA;IAChE;IAEA,OAAO;QACL/B,WAAA;QACA,kEAAA;QACAvC,KAAA,EAAA,WAAA,OACEuE,8NAAA,EAAC,OAAA;YAAIO,SAAA,EAAU;sBACb,WAAA,OAAAP,8NAAA,EAAC9E,0LAAA,EAAA;gBACC0F,UAAA,EAAY/C,eAAA;gBACZU,UAAA,EAAY7B,sBAAA;gBACZI,OAAA,EAASsC,YAAA;gBACTpC,IAAA,EAAMA,IAAA,EAAMmC,IAAA,IAAQ,EAAA;;WALS5B,GAAA;IASrC;AACF","ignoreList":[]}},
    {"offset": {"line": 6305, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/List/enrichDocsWithVersionStatus.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/List/enrichDocsWithVersionStatus.ts"],"sourcesContent":["import type { PaginatedDocs, PayloadRequest, SanitizedCollectionConfig } from 'payload'\n\n/**\n * Enriches list view documents with correct draft status display.\n * When draft=true is used in the query, Payload returns the latest draft version if it exists.\n * This function checks if draft documents also have a published version to determine \"changed\" status.\n *\n * Performance: Uses a single query to find all documents with \"changed\" status instead of N queries.\n */\nexport async function enrichDocsWithVersionStatus({\n  collectionConfig,\n  data,\n  req,\n}: {\n  collectionConfig: SanitizedCollectionConfig\n  data: PaginatedDocs\n  req: PayloadRequest\n}): Promise<PaginatedDocs> {\n  const draftsEnabled = collectionConfig?.versions?.drafts\n\n  if (!draftsEnabled || !data?.docs?.length) {\n    return data\n  }\n\n  // Find all draft documents\n  // When querying with draft:true, we get the latest draft if it exists\n  // We need to check if these drafts have a published version\n  const draftDocs = data.docs.filter((doc) => doc._status === 'draft')\n\n  if (draftDocs.length === 0) {\n    return data\n  }\n\n  const draftDocIds = draftDocs.map((doc) => doc.id).filter(Boolean)\n\n  if (draftDocIds.length === 0) {\n    return data\n  }\n\n  // OPTIMIZATION: Single query to find all document IDs that have BOTH:\n  // 1. A draft version (latest=true, _status='draft')\n  // 2. A published version (_status='published')\n  // These are the documents with \"changed\" status\n  try {\n    // TODO: This could be more efficient with a findDistinctVersions() API:\n    // const { values } = await req.payload.findDistinctVersions({\n    //   collection: collectionConfig.slug,\n    //   field: 'parent',\n    //   where: {\n    //     and: [\n    //       { parent: { in: draftDocIds } },\n    //       { 'version._status': { equals: 'published' } },\n    //     ],\n    //   },\n    // })\n    // const hasPublishedVersionSet = new Set(values)\n    //\n    // For now, we query all published versions but only select the 'parent' field\n    // to minimize data transfer, then deduplicate with a Set\n    const publishedVersions = await req.payload.findVersions({\n      collection: collectionConfig.slug,\n      depth: 0,\n      limit: 0,\n      pagination: false,\n      select: {\n        parent: true,\n      },\n      where: {\n        and: [\n          {\n            parent: {\n              in: draftDocIds,\n            },\n          },\n          {\n            'version._status': {\n              equals: 'published',\n            },\n          },\n        ],\n      },\n    })\n\n    // Create a Set of document IDs that have published versions\n    const hasPublishedVersionSet = new Set(\n      publishedVersions.docs.map((version) => version.parent).filter(Boolean),\n    )\n\n    // Enrich documents with display status\n    const enrichedDocs = data.docs.map((doc) => {\n      // If it's a draft and has a published version, show \"changed\"\n      if (doc._status === 'draft' && hasPublishedVersionSet.has(doc.id)) {\n        return {\n          ...doc,\n          _displayStatus: 'changed' as const,\n        }\n      }\n\n      return {\n        ...doc,\n        _displayStatus: doc._status as 'draft' | 'published',\n      }\n    })\n\n    return {\n      ...data,\n      docs: enrichedDocs,\n    }\n  } catch (error) {\n    // If there's an error querying versions, just return the original data\n    req.payload.logger.error({\n      err: error,\n      msg: `Error checking version status for collection ${collectionConfig.slug}`,\n    })\n    return data\n  }\n}\n"],"names":["enrichDocsWithVersionStatus","collectionConfig","data","req","draftsEnabled","versions","drafts","docs","length","draftDocs","filter","doc","_status","draftDocIds","map","id","Boolean","publishedVersions","payload","findVersions","collection","slug","depth","limit","pagination","select","parent","where","and","in","equals","hasPublishedVersionSet","Set","version","enrichedDocs","has","_displayStatus","error","logger","err","msg"],"mappings":"AAEA;;;;;;GAOA;;;;AAAO,eAAeA,4BAA4B,EAChDC,gBAAgB,EAChBC,IAAI,EACJC,GAAAA,EAKD;IACC,MAAMC,aAAA,GAAgBH,gBAAA,EAAkBI,QAAA,EAAUC,MAAA;IAElD,IAAI,CAACF,aAAA,IAAiB,CAACF,IAAA,EAAMK,IAAA,EAAMC,MAAA,EAAQ;QACzC,OAAON,IAAA;IACT;IAEA,2BAAA;IACA,sEAAA;IACA,4DAAA;IACA,MAAMO,SAAA,GAAYP,IAAA,CAAKK,IAAI,CAACG,MAAM,EAAEC,GAAA,GAAQA,GAAA,CAAIC,OAAO,KAAK;IAE5D,IAAIH,SAAA,CAAUD,MAAM,KAAK,GAAG;QAC1B,OAAON,IAAA;IACT;IAEA,MAAMW,WAAA,GAAcJ,SAAA,CAAUK,GAAG,EAAEH,GAAA,GAAQA,GAAA,CAAII,EAAE,EAAEL,MAAM,CAACM,OAAA;IAE1D,IAAIH,WAAA,CAAYL,MAAM,KAAK,GAAG;QAC5B,OAAON,IAAA;IACT;IAEA,sEAAA;IACA,oDAAA;IACA,+CAAA;IACA,gDAAA;IACA,IAAI;QACF,wEAAA;QACA,8DAAA;QACA,uCAAA;QACA,qBAAA;QACA,aAAA;QACA,aAAA;QACA,yCAAA;QACA,wDAAA;QACA,SAAA;QACA,OAAA;QACA,KAAA;QACA,iDAAA;QACA,EAAA;QACA,8EAAA;QACA,yDAAA;QACA,MAAMe,iBAAA,GAAoB,MAAMd,GAAA,CAAIe,OAAO,CAACC,YAAY,CAAC;YACvDC,UAAA,EAAYnB,gBAAA,CAAiBoB,IAAI;YACjCC,KAAA,EAAO;YACPC,KAAA,EAAO;YACPC,UAAA,EAAY;YACZC,MAAA,EAAQ;gBACNC,MAAA,EAAQ;YACV;YACAC,KAAA,EAAO;gBACLC,GAAA,EAAK;oBACH;wBACEF,MAAA,EAAQ;4BACNG,EAAA,EAAIhB;wBACN;oBACF;oBACA;wBACE,mBAAmB;4BACjBiB,MAAA,EAAQ;wBACV;oBACF;iBAAA;YAEJ;QACF;QAEA,4DAAA;QACA,MAAMC,sBAAA,GAAyB,IAAIC,GAAA,CACjCf,iBAAA,CAAkBV,IAAI,CAACO,GAAG,EAAEmB,OAAA,GAAYA,OAAA,CAAQP,MAAM,EAAEhB,MAAM,CAACM,OAAA;QAGjE,uCAAA;QACA,MAAMkB,YAAA,GAAehC,IAAA,CAAKK,IAAI,CAACO,GAAG,EAAEH,GAAA;YAClC,8DAAA;YACA,IAAIA,GAAA,CAAIC,OAAO,KAAK,WAAWmB,sBAAA,CAAuBI,GAAG,CAACxB,GAAA,CAAII,EAAE,GAAG;gBACjE,OAAO;oBACL,GAAGJ,GAAG;oBACNyB,cAAA,EAAgB;gBAClB;YACF;YAEA,OAAO;gBACL,GAAGzB,GAAG;gBACNyB,cAAA,EAAgBzB,GAAA,CAAIC,OAAAA;YACtB;QACF;QAEA,OAAO;YACL,GAAGV,IAAI;YACPK,IAAA,EAAM2B;QACR;IACF,EAAE,OAAOG,KAAA,EAAO;QACd,uEAAA;QACAlC,GAAA,CAAIe,OAAO,CAACoB,MAAM,CAACD,KAAK,CAAC;YACvBE,GAAA,EAAKF,KAAA;YACLG,GAAA,EAAK,CAAA,6CAAA,EAAgDvC,gBAAA,CAAiBoB,IAAI,EAAA;QAC5E;QACA,OAAOnB,IAAA;IACT;AACF","ignoreList":[]}},
    {"offset": {"line": 6407, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/List/createSerializableValue.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/List/createSerializableValue.ts"],"sourcesContent":["// Helper function to create serializable value for client components\nexport const createSerializableValue = (value: any): string => {\n  if (value === null || value === undefined) {\n    return 'null'\n  }\n  if (typeof value === 'object' && value?.relationTo && value?.value) {\n    return `${value.relationTo}:${value.value}`\n  }\n  if (typeof value === 'object' && value?.id) {\n    return String(value.id)\n  }\n  return String(value)\n}\n"],"names":["createSerializableValue","value","undefined","relationTo","id","String"],"mappings":"AAAA,qEAAA;;;;;AACO,MAAMA,uBAAA,IAA2BC,KAAA;IACtC,IAAIA,KAAA,KAAU,QAAQA,KAAA,KAAUC,SAAA,EAAW;QACzC,OAAO;IACT;IACA,IAAI,OAAOD,KAAA,KAAU,YAAYA,KAAA,EAAOE,UAAA,IAAcF,KAAA,EAAOA,KAAA,EAAO;QAClE,OAAO,GAAGA,KAAA,CAAME,UAAU,CAAA,CAAA,EAAIF,KAAA,CAAMA,KAAK,EAAE;IAC7C;IACA,IAAI,OAAOA,KAAA,KAAU,YAAYA,KAAA,EAAOG,EAAA,EAAI;QAC1C,OAAOC,MAAA,CAAOJ,KAAA,CAAMG,EAAE;IACxB;IACA,OAAOC,MAAA,CAAOJ,KAAA;AAChB","ignoreList":[]}},
    {"offset": {"line": 6428, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/List/extractRelationshipDisplayValue.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/List/extractRelationshipDisplayValue.ts"],"sourcesContent":["import type { ClientCollectionConfig, ClientConfig } from 'payload'\n\n// Helper function to extract display value from relationship\nexport const extractRelationshipDisplayValue = (\n  relationship: any,\n  clientConfig: ClientConfig,\n  relationshipConfig?: ClientCollectionConfig,\n): string => {\n  if (!relationship) {\n    return ''\n  }\n\n  // Handle polymorphic relationships\n  if (typeof relationship === 'object' && relationship?.relationTo && relationship?.value) {\n    const config = clientConfig.collections.find((c) => c.slug === relationship.relationTo)\n    return relationship.value?.[config?.admin?.useAsTitle || 'id'] || ''\n  }\n\n  // Handle regular relationships\n  if (typeof relationship === 'object' && relationship?.id) {\n    return relationship[relationshipConfig?.admin?.useAsTitle || 'id'] || ''\n  }\n\n  return String(relationship)\n}\n"],"names":["extractRelationshipDisplayValue","relationship","clientConfig","relationshipConfig","relationTo","value","config","collections","find","c","slug","admin","useAsTitle","id","String"],"mappings":"AAEA,6DAAA;;;;;AACO,MAAMA,+BAAA,GAAkCA,CAC7CC,YAAA,EACAC,YAAA,EACAC,kBAAA;IAEA,IAAI,CAACF,YAAA,EAAc;QACjB,OAAO;IACT;IAEA,mCAAA;IACA,IAAI,OAAOA,YAAA,KAAiB,YAAYA,YAAA,EAAcG,UAAA,IAAcH,YAAA,EAAcI,KAAA,EAAO;QACvF,MAAMC,MAAA,GAASJ,YAAA,CAAaK,WAAW,CAACC,IAAI,EAAEC,CAAA,GAAMA,CAAA,CAAEC,IAAI,KAAKT,YAAA,CAAaG,UAAU;QACtF,OAAOH,YAAA,CAAaI,KAAK,EAAA,CAAGC,MAAA,EAAQK,KAAA,EAAOC,UAAA,IAAc,KAAK,IAAI;IACpE;IAEA,+BAAA;IACA,IAAI,OAAOX,YAAA,KAAiB,YAAYA,YAAA,EAAcY,EAAA,EAAI;QACxD,OAAOZ,YAAY,CAACE,kBAAA,EAAoBQ,KAAA,EAAOC,UAAA,IAAc,KAAK,IAAI;IACxE;IAEA,OAAOE,MAAA,CAAOb,YAAA;AAChB","ignoreList":[]}},
    {"offset": {"line": 6452, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/List/extractValueOrRelationshipID.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/List/extractValueOrRelationshipID.ts"],"sourcesContent":["// Helper function to extract value or relationship ID for database queries\nexport const extractValueOrRelationshipID = (relationship: any): any => {\n  if (!relationship || typeof relationship !== 'object') {\n    return relationship\n  }\n\n  // For polymorphic relationships, preserve structure but ensure IDs are strings\n  if (relationship?.relationTo && relationship?.value) {\n    return {\n      relationTo: relationship.relationTo,\n      value: String(relationship.value?.id || relationship.value),\n    }\n  }\n\n  // For regular relationships, extract ID\n  if (relationship?.id) {\n    return String(relationship.id)\n  }\n\n  return relationship\n}\n"],"names":["extractValueOrRelationshipID","relationship","relationTo","value","String","id"],"mappings":"AAAA,2EAAA;;;;;AACO,MAAMA,4BAAA,IAAgCC,YAAA;IAC3C,IAAI,CAACA,YAAA,IAAgB,OAAOA,YAAA,KAAiB,UAAU;QACrD,OAAOA,YAAA;IACT;IAEA,+EAAA;IACA,IAAIA,YAAA,EAAcC,UAAA,IAAcD,YAAA,EAAcE,KAAA,EAAO;QACnD,OAAO;YACLD,UAAA,EAAYD,YAAA,CAAaC,UAAU;YACnCC,KAAA,EAAOC,MAAA,CAAOH,YAAA,CAAaE,KAAK,EAAEE,EAAA,IAAMJ,YAAA,CAAaE,KAAK;QAC5D;IACF;IAEA,wCAAA;IACA,IAAIF,YAAA,EAAcI,EAAA,EAAI;QACpB,OAAOD,MAAA,CAAOH,YAAA,CAAaI,EAAE;IAC/B;IAEA,OAAOJ,YAAA;AACT","ignoreList":[]}},
    {"offset": {"line": 6480, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/List/handleGroupBy.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/List/handleGroupBy.ts"],"sourcesContent":["import type {\n  ClientCollectionConfig,\n  ClientConfig,\n  Column,\n  ListQuery,\n  PaginatedDocs,\n  PayloadRequest,\n  SanitizedCollectionConfig,\n  SanitizedFieldsPermissions,\n  SelectType,\n  ViewTypes,\n  Where,\n} from 'payload'\n\nimport { renderTable } from '@payloadcms/ui/rsc'\nimport { formatDate } from '@payloadcms/ui/shared'\nimport { flattenAllFields } from 'payload'\n\nimport { createSerializableValue } from './createSerializableValue.js'\nimport { extractRelationshipDisplayValue } from './extractRelationshipDisplayValue.js'\nimport { extractValueOrRelationshipID } from './extractValueOrRelationshipID.js'\n\nexport const handleGroupBy = async ({\n  clientCollectionConfig,\n  clientConfig,\n  collectionConfig,\n  collectionSlug,\n  columns,\n  customCellProps,\n  drawerSlug,\n  enableRowSelections,\n  fieldPermissions,\n  query,\n  req,\n  select,\n  trash = false,\n  user,\n  viewType,\n  where: whereWithMergedSearch,\n}: {\n  clientCollectionConfig: ClientCollectionConfig\n  clientConfig: ClientConfig\n  collectionConfig: SanitizedCollectionConfig\n  collectionSlug: string\n  columns: any[]\n  customCellProps?: Record<string, any>\n  drawerSlug?: string\n  enableRowSelections?: boolean\n  fieldPermissions?: SanitizedFieldsPermissions\n  query?: ListQuery\n  req: PayloadRequest\n  select?: SelectType\n  trash?: boolean\n  user: any\n  viewType?: ViewTypes\n  where: Where\n}): Promise<{\n  columnState: Column[]\n  data: PaginatedDocs\n  Table: null | React.ReactNode | React.ReactNode[]\n}> => {\n  let Table: React.ReactNode | React.ReactNode[] = null\n  let columnState: Column[]\n\n  const dataByGroup: Record<string, PaginatedDocs> = {}\n\n  // NOTE: is there a faster/better way to do this?\n  const flattenedFields = flattenAllFields({ fields: collectionConfig.fields })\n\n  const groupByFieldPath = query.groupBy.replace(/^-/, '')\n\n  const groupByField = flattenedFields.find((f) => f.name === groupByFieldPath)\n\n  // Set up population for relationships\n  let populate\n\n  if (groupByField?.type === 'relationship' && groupByField.relationTo) {\n    const relationTo = Array.isArray(groupByField.relationTo)\n      ? groupByField.relationTo\n      : [groupByField.relationTo]\n\n    populate = {}\n    relationTo.forEach((rel) => {\n      const config = clientConfig.collections.find((c) => c.slug === rel)\n      populate[rel] = { [config?.admin?.useAsTitle || 'id']: true }\n    })\n  }\n\n  const distinct = await req.payload.findDistinct({\n    collection: collectionSlug,\n    depth: 1,\n    field: groupByFieldPath,\n    limit: query?.limit ? Number(query.limit) : undefined,\n    locale: req.locale,\n    overrideAccess: false,\n    page: query?.page ? Number(query.page) : undefined,\n    populate,\n    req,\n    sort: query?.groupBy,\n    trash,\n    where: whereWithMergedSearch,\n  })\n\n  const data = {\n    ...distinct,\n    docs: distinct.values?.map(() => ({})) || [],\n    values: undefined,\n  }\n\n  await Promise.all(\n    (distinct.values || []).map(async (distinctValue, i) => {\n      const potentiallyPopulatedRelationship = distinctValue[groupByFieldPath]\n\n      // Extract value or relationship ID for database query\n      const valueOrRelationshipID = extractValueOrRelationshipID(potentiallyPopulatedRelationship)\n\n      const groupData = await req.payload.find({\n        collection: collectionSlug,\n        depth: 0,\n        draft: true,\n        fallbackLocale: false,\n        includeLockStatus: true,\n        limit: query?.queryByGroup?.[valueOrRelationshipID]?.limit\n          ? Number(query.queryByGroup[valueOrRelationshipID].limit)\n          : undefined,\n        locale: req.locale,\n        overrideAccess: false,\n        page: query?.queryByGroup?.[valueOrRelationshipID]?.page\n          ? Number(query.queryByGroup[valueOrRelationshipID].page)\n          : undefined,\n        req,\n        // Note: if we wanted to enable table-by-table sorting, we could use this:\n        // sort: query?.queryByGroup?.[valueOrRelationshipID]?.sort,\n        select,\n        sort: query?.sort,\n        trash,\n        user,\n        where: {\n          ...(whereWithMergedSearch || {}),\n          [groupByFieldPath]: {\n            equals: valueOrRelationshipID,\n          },\n        },\n      })\n\n      // Extract heading\n      let heading: string\n\n      if (potentiallyPopulatedRelationship === null) {\n        heading = req.i18n.t('general:noValue')\n      } else if (groupByField?.type === 'relationship') {\n        const relationshipConfig = Array.isArray(groupByField.relationTo)\n          ? undefined\n          : clientConfig.collections.find((c) => c.slug === groupByField.relationTo)\n        heading = extractRelationshipDisplayValue(\n          potentiallyPopulatedRelationship,\n          clientConfig,\n          relationshipConfig,\n        )\n      } else if (groupByField?.type === 'date') {\n        heading = formatDate({\n          date: String(valueOrRelationshipID),\n          i18n: req.i18n,\n          pattern: clientConfig.admin.dateFormat,\n        })\n      } else if (groupByField?.type === 'checkbox') {\n        if (valueOrRelationshipID === true) {\n          heading = req.i18n.t('general:true')\n        }\n        if (valueOrRelationshipID === false) {\n          heading = req.i18n.t('general:false')\n        }\n      } else {\n        heading = String(valueOrRelationshipID)\n      }\n\n      // Create serializable value for client\n      const serializableValue = createSerializableValue(valueOrRelationshipID)\n\n      if (groupData.docs && groupData.docs.length > 0) {\n        const { columnState: newColumnState, Table: NewTable } = renderTable({\n          clientCollectionConfig,\n          collectionConfig,\n          columns,\n          customCellProps,\n          data: groupData,\n          drawerSlug,\n          enableRowSelections,\n          fieldPermissions,\n          groupByFieldPath,\n          groupByValue: serializableValue,\n          heading: heading || req.i18n.t('general:noValue'),\n          i18n: req.i18n,\n          key: `table-${serializableValue}`,\n          orderableFieldName: collectionConfig.orderable === true ? '_order' : undefined,\n          payload: req.payload,\n          query,\n          useAsTitle: collectionConfig.admin.useAsTitle,\n          viewType,\n        })\n\n        // Only need to set `columnState` once, using the first table's column state\n        // This will avoid needing to generate column state explicitly for root context that wraps all tables\n        if (!columnState) {\n          columnState = newColumnState\n        }\n\n        if (!Table) {\n          Table = []\n        }\n\n        dataByGroup[serializableValue] = groupData\n        ;(Table as Array<React.ReactNode>)[i] = NewTable\n      }\n    }),\n  )\n\n  return {\n    columnState,\n    data,\n    Table,\n  }\n}\n"],"names":["renderTable","formatDate","flattenAllFields","createSerializableValue","extractRelationshipDisplayValue","extractValueOrRelationshipID","handleGroupBy","clientCollectionConfig","clientConfig","collectionConfig","collectionSlug","columns","customCellProps","drawerSlug","enableRowSelections","fieldPermissions","query","req","select","trash","user","viewType","where","whereWithMergedSearch","Table","columnState","dataByGroup","flattenedFields","fields","groupByFieldPath","groupBy","replace","groupByField","find","f","name","populate","type","relationTo","Array","isArray","forEach","rel","config","collections","c","slug","admin","useAsTitle","distinct","payload","findDistinct","collection","depth","field","limit","Number","undefined","locale","overrideAccess","page","sort","data","docs","values","map","Promise","all","distinctValue","i","potentiallyPopulatedRelationship","valueOrRelationshipID","groupData","draft","fallbackLocale","includeLockStatus","queryByGroup","equals","heading","i18n","t","relationshipConfig","date","String","pattern","dateFormat","serializableValue","length","newColumnState","NewTable","groupByValue","key","orderableFieldName","orderable"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 6642, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/dist/elements/Banner/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Banner = registerClientReference(\n    function() { throw new Error(\"Attempted to call Banner() from the server but Banner is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/ui/dist/elements/Banner/index.js <module evaluation>\",\n    \"Banner\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,SAAS,IAAA,wQAAuB,EACzC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,2FACA","ignoreList":[0]}},
    {"offset": {"line": 6656, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/dist/elements/Banner/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Banner = registerClientReference(\n    function() { throw new Error(\"Attempted to call Banner() from the server but Banner is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/ui/dist/elements/Banner/index.js\",\n    \"Banner\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,SAAS,IAAA,wQAAuB,EACzC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,uEACA","ignoreList":[0]}},
    {"offset": {"line": 6670, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/ui/dist/elements/Banner/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/ui/src/elements/Banner/index.tsx"],"sourcesContent":["'use client'\nimport type { MouseEvent } from 'react'\n\nimport React from 'react'\n\nimport './index.scss'\nimport { Link } from '../Link/index.js'\n\nconst baseClass = 'banner'\n\ntype onClick = (event: MouseEvent) => void\n\nexport type Props = Readonly<{\n  alignIcon?: 'left' | 'right'\n  children?: React.ReactNode\n  className?: string\n  icon?: React.ReactNode\n  onClick?: onClick\n  to?: string\n  type?: 'default' | 'error' | 'info' | 'success'\n}>\n\nexport type RenderedTypeProps = {\n  children?: React.ReactNode\n  className?: string\n  onClick?: onClick\n  to: string\n}\n\nexport const Banner: React.FC<Props> = ({\n  type = 'default',\n  alignIcon = 'right',\n  children,\n  className,\n  icon,\n  onClick,\n  to,\n}) => {\n  const classes = [\n    baseClass,\n    `${baseClass}--type-${type}`,\n    className && className,\n    to && `${baseClass}--has-link`,\n    (to || onClick) && `${baseClass}--has-action`,\n    icon && `${baseClass}--has-icon`,\n    icon && `${baseClass}--align-icon-${alignIcon}`,\n  ]\n    .filter(Boolean)\n    .join(' ')\n\n  let RenderedType: React.ComponentType<RenderedTypeProps> | React.ElementType = 'div'\n\n  if (onClick && !to) {\n    RenderedType = 'button'\n  }\n  if (to) {\n    RenderedType = Link\n  }\n\n  return (\n    <RenderedType className={classes} href={to || null} onClick={onClick}>\n      {icon && alignIcon === 'left' && <React.Fragment>{icon}</React.Fragment>}\n      <span className={`${baseClass}__content`}>{children}</span>\n      {icon && alignIcon === 'right' && <React.Fragment>{icon}</React.Fragment>}\n    </RenderedType>\n  )\n}\n"],"names":["React","Link","baseClass","Banner","type","alignIcon","children","className","icon","onClick","to","classes","filter","Boolean","join","RenderedType","_jsxs","href","_jsx","Fragment"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 6680, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/List/renderListViewSlots.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/List/renderListViewSlots.tsx"],"sourcesContent":["import type {\n  AfterListClientProps,\n  AfterListTableClientProps,\n  AfterListTableServerPropsOnly,\n  BeforeListClientProps,\n  BeforeListServerPropsOnly,\n  BeforeListTableClientProps,\n  BeforeListTableServerPropsOnly,\n  ListViewServerPropsOnly,\n  ListViewSlots,\n  ListViewSlotSharedClientProps,\n  Payload,\n  SanitizedCollectionConfig,\n  StaticDescription,\n  ViewDescriptionClientProps,\n  ViewDescriptionServerPropsOnly,\n} from 'payload'\n\nimport { Banner } from '@payloadcms/ui/elements/Banner'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport React from 'react'\n\ntype Args = {\n  clientProps: ListViewSlotSharedClientProps\n  collectionConfig: SanitizedCollectionConfig\n  description?: StaticDescription\n  notFoundDocId?: null | string\n  payload: Payload\n  serverProps: ListViewServerPropsOnly\n}\n\nexport const renderListViewSlots = ({\n  clientProps,\n  collectionConfig,\n  description,\n  notFoundDocId,\n  payload,\n  serverProps,\n}: Args): ListViewSlots => {\n  const result: ListViewSlots = {} as ListViewSlots\n\n  if (collectionConfig.admin.components?.afterList) {\n    result.AfterList = RenderServerComponent({\n      clientProps: clientProps satisfies AfterListClientProps,\n      Component: collectionConfig.admin.components.afterList,\n      importMap: payload.importMap,\n      serverProps: serverProps satisfies AfterListTableServerPropsOnly,\n    })\n  }\n\n  const listMenuItems = collectionConfig.admin.components?.listMenuItems\n\n  if (Array.isArray(listMenuItems)) {\n    result.listMenuItems = [\n      RenderServerComponent({\n        clientProps,\n        Component: listMenuItems,\n        importMap: payload.importMap,\n        serverProps,\n      }),\n    ]\n  }\n\n  if (collectionConfig.admin.components?.afterListTable) {\n    result.AfterListTable = RenderServerComponent({\n      clientProps: clientProps satisfies AfterListTableClientProps,\n      Component: collectionConfig.admin.components.afterListTable,\n      importMap: payload.importMap,\n      serverProps: serverProps satisfies AfterListTableServerPropsOnly,\n    })\n  }\n\n  if (collectionConfig.admin.components?.beforeList) {\n    result.BeforeList = RenderServerComponent({\n      clientProps: clientProps satisfies BeforeListClientProps,\n      Component: collectionConfig.admin.components.beforeList,\n      importMap: payload.importMap,\n      serverProps: serverProps satisfies BeforeListServerPropsOnly,\n    })\n  }\n\n  // Handle beforeListTable with optional banner\n  const existingBeforeListTable = collectionConfig.admin.components?.beforeListTable\n    ? RenderServerComponent({\n        clientProps: clientProps satisfies BeforeListTableClientProps,\n        Component: collectionConfig.admin.components.beforeListTable,\n        importMap: payload.importMap,\n        serverProps: serverProps satisfies BeforeListTableServerPropsOnly,\n      })\n    : null\n\n  // Create banner for document not found\n  const notFoundBanner = notFoundDocId ? (\n    <Banner type=\"error\">\n      {serverProps.i18n.t('error:documentNotFound', { id: notFoundDocId })}\n    </Banner>\n  ) : null\n\n  // Combine banner and existing component\n  if (notFoundBanner || existingBeforeListTable) {\n    result.BeforeListTable = (\n      <React.Fragment>\n        {notFoundBanner}\n        {existingBeforeListTable}\n      </React.Fragment>\n    )\n  }\n\n  if (collectionConfig.admin.components?.Description) {\n    result.Description = RenderServerComponent({\n      clientProps: {\n        collectionSlug: collectionConfig.slug,\n        description,\n      } satisfies ViewDescriptionClientProps,\n      Component: collectionConfig.admin.components.Description,\n      importMap: payload.importMap,\n      serverProps: serverProps satisfies ViewDescriptionServerPropsOnly,\n    })\n  }\n\n  return result\n}\n"],"names":["Banner","RenderServerComponent","React","renderListViewSlots","clientProps","collectionConfig","description","notFoundDocId","payload","serverProps","result","admin","components","afterList","AfterList","Component","importMap","listMenuItems","Array","isArray","afterListTable","AfterListTable","beforeList","BeforeList","existingBeforeListTable","beforeListTable","notFoundBanner","_jsx","type","i18n","t","id","BeforeListTable","_jsxs","Fragment","Description","collectionSlug","slug"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 6776, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/List/resolveAllFilterOptions.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/List/resolveAllFilterOptions.ts"],"sourcesContent":["import type { Field, PayloadRequest, ResolvedFilterOptions } from 'payload'\n\nimport { resolveFilterOptions } from '@payloadcms/ui/rsc'\nimport {\n  fieldAffectsData,\n  fieldHasSubFields,\n  fieldIsHiddenOrDisabled,\n  tabHasName,\n} from 'payload/shared'\n\nexport const resolveAllFilterOptions = async ({\n  fields,\n  pathPrefix,\n  req,\n  result,\n}: {\n  fields: Field[]\n  pathPrefix?: string\n  req: PayloadRequest\n  result?: Map<string, ResolvedFilterOptions>\n}): Promise<Map<string, ResolvedFilterOptions>> => {\n  const resolvedFilterOptions = !result ? new Map<string, ResolvedFilterOptions>() : result\n\n  await Promise.all(\n    fields.map(async (field) => {\n      if (fieldIsHiddenOrDisabled(field)) {\n        return\n      }\n\n      const fieldPath = fieldAffectsData(field)\n        ? pathPrefix\n          ? `${pathPrefix}.${field.name}`\n          : field.name\n        : pathPrefix\n\n      if (\n        (field.type === 'relationship' || field.type === 'upload') &&\n        'filterOptions' in field &&\n        field.filterOptions\n      ) {\n        const options = await resolveFilterOptions(field.filterOptions, {\n          id: undefined,\n          blockData: undefined,\n          data: {}, // use empty object to prevent breaking queries when accessing properties of `data`\n          relationTo: field.relationTo,\n          req,\n          siblingData: {}, // use empty object to prevent breaking queries when accessing properties of `siblingData`\n          user: req.user,\n        })\n\n        resolvedFilterOptions.set(fieldPath, options)\n      }\n\n      if (fieldHasSubFields(field)) {\n        await resolveAllFilterOptions({\n          fields: field.fields,\n          pathPrefix: fieldPath,\n          req,\n          result: resolvedFilterOptions,\n        })\n      }\n\n      if (field.type === 'tabs') {\n        await Promise.all(\n          field.tabs.map(async (tab) => {\n            const tabPath = tabHasName(tab)\n              ? fieldPath\n                ? `${fieldPath}.${tab.name}`\n                : tab.name\n              : fieldPath\n\n            await resolveAllFilterOptions({\n              fields: tab.fields,\n              pathPrefix: tabPath,\n              req,\n              result: resolvedFilterOptions,\n            })\n          }),\n        )\n      }\n    }),\n  )\n\n  return resolvedFilterOptions\n}\n"],"names":["resolveFilterOptions","fieldAffectsData","fieldHasSubFields","fieldIsHiddenOrDisabled","tabHasName","resolveAllFilterOptions","fields","pathPrefix","req","result","resolvedFilterOptions","Map","Promise","all","map","field","fieldPath","name","type","filterOptions","options","id","undefined","blockData","data","relationTo","siblingData","user","set","tabs","tab","tabPath"],"mappings":";;;;AAEA,SAASA,oBAAoB,QAAQ;AACrC,SACEC,gBAAgB,EAChBC,iBAAiB,EACjBC,uBAAuB,EACvBC,UAAU,QACL;;;;;;;AAEA,MAAMC,uBAAA,GAA0B,MAAAA,CAAO,EAC5CC,MAAM,EACNC,UAAU,EACVC,GAAG,EACHC,MAAAA,EAMD;IACC,MAAMC,qBAAA,GAAwB,CAACD,MAAA,GAAS,IAAIE,GAAA,KAAuCF,MAAA;IAEnF,MAAMG,OAAA,CAAQC,GAAG,CACfP,MAAA,CAAOQ,GAAG,CAAC,OAAOC,KAAA;QAChB,QAAIZ,2MAAA,EAAwBY,KAAA,GAAQ;YAClC;QACF;QAEA,MAAMC,SAAA,OAAYf,oMAAA,EAAiBc,KAAA,IAC/BR,UAAA,GACE,GAAGA,UAAA,CAAA,CAAA,EAAcQ,KAAA,CAAME,IAAI,EAAE,GAC7BF,KAAA,CAAME,IAAI,GACZV,UAAA;QAEJ,IACE,CAACQ,KAAA,CAAMG,IAAI,KAAK,kBAAkBH,KAAA,CAAMG,IAAI,KAAK,QAAO,KACxD,mBAAmBH,KAAA,IACnBA,KAAA,CAAMI,aAAa,EACnB;YACA,MAAMC,OAAA,GAAU,UAAMpB,uMAAA,EAAqBe,KAAA,CAAMI,aAAa,EAAE;gBAC9DE,EAAA,EAAIC,SAAA;gBACJC,SAAA,EAAWD,SAAA;gBACXE,IAAA,EAAM,CAAC;gBACPC,UAAA,EAAYV,KAAA,CAAMU,UAAU;gBAC5BjB,GAAA;gBACAkB,WAAA,EAAa,CAAC;gBACdC,IAAA,EAAMnB,GAAA,CAAImB,IAAAA;YACZ;YAEAjB,qBAAA,CAAsBkB,GAAG,CAACZ,SAAA,EAAWI,OAAA;QACvC;QAEA,QAAIlB,qMAAA,EAAkBa,KAAA,GAAQ;YAC5B,MAAMV,uBAAA,CAAwB;gBAC5BC,MAAA,EAAQS,KAAA,CAAMT,MAAM;gBACpBC,UAAA,EAAYS,SAAA;gBACZR,GAAA;gBACAC,MAAA,EAAQC;YACV;QACF;QAEA,IAAIK,KAAA,CAAMG,IAAI,KAAK,QAAQ;YACzB,MAAMN,OAAA,CAAQC,GAAG,CACfE,KAAA,CAAMc,IAAI,CAACf,GAAG,CAAC,OAAOgB,GAAA;gBACpB,MAAMC,OAAA,OAAU3B,8LAAA,EAAW0B,GAAA,IACvBd,SAAA,GACE,GAAGA,SAAA,CAAA,CAAA,EAAac,GAAA,CAAIb,IAAI,EAAE,GAC1Ba,GAAA,CAAIb,IAAI,GACVD,SAAA;gBAEJ,MAAMX,uBAAA,CAAwB;oBAC5BC,MAAA,EAAQwB,GAAA,CAAIxB,MAAM;oBAClBC,UAAA,EAAYwB,OAAA;oBACZvB,GAAA;oBACAC,MAAA,EAAQC;gBACV;YACF;QAEJ;IACF;IAGF,OAAOA,qBAAA;AACT","ignoreList":[]}},
    {"offset": {"line": 6836, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/List/transformColumnsToSelect.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/List/transformColumnsToSelect.ts"],"sourcesContent":["import type { ColumnPreference, SelectType } from 'payload'\n\nimport { unflatten } from 'payload/shared'\n\nexport const transformColumnsToSelect = (columns: ColumnPreference[]): SelectType => {\n  const columnsSelect = columns.reduce((acc, column) => {\n    if (column.active) {\n      acc[column.accessor] = true\n    }\n    return acc\n  }, {} as SelectType)\n\n  return unflatten(columnsSelect)\n}\n"],"names":["unflatten","transformColumnsToSelect","columns","columnsSelect","reduce","acc","column","active","accessor"],"mappings":";;;;AAEA,SAASA,SAAS,QAAQ;;;;;;AAEnB,MAAMC,wBAAA,IAA4BC,OAAA;IACvC,MAAMC,aAAA,GAAgBD,OAAA,CAAQE,MAAM,CAAC,CAACC,GAAA,EAAKC,MAAA;QACzC,IAAIA,MAAA,CAAOC,MAAM,EAAE;YACjBF,GAAG,CAACC,MAAA,CAAOE,QAAQ,CAAC,GAAG;QACzB;QACA,OAAOH,GAAA;IACT,GAAG,CAAC;IAEJ,WAAOL,6LAAA,EAAUG,aAAA;AACnB","ignoreList":[]}},
    {"offset": {"line": 6862, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/List/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/List/index.tsx"],"sourcesContent":["import type {\n  AdminViewServerProps,\n  CollectionPreferences,\n  Column,\n  ColumnPreference,\n  ListQuery,\n  ListViewClientProps,\n  ListViewServerPropsOnly,\n  PaginatedDocs,\n  PayloadComponent,\n  QueryPreset,\n  SanitizedCollectionPermission,\n} from 'payload'\n\nimport { DefaultListView, HydrateAuthProvider, ListQueryProvider } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { getColumns, renderFilters, renderTable, upsertPreferences } from '@payloadcms/ui/rsc'\nimport { notFound } from 'next/navigation.js'\nimport {\n  appendUploadSelectFields,\n  combineWhereConstraints,\n  formatAdminURL,\n  isNumber,\n  mergeListSearchAndWhere,\n  transformColumnsToPreferences,\n  transformColumnsToSearchParams,\n} from 'payload/shared'\nimport React, { Fragment } from 'react'\n\nimport { getDocumentPermissions } from '../Document/getDocumentPermissions.js'\nimport { enrichDocsWithVersionStatus } from './enrichDocsWithVersionStatus.js'\nimport { handleGroupBy } from './handleGroupBy.js'\nimport { renderListViewSlots } from './renderListViewSlots.js'\nimport { resolveAllFilterOptions } from './resolveAllFilterOptions.js'\nimport { transformColumnsToSelect } from './transformColumnsToSelect.js'\n\n/**\n * @internal\n */\nexport type RenderListViewArgs = {\n  /**\n   * Allows providing your own list view component. This will override the default list view component and\n   * the collection's configured list view component (if any).\n   */\n  ComponentOverride?:\n    | PayloadComponent\n    | React.ComponentType<ListViewClientProps | (ListViewClientProps & ListViewServerPropsOnly)>\n  customCellProps?: Record<string, any>\n  disableBulkDelete?: boolean\n  disableBulkEdit?: boolean\n  disableQueryPresets?: boolean\n  drawerSlug?: string\n  enableRowSelections: boolean\n  overrideEntityVisibility?: boolean\n  /**\n   * If not ListQuery is provided, `req.query` will be used.\n   */\n  query?: ListQuery\n  redirectAfterDelete?: boolean\n  redirectAfterDuplicate?: boolean\n  /**\n   * @experimental This prop is subject to change in future releases.\n   */\n  trash?: boolean\n} & AdminViewServerProps\n\n/**\n * This function is responsible for rendering\n * the list view on the server for both:\n *  - default list view\n *  - list view within drawers\n *\n * @internal\n */\nexport const renderListView = async (\n  args: RenderListViewArgs,\n): Promise<{\n  List: React.ReactNode\n}> => {\n  const {\n    clientConfig,\n    ComponentOverride,\n    customCellProps,\n    disableBulkDelete,\n    disableBulkEdit,\n    disableQueryPresets,\n    drawerSlug,\n    enableRowSelections,\n    initPageResult,\n    overrideEntityVisibility,\n    params,\n    query: queryFromArgs,\n    searchParams,\n    trash,\n    viewType,\n  } = args\n\n  const {\n    collectionConfig,\n    collectionConfig: { slug: collectionSlug },\n    locale: fullLocale,\n    permissions,\n    req,\n    req: {\n      i18n,\n      payload,\n      payload: { config },\n      query: queryFromReq,\n      user,\n    },\n    visibleEntities,\n  } = initPageResult\n  const {\n    routes: { admin: adminRoute },\n  } = config\n\n  if (\n    !collectionConfig ||\n    !permissions?.collections?.[collectionSlug]?.read ||\n    (!visibleEntities.collections.includes(collectionSlug) && !overrideEntityVisibility)\n  ) {\n    throw new Error('not-found')\n  }\n\n  const query: ListQuery = queryFromArgs || queryFromReq\n\n  const columnsFromQuery: ColumnPreference[] = transformColumnsToPreferences(query?.columns)\n\n  query.queryByGroup =\n    query?.queryByGroup && typeof query.queryByGroup === 'string'\n      ? JSON.parse(query.queryByGroup)\n      : query?.queryByGroup\n\n  const collectionPreferences = await upsertPreferences<CollectionPreferences>({\n    key: `collection-${collectionSlug}`,\n    req,\n    value: {\n      columns: columnsFromQuery,\n      groupBy: query?.groupBy,\n      limit: isNumber(query?.limit) ? Number(query.limit) : undefined,\n      preset: query?.preset,\n      sort: query?.sort as string,\n    },\n  })\n\n  let queryPreset: QueryPreset | undefined\n  let queryPresetPermissions: SanitizedCollectionPermission | undefined\n\n  if (collectionPreferences?.preset) {\n    try {\n      queryPreset = (await payload.findByID({\n        id: collectionPreferences?.preset,\n        collection: 'payload-query-presets',\n        depth: 0,\n        overrideAccess: false,\n        user,\n      })) as QueryPreset\n\n      if (queryPreset) {\n        queryPresetPermissions = (\n          await getDocumentPermissions({\n            id: queryPreset.id,\n            collectionConfig: req.payload.collections['payload-query-presets'].config,\n            data: queryPreset,\n            req,\n          })\n        )?.docPermissions\n      }\n    } catch (err) {\n      req.payload.logger.error(`Error fetching query preset or preset permissions: ${err}`)\n    }\n  }\n\n  query.preset = queryPreset?.id\n  if (queryPreset?.where && !query.where) {\n    query.where = queryPreset.where\n  }\n  query.groupBy = query.groupBy ?? queryPreset?.groupBy ?? collectionPreferences?.groupBy\n\n  const columnPreference = query.columns\n    ? transformColumnsToPreferences(query.columns)\n    : (queryPreset?.columns ?? collectionPreferences?.columns)\n  query.columns = transformColumnsToSearchParams(columnPreference)\n\n  query.page = isNumber(query?.page) ? Number(query.page) : 0\n\n  query.limit = collectionPreferences?.limit || collectionConfig.admin.pagination.defaultLimit\n\n  query.sort =\n    collectionPreferences?.sort ||\n    (typeof collectionConfig.defaultSort === 'string' ? collectionConfig.defaultSort : undefined)\n\n  const baseFilterConstraint = await (\n    collectionConfig.admin?.baseFilter ?? collectionConfig.admin?.baseListFilter\n  )?.({\n    limit: query.limit,\n    page: query.page,\n    req,\n    sort: query.sort,\n  })\n\n  let whereWithMergedSearch = mergeListSearchAndWhere({\n    collectionConfig,\n    search: typeof query?.search === 'string' ? query.search : undefined,\n    where: combineWhereConstraints([query?.where, baseFilterConstraint]),\n  })\n\n  if (trash === true) {\n    whereWithMergedSearch = {\n      and: [\n        whereWithMergedSearch,\n        {\n          deletedAt: {\n            exists: true,\n          },\n        },\n      ],\n    }\n  }\n\n  let Table: React.ReactNode | React.ReactNode[] = null\n  let columnState: Column[] = []\n  let data: PaginatedDocs = {\n    // no results default\n    docs: [],\n    hasNextPage: false,\n    hasPrevPage: false,\n    limit: query.limit,\n    nextPage: null,\n    page: 1,\n    pagingCounter: 0,\n    prevPage: null,\n    totalDocs: 0,\n    totalPages: 0,\n  }\n\n  const clientCollectionConfig = clientConfig.collections.find((c) => c.slug === collectionSlug)\n\n  const columns = getColumns({\n    clientConfig,\n    collectionConfig: clientCollectionConfig,\n    collectionSlug,\n    columns: columnPreference,\n    i18n,\n    permissions,\n  })\n\n  const select = collectionConfig.admin.enableListViewSelectAPI\n    ? transformColumnsToSelect(columns)\n    : undefined\n\n  /** Force select image fields for list view thumbnails */\n  appendUploadSelectFields({\n    collectionConfig,\n    select,\n  })\n\n  try {\n    if (collectionConfig.admin.groupBy && query.groupBy) {\n      ;({ columnState, data, Table } = await handleGroupBy({\n        clientCollectionConfig,\n        clientConfig,\n        collectionConfig,\n        collectionSlug,\n        columns,\n        customCellProps,\n        drawerSlug,\n        enableRowSelections,\n        fieldPermissions: permissions?.collections?.[collectionSlug]?.fields,\n        query,\n        req,\n        select,\n        trash,\n        user,\n        viewType,\n        where: whereWithMergedSearch,\n      }))\n\n      // Enrich documents with correct display status for drafts\n      data = await enrichDocsWithVersionStatus({\n        collectionConfig,\n        data,\n        req,\n      })\n    } else {\n      data = await req.payload.find({\n        collection: collectionSlug,\n        depth: 0,\n        draft: true,\n        fallbackLocale: false,\n        includeLockStatus: true,\n        limit: query?.limit ? Number(query.limit) : undefined,\n        locale: req.locale,\n        overrideAccess: false,\n        page: query?.page ? Number(query.page) : undefined,\n        req,\n        select,\n        sort: query?.sort,\n        trash,\n        user,\n        where: whereWithMergedSearch,\n      })\n\n      // Enrich documents with correct display status for drafts\n      data = await enrichDocsWithVersionStatus({\n        collectionConfig,\n        data,\n        req,\n      })\n      ;({ columnState, Table } = renderTable({\n        clientCollectionConfig,\n        collectionConfig,\n        columns,\n        customCellProps,\n        data,\n        drawerSlug,\n        enableRowSelections,\n        fieldPermissions: permissions?.collections?.[collectionSlug]?.fields,\n        i18n: req.i18n,\n        orderableFieldName: collectionConfig.orderable === true ? '_order' : undefined,\n        payload: req.payload,\n        query,\n        req,\n        useAsTitle: collectionConfig.admin.useAsTitle,\n        viewType,\n      }))\n    }\n  } catch (err) {\n    if (err.name !== 'QueryError') {\n      // QueryErrors are expected when a user filters by a field they do not have access to\n      req.payload.logger.error({\n        err,\n        msg: `There was an error fetching the list view data for collection ${collectionSlug}`,\n      })\n      throw err\n    }\n  }\n\n  const renderedFilters = renderFilters(collectionConfig.fields, req.payload.importMap)\n\n  const resolvedFilterOptions = await resolveAllFilterOptions({\n    fields: collectionConfig.fields,\n    req,\n  })\n\n  const staticDescription =\n    typeof collectionConfig.admin.description === 'function'\n      ? collectionConfig.admin.description({ t: i18n.t })\n      : collectionConfig.admin.description\n\n  const newDocumentURL = formatAdminURL({\n    adminRoute,\n    path: `/collections/${collectionSlug}/create`,\n  })\n\n  const hasCreatePermission = permissions?.collections?.[collectionSlug]?.create\n  const hasDeletePermission = permissions?.collections?.[collectionSlug]?.delete\n\n  // Check if there's a notFound query parameter (document ID that wasn't found)\n  const notFoundDocId = typeof searchParams?.notFound === 'string' ? searchParams.notFound : null\n\n  const serverProps: ListViewServerPropsOnly = {\n    collectionConfig,\n    data,\n    i18n,\n    limit: query.limit,\n    listPreferences: collectionPreferences,\n    listSearchableFields: collectionConfig.admin.listSearchableFields,\n    locale: fullLocale,\n    params,\n    payload,\n    permissions,\n    searchParams,\n    user,\n  }\n\n  const listViewSlots = renderListViewSlots({\n    clientProps: {\n      collectionSlug,\n      hasCreatePermission,\n      hasDeletePermission,\n      newDocumentURL,\n    },\n    collectionConfig,\n    description: staticDescription,\n    notFoundDocId,\n    payload,\n    serverProps,\n  })\n\n  const isInDrawer = Boolean(drawerSlug)\n\n  // Needed to prevent: Only plain objects can be passed to Client Components from Server Components. Objects with toJSON methods are not supported. Convert it manually to a simple value before passing it to props.\n  // Is there a way to avoid this? The `where` object is already seemingly plain, but is not bc it originates from the params.\n  query.where = query?.where ? JSON.parse(JSON.stringify(query?.where || {})) : undefined\n\n  return {\n    List: (\n      <Fragment>\n        <HydrateAuthProvider permissions={permissions} />\n        <ListQueryProvider\n          collectionSlug={collectionSlug}\n          data={data}\n          modifySearchParams={!isInDrawer}\n          orderableFieldName={collectionConfig.orderable === true ? '_order' : undefined}\n          query={query}\n        >\n          {RenderServerComponent({\n            clientProps: {\n              ...listViewSlots,\n              collectionSlug,\n              columnState,\n              disableBulkDelete,\n              disableBulkEdit: collectionConfig.disableBulkEdit ?? disableBulkEdit,\n              disableQueryPresets,\n              enableRowSelections,\n              hasCreatePermission,\n              hasDeletePermission,\n              listPreferences: collectionPreferences,\n              newDocumentURL,\n              queryPreset,\n              queryPresetPermissions,\n              renderedFilters,\n              resolvedFilterOptions,\n              Table,\n              viewType,\n            } satisfies ListViewClientProps,\n            Component:\n              ComponentOverride ?? collectionConfig?.admin?.components?.views?.list?.Component,\n            Fallback: DefaultListView,\n            importMap: payload.importMap,\n            serverProps,\n          })}\n        </ListQueryProvider>\n      </Fragment>\n    ),\n  }\n}\n\nexport const ListView: React.FC<RenderListViewArgs> = async (args) => {\n  try {\n    const { List: RenderedList } = await renderListView({ ...args, enableRowSelections: true })\n    return RenderedList\n  } catch (error) {\n    // Pass through Next.js errors\n    if (error.message === 'not-found') {\n      notFound()\n    } else {\n      console.error(error) // eslint-disable-line no-console\n    }\n  }\n}\n"],"names":["DefaultListView","HydrateAuthProvider","ListQueryProvider","RenderServerComponent","getColumns","renderFilters","renderTable","upsertPreferences","notFound","appendUploadSelectFields","combineWhereConstraints","formatAdminURL","isNumber","mergeListSearchAndWhere","transformColumnsToPreferences","transformColumnsToSearchParams","React","Fragment","getDocumentPermissions","enrichDocsWithVersionStatus","handleGroupBy","renderListViewSlots","resolveAllFilterOptions","transformColumnsToSelect","renderListView","args","clientConfig","ComponentOverride","customCellProps","disableBulkDelete","disableBulkEdit","disableQueryPresets","drawerSlug","enableRowSelections","initPageResult","overrideEntityVisibility","params","query","queryFromArgs","searchParams","trash","viewType","collectionConfig","slug","collectionSlug","locale","fullLocale","permissions","req","i18n","payload","config","queryFromReq","user","visibleEntities","routes","admin","adminRoute","collections","read","includes","Error","columnsFromQuery","columns","queryByGroup","JSON","parse","collectionPreferences","key","value","groupBy","limit","Number","undefined","preset","sort","queryPreset","queryPresetPermissions","findByID","id","collection","depth","overrideAccess","data","docPermissions","err","logger","error","where","columnPreference","page","pagination","defaultLimit","defaultSort","baseFilterConstraint","baseFilter","baseListFilter","whereWithMergedSearch","search","and","deletedAt","exists","Table","columnState","docs","hasNextPage","hasPrevPage","nextPage","pagingCounter","prevPage","totalDocs","totalPages","clientCollectionConfig","find","c","select","enableListViewSelectAPI","fieldPermissions","fields","draft","fallbackLocale","includeLockStatus","orderableFieldName","orderable","useAsTitle","name","msg","renderedFilters","importMap","resolvedFilterOptions","staticDescription","description","t","newDocumentURL","path","hasCreatePermission","create","hasDeletePermission","delete","notFoundDocId","serverProps","listPreferences","listSearchableFields","listViewSlots","clientProps","isInDrawer","Boolean","stringify","List","_jsxs","_jsx","modifySearchParams","Component","components","views","list","Fallback","ListView","RenderedList","message","console"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 7207, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/CollectionTrash/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/CollectionTrash/index.tsx"],"sourcesContent":["import type { AdminViewServerProps, ListQuery } from 'payload'\nimport type React from 'react'\n\nimport { notFound } from 'next/navigation.js'\n\nimport { renderListView } from '../List/index.js'\n\ntype RenderTrashViewArgs = {\n  customCellProps?: Record<string, any>\n  disableBulkDelete?: boolean\n  disableBulkEdit?: boolean\n  disableQueryPresets?: boolean\n  drawerSlug?: string\n  enableRowSelections: boolean\n  overrideEntityVisibility?: boolean\n  query: ListQuery\n  redirectAfterDelete?: boolean\n  redirectAfterDuplicate?: boolean\n  redirectAfterRestore?: boolean\n} & AdminViewServerProps\n\nexport const TrashView: React.FC<Omit<RenderTrashViewArgs, 'enableRowSelections'>> = async (\n  args,\n) => {\n  try {\n    const { List: TrashList } = await renderListView({\n      ...args,\n      enableRowSelections: true,\n      trash: true,\n      viewType: 'trash',\n    })\n\n    return TrashList\n  } catch (error) {\n    if (error.message === 'not-found') {\n      notFound()\n    }\n    console.error(error) // eslint-disable-line no-console\n  }\n}\n"],"names":["notFound","renderListView","TrashView","args","List","TrashList","enableRowSelections","trash","viewType","error","message","console"],"mappings":";;;;AAGA,SAASA,QAAQ,QAAQ;AAEzB,SAASC,cAAc,QAAQ;;;;;;;AAgBxB,MAAMC,SAAA,GAAwE,OACnFC,IAAA;IAEA,IAAI;QACF,MAAM,EAAEC,IAAA,EAAMC,SAAAA,EAAW,GAAG,UAAMJ,wLAAA,EAAe;YAC/C,GAAGE,IAAI;YACPG,mBAAA,EAAqB;YACrBC,KAAA,EAAO;YACPC,QAAA,EAAU;QACZ;QAEA,OAAOH,SAAA;IACT,EAAE,OAAOI,KAAA,EAAO;QACd,IAAIA,KAAA,CAAMC,OAAO,KAAK,aAAa;gBACjCV,8IAAA;QACF;QACAW,OAAA,CAAQF,KAAK,CAACA,KAAA,GAAO,iCAAA;IACvB;AACF","ignoreList":[]}},
    {"offset": {"line": 7240, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/CreateFirstUser/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CreateFirstUserClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call CreateFirstUserClient() from the server but CreateFirstUserClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/CreateFirstUser/index.client.js <module evaluation>\",\n    \"CreateFirstUserClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,wBAAwB,IAAA,wQAAuB,EACxD;IAAa,MAAM,IAAI,MAAM;AAA0P,GACvR,0GACA","ignoreList":[0]}},
    {"offset": {"line": 7254, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/CreateFirstUser/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CreateFirstUserClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call CreateFirstUserClient() from the server but CreateFirstUserClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/CreateFirstUser/index.client.js\",\n    \"CreateFirstUserClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,wBAAwB,IAAA,wQAAuB,EACxD;IAAa,MAAM,IAAI,MAAM;AAA0P,GACvR,sFACA","ignoreList":[0]}},
    {"offset": {"line": 7268, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/CreateFirstUser/index.client.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/CreateFirstUser/index.client.tsx"],"sourcesContent":["'use client'\nimport type { FormProps, UserWithToken } from '@payloadcms/ui'\nimport type {\n  DocumentPreferences,\n  FormState,\n  LoginWithUsernameOptions,\n  SanitizedDocumentPermissions,\n} from 'payload'\n\nimport {\n  ConfirmPasswordField,\n  EmailAndUsernameFields,\n  Form,\n  FormSubmit,\n  PasswordField,\n  RenderFields,\n  useAuth,\n  useConfig,\n  useServerFunctions,\n  useTranslation,\n} from '@payloadcms/ui'\nimport { abortAndIgnore, handleAbortRef } from '@payloadcms/ui/shared'\nimport { formatAdminURL } from 'payload/shared'\nimport React, { useEffect } from 'react'\n\nexport const CreateFirstUserClient: React.FC<{\n  docPermissions: SanitizedDocumentPermissions\n  docPreferences: DocumentPreferences\n  initialState: FormState\n  loginWithUsername?: false | LoginWithUsernameOptions\n  userSlug: string\n}> = ({ docPermissions, docPreferences, initialState, loginWithUsername, userSlug }) => {\n  const {\n    config: {\n      routes: { admin, api: apiRoute },\n    },\n    getEntityConfig,\n  } = useConfig()\n\n  const { getFormState } = useServerFunctions()\n\n  const { t } = useTranslation()\n  const { setUser } = useAuth()\n\n  const abortOnChangeRef = React.useRef<AbortController>(null)\n\n  const collectionConfig = getEntityConfig({ collectionSlug: userSlug })\n\n  const onChange: FormProps['onChange'][0] = React.useCallback(\n    async ({ formState: prevFormState, submitted }) => {\n      const controller = handleAbortRef(abortOnChangeRef)\n\n      const response = await getFormState({\n        collectionSlug: userSlug,\n        docPermissions,\n        docPreferences,\n        formState: prevFormState,\n        operation: 'create',\n        schemaPath: userSlug,\n        signal: controller.signal,\n        skipValidation: !submitted,\n      })\n\n      abortOnChangeRef.current = null\n\n      if (response && response.state) {\n        return response.state\n      }\n    },\n    [userSlug, getFormState, docPermissions, docPreferences],\n  )\n\n  const handleFirstRegister = (data: UserWithToken) => {\n    setUser(data)\n  }\n\n  useEffect(() => {\n    const abortOnChange = abortOnChangeRef.current\n\n    return () => {\n      abortAndIgnore(abortOnChange)\n    }\n  }, [])\n\n  return (\n    <Form\n      action={formatAdminURL({\n        apiRoute,\n        path: `/${userSlug}/first-register`,\n      })}\n      initialState={{\n        ...initialState,\n        'confirm-password': {\n          ...initialState['confirm-password'],\n          valid: initialState['confirm-password']['valid'] || false,\n          value: initialState['confirm-password']['value'] || '',\n        },\n      }}\n      method=\"POST\"\n      onChange={[onChange]}\n      onSuccess={handleFirstRegister}\n      redirect={admin}\n      validationOperation=\"create\"\n    >\n      <EmailAndUsernameFields\n        className=\"emailAndUsername\"\n        loginWithUsername={loginWithUsername}\n        operation=\"create\"\n        readOnly={false}\n        t={t}\n      />\n      <PasswordField\n        autoComplete=\"off\"\n        field={{\n          name: 'password',\n          label: t('authentication:newPassword'),\n          required: true,\n        }}\n        path=\"password\"\n      />\n      <ConfirmPasswordField />\n      <RenderFields\n        fields={collectionConfig.fields}\n        forceRender\n        parentIndexPath=\"\"\n        parentPath=\"\"\n        parentSchemaPath={userSlug}\n        permissions={true}\n        readOnly={false}\n      />\n      <FormSubmit size=\"large\">{t('general:create')}</FormSubmit>\n    </Form>\n  )\n}\n"],"names":["ConfirmPasswordField","EmailAndUsernameFields","Form","FormSubmit","PasswordField","RenderFields","useAuth","useConfig","useServerFunctions","useTranslation","abortAndIgnore","handleAbortRef","formatAdminURL","React","useEffect","CreateFirstUserClient","docPermissions","docPreferences","initialState","loginWithUsername","userSlug","config","routes","admin","api","apiRoute","getEntityConfig","getFormState","t","setUser","abortOnChangeRef","useRef","collectionConfig","collectionSlug","onChange","useCallback","formState","prevFormState","submitted","controller","response","operation","schemaPath","signal","skipValidation","current","state","handleFirstRegister","data","abortOnChange","_jsxs","action","path","valid","value","method","onSuccess","redirect","validationOperation","_jsx","className","readOnly","autoComplete","field","name","label","required","fields","forceRender","parentIndexPath","parentPath","parentSchemaPath","permissions","size"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 7278, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/CreateFirstUser/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/CreateFirstUser/index.tsx"],"sourcesContent":["import type {\n  AdminViewServerProps,\n  SanitizedDocumentPermissions,\n  SanitizedFieldsPermissions,\n} from 'payload'\n\nimport { buildFormState } from '@payloadcms/ui/utilities/buildFormState'\nimport React from 'react'\n\nimport { getDocPreferences } from '../Document/getDocPreferences.js'\nimport { getDocumentData } from '../Document/getDocumentData.js'\nimport { CreateFirstUserClient } from './index.client.js'\nimport './index.scss'\n\nexport async function CreateFirstUserView({ initPageResult }: AdminViewServerProps) {\n  const {\n    locale,\n    req,\n    req: {\n      payload: {\n        collections,\n        config: {\n          admin: { user: userSlug },\n        },\n      },\n    },\n  } = initPageResult\n\n  const collectionConfig = collections?.[userSlug]?.config\n  const { auth: authOptions } = collectionConfig\n  const loginWithUsername = authOptions.loginWithUsername\n\n  // Fetch the data required for the view\n  const data = await getDocumentData({\n    collectionSlug: collectionConfig.slug,\n    locale,\n    payload: req.payload,\n    req,\n    user: req.user,\n  })\n\n  // Get document preferences\n  const docPreferences = await getDocPreferences({\n    collectionSlug: collectionConfig.slug,\n    payload: req.payload,\n    user: req.user,\n  })\n\n  const baseFields: SanitizedFieldsPermissions = Object.fromEntries(\n    collectionConfig.fields\n      .filter((f): f is { name: string } & typeof f => 'name' in f && typeof f.name === 'string')\n      .map((f) => [f.name, { create: true, read: true, update: true }]),\n  )\n\n  // In create-first-user we should always allow all fields\n  const docPermissionsForForm: SanitizedDocumentPermissions = {\n    create: true,\n    delete: true,\n    fields: baseFields,\n    read: true,\n    readVersions: true,\n    update: true,\n  }\n\n  // Build initial form state from data\n  const { state: formState } = await buildFormState({\n    collectionSlug: collectionConfig.slug,\n    data,\n    docPermissions: docPermissionsForForm,\n    docPreferences,\n    locale: locale?.code,\n    operation: 'create',\n    renderAllFields: true,\n    req,\n    schemaPath: collectionConfig.slug,\n    skipClientConfigAuth: true,\n    skipValidation: true,\n  })\n\n  return (\n    <div className=\"create-first-user\">\n      <h1>{req.t('general:welcome')}</h1>\n      <p>{req.t('authentication:beginCreateFirstUser')}</p>\n      <CreateFirstUserClient\n        docPermissions={docPermissionsForForm}\n        docPreferences={docPreferences}\n        initialState={formState}\n        loginWithUsername={loginWithUsername}\n        userSlug={userSlug}\n      />\n    </div>\n  )\n}\n"],"names":["buildFormState","React","getDocPreferences","getDocumentData","CreateFirstUserClient","CreateFirstUserView","initPageResult","locale","req","payload","collections","config","admin","user","userSlug","collectionConfig","auth","authOptions","loginWithUsername","data","collectionSlug","slug","docPreferences","baseFields","Object","fromEntries","fields","filter","f","name","map","create","read","update","docPermissionsForForm","delete","readVersions","state","formState","docPermissions","code","operation","renderAllFields","schemaPath","skipClientConfigAuth","skipValidation","_jsxs","className","_jsx","t","initialState"],"mappings":";;;;;AAMA,SAASA,cAAc,QAAQ;AAC/B,OAAOC,KAAA,MAAW;AAElB,SAASC,iBAAiB,QAAQ;AAClC,SAASC,eAAe,QAAQ;AAChC,SAASC,qBAAqB,QAAQ;;;;;;;;;;;;;AAG/B,eAAeC,oBAAoB,EAAEC,cAAAA,EAAsC;IAChF,MAAM,EACJC,MAAM,EACNC,GAAG,EACHA,GAAA,EAAK,EACHC,OAAA,EAAS,EACPC,WAAW,EACXC,MAAA,EAAQ,EACNC,KAAA,EAAO,EAAEC,IAAA,EAAMC,QAAAA,EAAQ,EAAE,EAC1B,EACF,EAEJ,GAAGR,cAAA;IAEJ,MAAMS,gBAAA,GAAmBL,WAAA,EAAA,CAAcI,QAAA,CAAS,EAAEH,MAAA;IAClD,MAAM,EAAEK,IAAA,EAAMC,WAAAA,EAAa,GAAGF,gBAAA;IAC9B,MAAMG,iBAAA,GAAoBD,WAAA,CAAYC,iBAAiB;IAEvD,uCAAA;IACA,MAAMC,IAAA,GAAO,UAAMhB,uMAAA,EAAgB;QACjCiB,cAAA,EAAgBL,gBAAA,CAAiBM,IAAI;QACrCd,MAAA;QACAE,OAAA,EAASD,GAAA,CAAIC,OAAO;QACpBD,GAAA;QACAK,IAAA,EAAML,GAAA,CAAIK,IAAAA;IACZ;IAEA,2BAAA;IACA,MAAMS,cAAA,GAAiB,UAAMpB,2MAAA,EAAkB;QAC7CkB,cAAA,EAAgBL,gBAAA,CAAiBM,IAAI;QACrCZ,OAAA,EAASD,GAAA,CAAIC,OAAO;QACpBI,IAAA,EAAML,GAAA,CAAIK,IAAAA;IACZ;IAEA,MAAMU,UAAA,GAAyCC,MAAA,CAAOC,WAAW,CAC/DV,gBAAA,CAAiBW,MAAM,CACpBC,MAAM,EAAEC,CAAA,GAAwC,UAAUA,CAAA,IAAK,OAAOA,CAAA,CAAEC,IAAI,KAAK,UACjFC,GAAG,EAAEF,CAAA,GAAM;YAACA,CAAA,CAAEC,IAAI;YAAE;gBAAEE,MAAA,EAAQ;gBAAMC,IAAA,EAAM;gBAAMC,MAAA,EAAQ;YAAK;SAAE;IAGpE,yDAAA;IACA,MAAMC,qBAAA,GAAsD;QAC1DH,MAAA,EAAQ;QACRI,MAAA,EAAQ;QACRT,MAAA,EAAQH,UAAA;QACRS,IAAA,EAAM;QACNI,YAAA,EAAc;QACdH,MAAA,EAAQ;IACV;IAEA,qCAAA;IACA,MAAM,EAAEI,KAAA,EAAOC,SAAAA,EAAW,GAAG,UAAMtC,2LAAA,EAAe;QAChDoB,cAAA,EAAgBL,gBAAA,CAAiBM,IAAI;QACrCF,IAAA;QACAoB,cAAA,EAAgBL,qBAAA;QAChBZ,cAAA;QACAf,MAAA,EAAQA,MAAA,EAAQiC,IAAA;QAChBC,SAAA,EAAW;QACXC,eAAA,EAAiB;QACjBlC,GAAA;QACAmC,UAAA,EAAY5B,gBAAA,CAAiBM,IAAI;QACjCuB,oBAAA,EAAsB;QACtBC,cAAA,EAAgB;IAClB;IAEA,OAAA,WAAA,OACEC,+NAAA,EAAC,OAAA;QAAIC,SAAA,EAAU;;8BACbC,8NAAA,EAAC,MAAA;0BAAIxC,GAAA,CAAIyC,CAAC,CAAC;;8BACXD,8NAAA,EAAC,KAAA;0BAAGxC,GAAA,CAAIyC,CAAC,CAAC;;8BACVD,8NAAA,EAAC5C,oNAAA,EAAA;gBACCmC,cAAA,EAAgBL,qBAAA;gBAChBZ,cAAA,EAAgBA,cAAA;gBAChB4B,YAAA,EAAcZ,SAAA;gBACdpB,iBAAA,EAAmBA,iBAAA;gBACnBJ,QAAA,EAAUA;;;;AAIlB","ignoreList":[]}},
    {"offset": {"line": 7374, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Dashboard/Default/ModularDashboard/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ModularDashboardClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call ModularDashboardClient() from the server but ModularDashboardClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Dashboard/Default/ModularDashboard/index.client.js <module evaluation>\",\n    \"ModularDashboardClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,yBAAyB,IAAA,wQAAuB,EACzD;IAAa,MAAM,IAAI,MAAM;AAA4P,GACzR,6HACA","ignoreList":[0]}},
    {"offset": {"line": 7388, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Dashboard/Default/ModularDashboard/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ModularDashboardClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call ModularDashboardClient() from the server but ModularDashboardClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Dashboard/Default/ModularDashboard/index.client.js\",\n    \"ModularDashboardClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,yBAAyB,IAAA,wQAAuB,EACzD;IAAa,MAAM,IAAI,MAAM;AAA4P,GACzR,yGACA","ignoreList":[0]}},
    {"offset": {"line": 7402, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Dashboard/Default/ModularDashboard/index.client.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Dashboard/Default/ModularDashboard/index.client.tsx"],"sourcesContent":["'use client'\n\nimport type { Modifier } from '@dnd-kit/core'\nimport type { ClientWidget, WidgetWidth } from 'payload'\n\nimport { DndContext, DragOverlay, useDraggable, useDroppable } from '@dnd-kit/core'\nimport { snapCenterToCursor } from '@dnd-kit/modifiers'\nimport { ChevronIcon, Popup, PopupList, useTranslation, XIcon } from '@payloadcms/ui'\nimport React, { useMemo, useState } from 'react'\n\n/**\n * Custom modifier that only applies snapCenterToCursor for pointer events.\n * During keyboard navigation, we handle positioning ourselves via the coordinate getter.\n */\nconst snapCenterToCursorOnlyForPointer: Modifier = (args) => {\n  const { activatorEvent } = args\n\n  // Only apply snap for pointer events (mouse/touch), not keyboard\n  // Check activatorEvent.type since KeyboardEvent may not exist on server\n  if (activatorEvent && 'key' in activatorEvent) {\n    return args.transform\n  }\n\n  return snapCenterToCursor(args)\n}\n\nimport { DashboardStepNav } from './DashboardStepNav.js'\nimport { useDashboardLayout } from './useDashboardLayout.js'\nimport { closestInXAxis } from './utils/collisionDetection.js'\nimport { useDashboardSensors } from './utils/sensors.js'\n\nexport type WidgetItem = {\n  id: string\n  maxWidth: WidgetWidth\n  minWidth: WidgetWidth\n  width: WidgetWidth\n}\n\nexport type WidgetInstanceClient = {\n  component: React.ReactNode\n  item: WidgetItem\n}\n\nexport type DropTargetWidget = {\n  position: 'after' | 'before'\n  widget: WidgetInstanceClient\n} | null\n\n/* eslint-disable perfectionist/sort-objects */\nconst WIDTH_TO_PERCENTAGE = {\n  'x-small': 25,\n  small: (1 / 3) * 100,\n  medium: 50,\n  large: (2 / 3) * 100,\n  'x-large': 75,\n  full: 100,\n} as const\n\nexport function ModularDashboardClient({\n  clientLayout: initialLayout,\n  widgets,\n}: {\n  clientLayout: WidgetInstanceClient[]\n  widgets: ClientWidget[]\n}) {\n  const { t } = useTranslation()\n  const {\n    addWidget,\n    cancel,\n    cancelModal,\n    currentLayout,\n    deleteWidget,\n    isEditing,\n    moveWidget,\n    resetLayout,\n    resizeWidget,\n    saveLayout,\n    setIsEditing,\n  } = useDashboardLayout(initialLayout)\n\n  const [activeDragId, setActiveDragId] = useState<null | string>(null)\n  const sensors = useDashboardSensors()\n\n  return (\n    <div>\n      <DndContext\n        autoScroll={{\n          enabled: true,\n          threshold: {\n            x: 0, // No horizontal scroll\n            y: 0.2, // Allow vertical scroll at 20% from edge\n          },\n        }}\n        collisionDetection={closestInXAxis}\n        // https://github.com/clauderic/dnd-kit/issues/926#issuecomment-1640115665\n        id=\"dashboard-dnd-context\"\n        onDragCancel={() => {\n          setActiveDragId(null)\n        }}\n        onDragEnd={(event) => {\n          if (!event.over) {\n            setActiveDragId(null)\n            return\n          }\n          const droppableId = event.over.id as string\n          const i = droppableId.lastIndexOf('-')\n          const slug = droppableId.slice(0, i)\n          const position = droppableId.slice(i + 1)\n\n          if (slug === event.active.id) {\n            return\n          }\n\n          const moveFromIndex = currentLayout?.findIndex(\n            (widget) => widget.item.id === event.active.id,\n          )\n          let moveToIndex = currentLayout?.findIndex((widget) => widget.item.id === slug)\n          if (moveFromIndex < moveToIndex) {\n            moveToIndex--\n          }\n          if (position === 'after') {\n            moveToIndex++\n          }\n          moveWidget({ moveFromIndex, moveToIndex })\n          setActiveDragId(null)\n        }}\n        onDragStart={(event) => {\n          setActiveDragId(event.active.id as string)\n        }}\n        sensors={sensors}\n      >\n        <div\n          className={`modular-dashboard ${isEditing ? 'editing' : ''}`}\n          style={{\n            display: 'flex',\n            flexWrap: 'wrap',\n            // Don't add gap here! We need to use padding on the widgets instead\n            // to make sure all rows have the same width always.\n          }}\n        >\n          {currentLayout?.length === 0 && (\n            <div className=\"modular-dashboard__empty\">\n              <p>\n                There are no widgets on your dashboard. You can add them from the \"Dashboard\" menu\n                located in the top bar.\n              </p>\n            </div>\n          )}\n          {currentLayout?.map((widget, _index) => (\n            <React.Fragment key={widget.item.id}>\n              <DraggableItem\n                disabled={!isEditing}\n                id={widget.item.id}\n                style={{\n                  width: `${WIDTH_TO_PERCENTAGE[widget.item.width]}%`,\n                  padding: '6px',\n                }}\n                width={widget.item.width}\n              >\n                <div className={`widget-wrapper ${isEditing ? 'widget-wrapper--editing' : ''}`}>\n                  <div aria-hidden={isEditing} className=\"widget-content\" inert={isEditing}>\n                    {widget.component}\n                  </div>\n                  {isEditing && (\n                    <div\n                      className=\"widget-wrapper__controls\"\n                      onPointerDown={(e) => e.stopPropagation()}\n                    >\n                      <WidgetWidthDropdown\n                        currentWidth={widget.item.width}\n                        maxWidth={widget.item.maxWidth}\n                        minWidth={widget.item.minWidth}\n                        onResize={(width) => resizeWidget(widget.item.id, width)}\n                      />\n                      <button\n                        className=\"widget-wrapper__delete-btn\"\n                        onClick={() => deleteWidget(widget.item.id)}\n                        type=\"button\"\n                      >\n                        <span className=\"sr-only\">\n                          {t('dashboard:deleteWidget', { id: widget.item.id })}\n                        </span>\n                        <XIcon />\n                      </button>\n                    </div>\n                  )}\n                </div>\n              </DraggableItem>\n            </React.Fragment>\n          ))}\n          <DragOverlay\n            className=\"drag-overlay\"\n            dropAnimation={{\n              duration: 100,\n            }}\n            // Uses custom modifier that only applies for pointer, not keyboard navigation.\n            modifiers={[snapCenterToCursorOnlyForPointer]}\n          >\n            {activeDragId\n              ? (() => {\n                  const draggedWidget = currentLayout?.find(\n                    (widget) => widget.item.id === activeDragId,\n                  )\n                  return draggedWidget ? (\n                    <div\n                      style={{\n                        transform: 'scale(0.25)',\n                      }}\n                    >\n                      <div\n                        className={`widget-wrapper ${isEditing ? 'widget-wrapper--editing' : ''}`}\n                      >\n                        <div className=\"widget-content\">{draggedWidget.component}</div>\n                      </div>\n                    </div>\n                  ) : null\n                })()\n              : null}\n          </DragOverlay>\n        </div>\n      </DndContext>\n      <DashboardStepNav\n        addWidget={addWidget}\n        cancel={cancel}\n        isEditing={isEditing}\n        resetLayout={resetLayout}\n        saveLayout={saveLayout}\n        setIsEditing={setIsEditing}\n        widgets={widgets}\n      />\n      {cancelModal}\n    </div>\n  )\n}\n\nfunction WidgetWidthDropdown({\n  currentWidth,\n  maxWidth,\n  minWidth,\n  onResize,\n}: {\n  currentWidth: WidgetWidth\n  maxWidth: WidgetWidth\n  minWidth: WidgetWidth\n  onResize: (width: WidgetWidth) => void\n}) {\n  // Filter options based on minWidth and maxWidth\n  const validOptions = useMemo(() => {\n    const minPercentage = WIDTH_TO_PERCENTAGE[minWidth]\n    const maxPercentage = WIDTH_TO_PERCENTAGE[maxWidth]\n\n    return Object.entries(WIDTH_TO_PERCENTAGE)\n      .map(([key, value]) => ({\n        width: key as WidgetWidth,\n        percentage: value,\n      }))\n      .filter((option) => option.percentage >= minPercentage && option.percentage <= maxPercentage)\n  }, [minWidth, maxWidth])\n\n  const isDisabled = validOptions.length <= 1\n\n  return (\n    <Popup\n      button={\n        <button\n          className=\"widget-wrapper__size-btn\"\n          disabled={isDisabled}\n          onPointerDown={(e) => e.stopPropagation()}\n          type=\"button\"\n        >\n          <span className=\"widget-wrapper__size-btn-text\">{currentWidth}</span>\n          <ChevronIcon className=\"widget-wrapper__size-btn-icon\" />\n        </button>\n      }\n      buttonType=\"custom\"\n      disabled={isDisabled}\n      render={({ close }) => (\n        <PopupList.ButtonGroup>\n          {validOptions.map((option) => {\n            const isSelected = option.width === currentWidth\n            return (\n              <PopupList.Button\n                active={isSelected}\n                key={option.width}\n                onClick={() => {\n                  onResize(option.width)\n                  close()\n                }}\n              >\n                <span className=\"widget-wrapper__size-btn-label\">{option.width}</span>\n                <span className=\"widget-wrapper__size-btn-percentage\">\n                  {option.percentage.toFixed(0)}%\n                </span>\n              </PopupList.Button>\n            )\n          })}\n        </PopupList.ButtonGroup>\n      )}\n      size=\"small\"\n      verticalAlign=\"bottom\"\n    />\n  )\n}\n\nfunction DraggableItem(props: {\n  children: React.ReactNode\n  disabled?: boolean\n  id: string\n  style?: React.CSSProperties\n  width: WidgetWidth\n}) {\n  const { attributes, isDragging, listeners, setNodeRef } = useDraggable({\n    id: props.id,\n    disabled: props.disabled,\n  })\n\n  const mergedStyles: React.CSSProperties = {\n    ...props.style,\n    opacity: isDragging ? 0.3 : 1,\n    position: 'relative',\n  }\n\n  // Only apply draggable attributes and listeners when not disabled\n  // to prevent disabling interactive elements inside the widget\n  const draggableProps = props.disabled ? {} : { ...listeners, ...attributes }\n\n  return (\n    <div className=\"widget\" data-slug={props.id} data-width={props.width} style={mergedStyles}>\n      <DroppableItem id={props.id} position=\"before\" />\n      <div\n        className=\"draggable\"\n        id={props.id}\n        ref={setNodeRef}\n        {...draggableProps}\n        style={{\n          width: '100%',\n          height: '100%',\n        }}\n      >\n        {props.children}\n      </div>\n      <DroppableItem id={props.id} position=\"after\" />\n    </div>\n  )\n}\n\nfunction DroppableItem({ id, position }: { id: string; position: 'after' | 'before' }) {\n  const { setNodeRef, isOver } = useDroppable({ id: `${id}-${position}`, data: { position } })\n\n  return (\n    <div\n      className=\"droppable-widget\"\n      data-testid={`${id}-${position}`}\n      ref={setNodeRef}\n      style={{\n        position: 'absolute',\n        left: position === 'before' ? -2 : 'auto',\n        right: position === 'after' ? -2 : 'auto',\n        top: 0,\n        bottom: 0,\n        borderRadius: '1000px',\n        width: '4px',\n        backgroundColor: isOver ? 'var(--theme-success-400)' : 'transparent',\n        marginBottom: '10px',\n        marginTop: '10px',\n        pointerEvents: 'none',\n        zIndex: 1000,\n      }}\n    />\n  )\n}\n"],"names":["c","_c","DndContext","DragOverlay","useDraggable","useDroppable","snapCenterToCursor","ChevronIcon","Popup","PopupList","useTranslation","XIcon","React","useMemo","useState","snapCenterToCursorOnlyForPointer","args","activatorEvent","transform","DashboardStepNav","useDashboardLayout","closestInXAxis","useDashboardSensors","WIDTH_TO_PERCENTAGE","small","medium","large","full","ModularDashboardClient","t0","$","clientLayout","initialLayout","widgets","t","addWidget","cancel","cancelModal","currentLayout","deleteWidget","isEditing","moveWidget","resetLayout","resizeWidget","saveLayout","setIsEditing","activeDragId","setActiveDragId","sensors","t1","t2","Symbol","for","t3","event","over","droppableId","id","i","lastIndexOf","slug","slice","position","active","moveFromIndex","findIndex","widget","item","moveToIndex","widget_0","t4","event_0","_jsxs","children","_jsx","autoScroll","enabled","threshold","x","y","collisionDetection","onDragCancel","onDragEnd","onDragStart","className","style","display","flexWrap","length","map","widget_1","_index","Fragment","DraggableItem","disabled","width","padding","inert","component","onPointerDown","_temp","WidgetWidthDropdown","currentWidth","maxWidth","minWidth","onResize","onClick","type","dropAnimation","duration","modifiers","draggedWidget","find","widget_2","e","stopPropagation","validOptions","minPercentage","maxPercentage","Object","entries","key","value","percentage","filter","option","isDisabled","button","buttonType","render","close","ButtonGroup","isSelected","Button","toFixed","size","verticalAlign","props","attributes","isDragging","listeners","setNodeRef","mergedStyles","opacity","draggableProps","DroppableItem","ref","height","data","isOver","t5","t6","t7","t8","left","right","top","bottom","borderRadius","backgroundColor","marginBottom","marginTop","pointerEvents","zIndex"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 7412, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Dashboard/Default/ModularDashboard/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Dashboard/Default/ModularDashboard/index.tsx"],"sourcesContent":["import type { TFunction } from '@payloadcms/translations'\nimport type {\n  BasePayload,\n  ClientWidget,\n  DashboardConfig,\n  PayloadRequest,\n  TypedUser,\n  Widget,\n  WidgetInstance,\n  WidgetServerProps,\n} from 'payload'\n\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport React from 'react'\n\nimport type { DashboardViewServerProps } from '../index.js'\nimport type { WidgetInstanceClient, WidgetItem } from './index.client.js'\n\nimport { getPreferences } from '../../../../utilities/getPreferences.js'\nimport { ModularDashboardClient } from './index.client.js'\nimport './index.scss'\n\ntype ServerLayout = WidgetInstanceClient[]\n\nexport async function ModularDashboard(props: DashboardViewServerProps) {\n  const { defaultLayout = [], widgets = [] } = props.payload.config.admin.dashboard || {}\n  const { importMap } = props.payload\n  const { user } = props\n  const { req } = props.initPageResult\n  const { i18n } = req\n\n  const layout =\n    (await getItemsFromPreferences(props.payload, user)) ??\n    (await getItemsFromConfig(defaultLayout, req, widgets))\n\n  const serverLayout: ServerLayout = layout.map((layoutItem) => {\n    const widgetSlug = layoutItem.id.slice(0, layoutItem.id.lastIndexOf('-'))\n    return {\n      component: RenderServerComponent({\n        Component: widgets.find((widget) => widget.slug === widgetSlug)?.ComponentPath,\n        importMap,\n        serverProps: {\n          req,\n          widgetSlug,\n          // TODO: widgets will support state in the future\n          // widgetData: layoutItem.data,\n        } satisfies WidgetServerProps,\n      }),\n      item: layoutItem,\n    }\n  })\n\n  // Resolve function labels to static labels for client components\n  const clientWidgets: ClientWidget[] = widgets.map((widget) => {\n    const { ComponentPath: _, label, ...rest } = widget\n    return {\n      ...rest,\n      label: typeof label === 'function' ? label({ i18n, t: i18n.t as TFunction }) : label,\n    }\n  })\n\n  return (\n    <div>\n      <ModularDashboardClient clientLayout={serverLayout} widgets={clientWidgets} />\n    </div>\n  )\n}\n\nasync function getItemsFromPreferences(\n  payload: BasePayload,\n  user: TypedUser,\n): Promise<null | WidgetItem[]> {\n  const savedPreferences = await getPreferences(\n    'dashboard-layout',\n    payload,\n    user.id,\n    user.collection,\n  )\n  if (\n    !savedPreferences?.value ||\n    typeof savedPreferences.value !== 'object' ||\n    !('layouts' in savedPreferences.value)\n  ) {\n    return null\n  }\n  return savedPreferences.value.layouts as null | WidgetItem[]\n}\n\nasync function getItemsFromConfig(\n  defaultLayout: NonNullable<DashboardConfig['defaultLayout']>,\n  req: PayloadRequest,\n  widgets: Widget[],\n): Promise<WidgetItem[]> {\n  // Handle function format\n  let widgetInstances: WidgetInstance[]\n  if (typeof defaultLayout === 'function') {\n    widgetInstances = await defaultLayout({ req })\n  } else {\n    widgetInstances = defaultLayout\n  }\n\n  return widgetInstances.map((widgetInstance, index) => {\n    const widget = widgets.find((widget) => widget.slug === widgetInstance.widgetSlug)\n    return {\n      id: `${widgetInstance.widgetSlug}-${index}`,\n      maxWidth: widget?.maxWidth ?? 'full',\n      minWidth: widget?.minWidth ?? 'x-small',\n      width: widgetInstance.width || 'x-small',\n    }\n  })\n}\n"],"names":["RenderServerComponent","React","getPreferences","ModularDashboardClient","ModularDashboard","props","defaultLayout","widgets","payload","config","admin","dashboard","importMap","user","req","initPageResult","i18n","layout","getItemsFromPreferences","getItemsFromConfig","serverLayout","map","layoutItem","widgetSlug","id","slice","lastIndexOf","component","Component","find","widget","slug","ComponentPath","serverProps","item","clientWidgets","_","label","rest","t","_jsx","clientLayout","savedPreferences","collection","value","layouts","widgetInstances","widgetInstance","index","maxWidth","minWidth","width"],"mappings":";;;;;AAYA,SAASA,qBAAqB,QAAQ;AACtC,OAAOC,KAAA,MAAW;AAKlB,SAASC,cAAc,QAAQ;AAC/B,SAASC,sBAAsB,QAAQ;;;;;;;;;;AAKhC,eAAeC,iBAAiBC,KAA+B;IACpE,MAAM,EAAEC,aAAA,GAAgB,EAAE,EAAEC,OAAA,GAAU,EAAA,EAAI,GAAGF,KAAA,CAAMG,OAAO,CAACC,MAAM,CAACC,KAAK,CAACC,SAAS,IAAI,CAAC;IACtF,MAAM,EAAEC,SAAAA,EAAW,GAAGP,KAAA,CAAMG,OAAO;IACnC,MAAM,EAAEK,IAAAA,EAAM,GAAGR,KAAA;IACjB,MAAM,EAAES,GAAAA,EAAK,GAAGT,KAAA,CAAMU,cAAc;IACpC,MAAM,EAAEC,IAAAA,EAAM,GAAGF,GAAA;IAEjB,MAAMG,MAAA,GACJ,MAAOC,uBAAA,CAAwBb,KAAA,CAAMG,OAAO,EAAEK,IAAA,KAC7C,MAAMM,kBAAA,CAAmBb,aAAA,EAAeQ,GAAA,EAAKP,OAAA;IAEhD,MAAMa,YAAA,GAA6BH,MAAA,CAAOI,GAAG,EAAEC,UAAA;QAC7C,MAAMC,UAAA,GAAaD,UAAA,CAAWE,EAAE,CAACC,KAAK,CAAC,GAAGH,UAAA,CAAWE,EAAE,CAACE,WAAW,CAAC;QACpE,OAAO;YACLC,SAAA,MAAW3B,iNAAA,EAAsB;gBAC/B4B,SAAA,EAAWrB,OAAA,CAAQsB,IAAI,EAAEC,MAAA,GAAWA,MAAA,CAAOC,IAAI,KAAKR,UAAA,GAAaS,aAAA;gBACjEpB,SAAA;gBACAqB,WAAA,EAAa;oBACXnB,GAAA;oBACAS;gBAGF;YACF;YACAW,IAAA,EAAMZ;QACR;IACF;IAEA,iEAAA;IACA,MAAMa,aAAA,GAAgC5B,OAAA,CAAQc,GAAG,EAAES,MAAA;QACjD,MAAM,EAAEE,aAAA,EAAeI,CAAC,EAAEC,KAAK,EAAE,GAAGC,MAAM,GAAGR,MAAA;QAC7C,OAAO;YACL,GAAGQ,IAAI;YACPD,KAAA,EAAO,OAAOA,KAAA,KAAU,aAAaA,KAAA,CAAM;gBAAErB,IAAA;gBAAMuB,CAAA,EAAGvB,IAAA,CAAKuB,CAAAA;YAAe,KAAKF;QACjF;IACF;IAEA,OAAA,WAAA,OACEG,8NAAA,EAAC,OAAA;kBACC,WAAA,OAAAA,8NAAA,EAACrC,8OAAA,EAAA;YAAuBsC,YAAA,EAAcrB,YAAA;YAAcb,OAAA,EAAS4B;;;AAGnE;AAEA,eAAejB,wBACbV,OAAoB,EACpBK,IAAe;IAEf,MAAM6B,gBAAA,GAAmB,UAAMxC,6LAAA,EAC7B,oBACAM,OAAA,EACAK,IAAA,CAAKW,EAAE,EACPX,IAAA,CAAK8B,UAAU;IAEjB,IACE,CAACD,gBAAA,EAAkBE,KAAA,IACnB,OAAOF,gBAAA,CAAiBE,KAAK,KAAK,YAClC,CAAA,CAAE,aAAaF,gBAAA,CAAiBE,KAAK,CAAD,EACpC;QACA,OAAO;IACT;IACA,OAAOF,gBAAA,CAAiBE,KAAK,CAACC,OAAO;AACvC;AAEA,eAAe1B,mBACbb,aAA4D,EAC5DQ,GAAmB,EACnBP,OAAiB;IAEjB,yBAAA;IACA,IAAIuC,eAAA;IACJ,IAAI,OAAOxC,aAAA,KAAkB,YAAY;QACvCwC,eAAA,GAAkB,MAAMxC,aAAA,CAAc;YAAEQ;QAAI;IAC9C,OAAO;QACLgC,eAAA,GAAkBxC,aAAA;IACpB;IAEA,OAAOwC,eAAA,CAAgBzB,GAAG,CAAC,CAAC0B,cAAA,EAAgBC,KAAA;QAC1C,MAAMlB,MAAA,GAASvB,OAAA,CAAQsB,IAAI,EAAEC,MAAA,GAAWA,MAAA,CAAOC,IAAI,KAAKgB,cAAA,CAAexB,UAAU;QACjF,OAAO;YACLC,EAAA,EAAI,GAAGuB,cAAA,CAAexB,UAAU,CAAA,CAAA,EAAIyB,KAAA,EAAO;YAC3CC,QAAA,EAAUnB,MAAA,EAAQmB,QAAA,IAAY;YAC9BC,QAAA,EAAUpB,MAAA,EAAQoB,QAAA,IAAY;YAC9BC,KAAA,EAAOJ,cAAA,CAAeI,KAAK,IAAI;QACjC;IACF;AACF","ignoreList":[]}},
    {"offset": {"line": 7503, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Dashboard/Default/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Dashboard/Default/index.tsx"],"sourcesContent":["import type { groupNavItems } from '@payloadcms/ui/shared'\nimport type { AdminViewServerPropsOnly, ClientUser, Locale, ServerProps } from 'payload'\n\nimport { Gutter } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport React from 'react'\n\nimport { ModularDashboard } from './ModularDashboard/index.js'\n\nconst baseClass = 'dashboard'\n\nexport type DashboardViewClientProps = {\n  locale: Locale\n}\n\n// Neither DashboardViewClientProps, DashboardViewServerPropsOnly, nor\n// DashboardViewServerProps make much sense. They were created\n// before the modular dashboard existed, and they are tightly coupled to\n// the default layout of collection and global cards. All of their values\n// could have been derived from the req object, and the same likely applies\n// to other views. These types remain only for backward compatibility.\n// It is recommended to use the modular dashboard widgets, which have props\n// that are more agnostic to their content.\n\nexport type DashboardViewServerPropsOnly = {\n  globalData: Array<{\n    data: { _isLocked: boolean; _lastEditedAt: string; _userEditing: ClientUser | number | string }\n    lockDuration?: number\n    slug: string\n  }>\n  /**\n   * @deprecated\n   * This prop is deprecated and will be removed in the next major version.\n   * Components now import their own `Link` directly from `next/link`.\n   */\n  Link?: React.ComponentType\n  navGroups?: ReturnType<typeof groupNavItems>\n} & AdminViewServerPropsOnly\n\nexport type DashboardViewServerProps = DashboardViewClientProps & DashboardViewServerPropsOnly\n\nexport function DefaultDashboard(props: DashboardViewServerProps) {\n  const { i18n, locale, params, payload, permissions, searchParams, user } = props\n  const { afterDashboard, beforeDashboard } = payload.config.admin.components\n\n  return (\n    <Gutter className={baseClass}>\n      {beforeDashboard &&\n        RenderServerComponent({\n          Component: beforeDashboard,\n          importMap: payload.importMap,\n          serverProps: {\n            i18n,\n            locale,\n            params,\n            payload,\n            permissions,\n            searchParams,\n            user,\n          } satisfies ServerProps,\n        })}\n      <ModularDashboard {...props} />\n      {afterDashboard &&\n        RenderServerComponent({\n          Component: afterDashboard,\n          importMap: payload.importMap,\n          serverProps: {\n            i18n,\n            locale,\n            params,\n            payload,\n            permissions,\n            searchParams,\n            user,\n          } satisfies ServerProps,\n        })}\n    </Gutter>\n  )\n}\n"],"names":["Gutter","RenderServerComponent","React","ModularDashboard","baseClass","DefaultDashboard","props","i18n","locale","params","payload","permissions","searchParams","user","afterDashboard","beforeDashboard","config","admin","components","_jsxs","className","Component","importMap","serverProps","_jsx"],"mappings":";;;;;AAGA,SAASA,MAAM,QAAQ;AACvB,SAASC,qBAAqB,QAAQ;AACtC,OAAOC,KAAA,MAAW;AAElB,SAASC,gBAAgB,QAAQ;;;;;;;;;;;AAEjC,MAAMC,SAAA,GAAY;AAgCX,SAASC,iBAAiBC,KAA+B;IAC9D,MAAM,EAAEC,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAAEC,OAAO,EAAEC,WAAW,EAAEC,YAAY,EAAEC,IAAAA,EAAM,GAAGP,KAAA;IAC3E,MAAM,EAAEQ,cAAc,EAAEC,eAAAA,EAAiB,GAAGL,OAAA,CAAQM,MAAM,CAACC,KAAK,CAACC,UAAU;IAE3E,OAAA,WAAA,OACEC,+NAAA,EAACnB,kLAAA,EAAA;QAAOoB,SAAA,EAAWhB,SAAA;;YAChBW,eAAA,QACCd,iNAAA,EAAsB;gBACpBoB,SAAA,EAAWN,eAAA;gBACXO,SAAA,EAAWZ,OAAA,CAAQY,SAAS;gBAC5BC,WAAA,EAAa;oBACXhB,IAAA;oBACAC,MAAA;oBACAC,MAAA;oBACAC,OAAA;oBACAC,WAAA;oBACAC,YAAA;oBACAC;gBACF;YACF;Y,W,OACFW,8NAAA,EAACrB,8NAAA,EAAA;gBAAkB,GAAGG,KAAAA;;YACrBQ,cAAA,QACCb,iNAAA,EAAsB;gBACpBoB,SAAA,EAAWP,cAAA;gBACXQ,SAAA,EAAWZ,OAAA,CAAQY,SAAS;gBAC5BC,WAAA,EAAa;oBACXhB,IAAA;oBACAC,MAAA;oBACAC,MAAA;oBACAC,OAAA;oBACAC,WAAA;oBACAC,YAAA;oBACAC;gBACF;YACF;SAAA;;AAGR","ignoreList":[]}},
    {"offset": {"line": 7568, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Dashboard/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Dashboard/index.tsx"],"sourcesContent":["import type { AdminViewServerProps } from 'payload'\n\nimport { HydrateAuthProvider, SetStepNav } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { getGlobalData, getNavGroups } from '@payloadcms/ui/shared'\nimport React, { Fragment } from 'react'\n\nimport type { DashboardViewClientProps, DashboardViewServerPropsOnly } from './Default/index.js'\n\nimport { DefaultDashboard } from './Default/index.js'\n\nexport async function DashboardView(props: AdminViewServerProps) {\n  const {\n    locale,\n    permissions,\n    req: {\n      i18n,\n      payload: { config },\n      payload,\n      user,\n    },\n    req,\n    visibleEntities,\n  } = props.initPageResult\n\n  const globalData = await getGlobalData(req)\n  const navGroups = getNavGroups(permissions, visibleEntities, config, i18n)\n\n  return (\n    <Fragment>\n      <HydrateAuthProvider permissions={permissions} />\n      <SetStepNav nav={[]} />\n      {RenderServerComponent({\n        clientProps: {\n          locale,\n        } satisfies DashboardViewClientProps,\n        Component: config.admin?.components?.views?.dashboard?.Component,\n        Fallback: DefaultDashboard,\n        importMap: payload.importMap,\n        serverProps: {\n          ...props,\n          globalData,\n          i18n,\n          locale,\n          navGroups,\n          payload,\n          permissions,\n          user,\n          visibleEntities,\n        } satisfies DashboardViewServerPropsOnly,\n      })}\n    </Fragment>\n  )\n}\n"],"names":["HydrateAuthProvider","SetStepNav","RenderServerComponent","getGlobalData","getNavGroups","React","Fragment","DefaultDashboard","DashboardView","props","locale","permissions","req","i18n","payload","config","user","visibleEntities","initPageResult","globalData","navGroups","_jsxs","_jsx","nav","clientProps","Component","admin","components","views","dashboard","Fallback","importMap","serverProps"],"mappings":";;;;;AAEA,SAASA,mBAAmB,EAAEC,UAAU,QAAQ;AAChD,SAASC,qBAAqB,QAAQ;AACtC,SAASC,aAAa,EAAEC,YAAY,QAAQ;AAC5C,OAAOC,KAAA,IAASC,QAAQ,QAAQ;AAIhC,SAASC,gBAAgB,QAAQ;;;;;;;;;;;;;AAE1B,eAAeC,cAAcC,KAA2B;IAC7D,MAAM,EACJC,MAAM,EACNC,WAAW,EACXC,GAAA,EAAK,EACHC,IAAI,EACJC,OAAA,EAAS,EAAEC,MAAAA,EAAQ,EACnBD,OAAO,EACPE,IAAAA,EACD,EACDJ,GAAG,EACHK,eAAAA,EACD,GAAGR,KAAA,CAAMS,cAAc;IAExB,MAAMC,UAAA,GAAa,UAAMhB,yMAAA,EAAcS,GAAA;IACvC,MAAMQ,SAAA,OAAYhB,wMAAA,EAAaO,WAAA,EAAaM,eAAA,EAAiBF,MAAA,EAAQF,IAAA;IAErE,OAAA,WAAA,OACEQ,+NAAA,EAACf,iNAAA,EAAA;;8BACCgB,8NAAA,EAACtB,+LAAA,EAAA;gBAAoBW,WAAA,EAAaA;;8BAClCW,8NAAA,EAACrB,sLAAA,EAAA;gBAAWsB,GAAA,EAAK,EAAA;;gBAChBrB,iNAAA,EAAsB;gBACrBsB,WAAA,EAAa;oBACXd;gBACF;gBACAe,SAAA,EAAWV,MAAA,CAAOW,KAAK,EAAEC,UAAA,EAAYC,KAAA,EAAOC,SAAA,EAAWJ,SAAA;gBACvDK,QAAA,EAAUvB,0MAAA;gBACVwB,SAAA,EAAWjB,OAAA,CAAQiB,SAAS;gBAC5BC,WAAA,EAAa;oBACX,GAAGvB,KAAK;oBACRU,UAAA;oBACAN,IAAA;oBACAH,MAAA;oBACAU,SAAA;oBACAN,OAAA;oBACAH,WAAA;oBACAK,IAAA;oBACAC;gBACF;YACF;SAAA;;AAGN","ignoreList":[]}},
    {"offset": {"line": 7631, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Document/renderDocumentSlots.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Document/renderDocumentSlots.tsx"],"sourcesContent":["import type {\n  BeforeDocumentControlsServerPropsOnly,\n  DocumentSlots,\n  EditMenuItemsServerPropsOnly,\n  PayloadRequest,\n  PreviewButtonServerPropsOnly,\n  PublishButtonServerPropsOnly,\n  SanitizedCollectionConfig,\n  SanitizedDocumentPermissions,\n  SanitizedGlobalConfig,\n  SaveButtonServerPropsOnly,\n  SaveDraftButtonServerPropsOnly,\n  ServerFunction,\n  ServerProps,\n  StaticDescription,\n  UnpublishButtonServerPropsOnly,\n  ViewDescriptionClientProps,\n  ViewDescriptionServerPropsOnly,\n} from 'payload'\n\nimport { ViewDescription } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { hasDraftsEnabled } from 'payload/shared'\n\nimport { getDocumentPermissions } from './getDocumentPermissions.js'\n\nexport const renderDocumentSlots: (args: {\n  collectionConfig?: SanitizedCollectionConfig\n  globalConfig?: SanitizedGlobalConfig\n  hasSavePermission: boolean\n  id?: number | string\n  permissions: SanitizedDocumentPermissions\n  req: PayloadRequest\n}) => DocumentSlots = (args) => {\n  const { id, collectionConfig, globalConfig, hasSavePermission, req } = args\n\n  const components: DocumentSlots = {} as DocumentSlots\n\n  const unsavedDraftWithValidations = undefined\n\n  const isPreviewEnabled = collectionConfig?.admin?.preview || globalConfig?.admin?.preview\n\n  const serverProps: ServerProps = {\n    id,\n    i18n: req.i18n,\n    payload: req.payload,\n    user: req.user,\n    // TODO: Add remaining serverProps\n  }\n\n  const BeforeDocumentControls =\n    collectionConfig?.admin?.components?.edit?.beforeDocumentControls ||\n    globalConfig?.admin?.components?.elements?.beforeDocumentControls\n\n  if (BeforeDocumentControls) {\n    components.BeforeDocumentControls = RenderServerComponent({\n      Component: BeforeDocumentControls,\n      importMap: req.payload.importMap,\n      serverProps: serverProps satisfies BeforeDocumentControlsServerPropsOnly,\n    })\n  }\n\n  const EditMenuItems = collectionConfig?.admin?.components?.edit?.editMenuItems\n\n  if (EditMenuItems) {\n    components.EditMenuItems = RenderServerComponent({\n      Component: EditMenuItems,\n      importMap: req.payload.importMap,\n      serverProps: serverProps satisfies EditMenuItemsServerPropsOnly,\n    })\n  }\n\n  const CustomPreviewButton =\n    collectionConfig?.admin?.components?.edit?.PreviewButton ||\n    globalConfig?.admin?.components?.elements?.PreviewButton\n\n  if (isPreviewEnabled && CustomPreviewButton) {\n    components.PreviewButton = RenderServerComponent({\n      Component: CustomPreviewButton,\n      importMap: req.payload.importMap,\n      serverProps: serverProps satisfies PreviewButtonServerPropsOnly,\n    })\n  }\n\n  const LivePreview =\n    collectionConfig?.admin?.components?.views?.edit?.livePreview ||\n    globalConfig?.admin?.components?.views?.edit?.livePreview\n\n  if (LivePreview?.Component) {\n    components.LivePreview = RenderServerComponent({\n      Component: LivePreview.Component,\n      importMap: req.payload.importMap,\n      serverProps,\n    })\n  }\n\n  const descriptionFromConfig =\n    collectionConfig?.admin?.description || globalConfig?.admin?.description\n\n  const staticDescription: StaticDescription =\n    typeof descriptionFromConfig === 'function'\n      ? descriptionFromConfig({ t: req.i18n.t })\n      : descriptionFromConfig\n\n  const CustomDescription =\n    collectionConfig?.admin?.components?.Description ||\n    globalConfig?.admin?.components?.elements?.Description\n\n  const hasDescription = CustomDescription || staticDescription\n\n  if (hasDescription) {\n    components.Description = RenderServerComponent({\n      clientProps: {\n        collectionSlug: collectionConfig?.slug,\n        description: staticDescription,\n      } satisfies ViewDescriptionClientProps,\n      Component: CustomDescription,\n      Fallback: ViewDescription,\n      importMap: req.payload.importMap,\n      serverProps: serverProps satisfies ViewDescriptionServerPropsOnly,\n    })\n  }\n\n  if (collectionConfig?.versions?.drafts || globalConfig?.versions?.drafts) {\n    const CustomStatus =\n      collectionConfig?.admin?.components?.edit?.Status ||\n      globalConfig?.admin?.components?.elements?.Status\n\n    if (CustomStatus) {\n      components.Status = RenderServerComponent({\n        Component: CustomStatus,\n        importMap: req.payload.importMap,\n        serverProps,\n      })\n    }\n  }\n\n  if (hasSavePermission) {\n    if (hasDraftsEnabled(collectionConfig || globalConfig)) {\n      const CustomPublishButton =\n        collectionConfig?.admin?.components?.edit?.PublishButton ||\n        globalConfig?.admin?.components?.elements?.PublishButton\n\n      if (CustomPublishButton) {\n        components.PublishButton = RenderServerComponent({\n          Component: CustomPublishButton,\n          importMap: req.payload.importMap,\n          serverProps: serverProps satisfies PublishButtonServerPropsOnly,\n        })\n      }\n\n      const CustomUnpublishButton =\n        collectionConfig?.admin?.components?.edit?.UnpublishButton ||\n        globalConfig?.admin?.components?.elements?.UnpublishButton\n\n      if (CustomUnpublishButton) {\n        components.UnpublishButton = RenderServerComponent({\n          Component: CustomUnpublishButton,\n          importMap: req.payload.importMap,\n          serverProps: serverProps satisfies UnpublishButtonServerPropsOnly,\n        })\n      }\n\n      const CustomSaveDraftButton =\n        collectionConfig?.admin?.components?.edit?.SaveDraftButton ||\n        globalConfig?.admin?.components?.elements?.SaveDraftButton\n\n      const draftsEnabled = hasDraftsEnabled(collectionConfig || globalConfig)\n\n      if ((draftsEnabled || unsavedDraftWithValidations) && CustomSaveDraftButton) {\n        components.SaveDraftButton = RenderServerComponent({\n          Component: CustomSaveDraftButton,\n          importMap: req.payload.importMap,\n          serverProps: serverProps satisfies SaveDraftButtonServerPropsOnly,\n        })\n      }\n    } else {\n      const CustomSaveButton =\n        collectionConfig?.admin?.components?.edit?.SaveButton ||\n        globalConfig?.admin?.components?.elements?.SaveButton\n\n      if (CustomSaveButton) {\n        components.SaveButton = RenderServerComponent({\n          Component: CustomSaveButton,\n          importMap: req.payload.importMap,\n          serverProps: serverProps satisfies SaveButtonServerPropsOnly,\n        })\n      }\n    }\n  }\n\n  if (collectionConfig?.upload && collectionConfig?.admin?.components?.edit?.Upload) {\n    components.Upload = RenderServerComponent({\n      Component: collectionConfig.admin.components.edit.Upload,\n      importMap: req.payload.importMap,\n      serverProps,\n    })\n  }\n\n  if (collectionConfig?.upload && collectionConfig.upload.admin?.components?.controls) {\n    components.UploadControls = RenderServerComponent({\n      Component: collectionConfig.upload.admin.components.controls,\n      importMap: req.payload.importMap,\n      serverProps,\n    })\n  }\n\n  return components\n}\n\nexport const renderDocumentSlotsHandler: ServerFunction<{\n  collectionSlug: string\n  id?: number | string\n}> = async (args) => {\n  const { id, collectionSlug, req } = args\n\n  const collectionConfig = req.payload.collections[collectionSlug]?.config\n\n  if (!collectionConfig) {\n    throw new Error(req.t('error:incorrectCollection'))\n  }\n\n  const { docPermissions, hasSavePermission } = await getDocumentPermissions({\n    collectionConfig,\n    data: {},\n    req,\n  })\n\n  return renderDocumentSlots({\n    id,\n    collectionConfig,\n    hasSavePermission,\n    permissions: docPermissions,\n    req,\n  })\n}\n"],"names":["ViewDescription","RenderServerComponent","hasDraftsEnabled","getDocumentPermissions","renderDocumentSlots","args","id","collectionConfig","globalConfig","hasSavePermission","req","components","unsavedDraftWithValidations","undefined","isPreviewEnabled","admin","preview","serverProps","i18n","payload","user","BeforeDocumentControls","edit","beforeDocumentControls","elements","Component","importMap","EditMenuItems","editMenuItems","CustomPreviewButton","PreviewButton","LivePreview","views","livePreview","descriptionFromConfig","description","staticDescription","t","CustomDescription","Description","hasDescription","clientProps","collectionSlug","slug","Fallback","versions","drafts","CustomStatus","Status","CustomPublishButton","PublishButton","CustomUnpublishButton","UnpublishButton","CustomSaveDraftButton","SaveDraftButton","draftsEnabled","CustomSaveButton","SaveButton","upload","Upload","controls","UploadControls","renderDocumentSlotsHandler","collections","config","Error","docPermissions","data","permissions"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 7802, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Document/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Document/index.tsx"],"sourcesContent":["import type {\n  AdminViewServerProps,\n  CollectionPreferences,\n  Data,\n  DocumentViewClientProps,\n  DocumentViewServerProps,\n  DocumentViewServerPropsOnly,\n  EditViewComponent,\n  PayloadComponent,\n  RenderDocumentVersionsProperties,\n} from 'payload'\n\nimport {\n  DocumentInfoProvider,\n  EditDepthProvider,\n  HydrateAuthProvider,\n  LivePreviewProvider,\n} from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { handleLivePreview, handlePreview } from '@payloadcms/ui/rsc'\nimport { isEditing as getIsEditing } from '@payloadcms/ui/shared'\nimport { buildFormState } from '@payloadcms/ui/utilities/buildFormState'\nimport { notFound, redirect } from 'next/navigation.js'\nimport { isolateObjectProperty, logError } from 'payload'\nimport { formatAdminURL, hasAutosaveEnabled, hasDraftsEnabled } from 'payload/shared'\nimport React from 'react'\n\nimport type { GenerateEditViewMetadata } from './getMetaBySegment.js'\n\nimport { DocumentHeader } from '../../elements/DocumentHeader/index.js'\nimport { getPreferences } from '../../utilities/getPreferences.js'\nimport { NotFoundView } from '../NotFound/index.js'\nimport { getDocPreferences } from './getDocPreferences.js'\nimport { getDocumentData } from './getDocumentData.js'\nimport { getDocumentPermissions } from './getDocumentPermissions.js'\nimport { getDocumentView } from './getDocumentView.js'\nimport { getIsLocked } from './getIsLocked.js'\nimport { getMetaBySegment } from './getMetaBySegment.js'\nimport { getVersions } from './getVersions.js'\nimport { renderDocumentSlots } from './renderDocumentSlots.js'\n\nexport const generateMetadata: GenerateEditViewMetadata = async (args) => getMetaBySegment(args)\n\nexport type ViewToRender =\n  | EditViewComponent\n  | PayloadComponent<DocumentViewServerProps>\n  | React.FC\n  | React.FC<DocumentViewClientProps>\n\n/**\n * This function is responsible for rendering\n * an Edit Document view on the server for both:\n *  - default document edit views\n *  - on-demand edit views within drawers\n */\nexport const renderDocument = async ({\n  disableActions,\n  documentSubViewType,\n  drawerSlug,\n  importMap,\n  initialData,\n  initPageResult,\n  overrideEntityVisibility,\n  params,\n  redirectAfterCreate,\n  redirectAfterDelete,\n  redirectAfterDuplicate,\n  redirectAfterRestore,\n  searchParams,\n  versions,\n  viewType,\n}: {\n  drawerSlug?: string\n  overrideEntityVisibility?: boolean\n  readonly redirectAfterCreate?: boolean\n  readonly redirectAfterDelete?: boolean\n  readonly redirectAfterDuplicate?: boolean\n  readonly redirectAfterRestore?: boolean\n  versions?: RenderDocumentVersionsProperties\n} & AdminViewServerProps): Promise<{\n  data: Data\n  Document: React.ReactNode\n}> => {\n  const {\n    collectionConfig,\n    docID: idFromArgs,\n    globalConfig,\n    locale,\n    permissions,\n    req,\n    req: {\n      i18n,\n      payload,\n      payload: {\n        config,\n        config: {\n          routes: { admin: adminRoute, api: apiRoute },\n          serverURL,\n        },\n      },\n      user,\n    },\n    visibleEntities,\n  } = initPageResult\n\n  const segments = Array.isArray(params?.segments) ? params.segments : []\n  const collectionSlug = collectionConfig?.slug || undefined\n  const globalSlug = globalConfig?.slug || undefined\n  let isEditing = getIsEditing({ id: idFromArgs, collectionSlug, globalSlug })\n\n  // Fetch the doc required for the view\n  let doc =\n    !idFromArgs && !globalSlug\n      ? initialData || null\n      : await getDocumentData({\n          id: idFromArgs,\n          collectionSlug,\n          globalSlug,\n          locale,\n          payload,\n          req,\n          segments,\n          user,\n        })\n\n  if (isEditing && !doc) {\n    // If it's a collection document that doesn't exist, redirect to collection list\n    if (collectionSlug) {\n      const redirectURL = formatAdminURL({\n        adminRoute,\n        path: `/collections/${collectionSlug}?notFound=${encodeURIComponent(idFromArgs)}`,\n      })\n      redirect(redirectURL)\n    } else {\n      // For globals or other cases, keep the 404 behavior\n      throw new Error('not-found')\n    }\n  }\n\n  const isTrashedDoc = Boolean(doc && 'deletedAt' in doc && typeof doc?.deletedAt === 'string')\n\n  // CRITICAL FIX FOR TRANSACTION RACE CONDITION:\n  // When running parallel operations with Promise.all, if they share the same req object\n  // and one operation calls initTransaction() which MUTATES req.transactionID, that mutation\n  // is visible to all parallel operations. This causes:\n  // 1. Operation A (e.g., getDocumentPermissions  docAccessOperation) calls initTransaction()\n  //    which sets req.transactionID = Promise, then resolves it to a UUID\n  // 2. Operation B (e.g., getIsLocked) running in parallel receives the SAME req with the mutated transactionID\n  // 3. Operation A (does not even know that Operation B even exists and is stil using the transactionID) commits/ends its transaction\n  // 4. Operation B tries to use the now-expired session  MongoExpiredSessionError!\n  //\n  // Solution: Use isolateObjectProperty to create a Proxy that isolates the 'transactionID' property.\n  // This allows each operation to have its own transactionID without affecting the parent req.\n  // If parent req already has a transaction, preserve it (don't isolate), since this\n  // issue only arises when one of the operations calls initTransaction() themselves -\n  // because then, that operation will also try to commit/end the transaction itself.\n\n  // If the transactionID is already set, the parallel operations will not try to\n  // commit/end the transaction themselves, so we don't need to isolate the\n  // transactionID property.\n  const reqForPermissions = req.transactionID ? req : isolateObjectProperty(req, 'transactionID')\n  const reqForLockCheck = req.transactionID ? req : isolateObjectProperty(req, 'transactionID')\n\n  const [\n    docPreferences,\n    { docPermissions, hasPublishPermission, hasSavePermission },\n    { currentEditor, isLocked, lastUpdateTime },\n    entityPreferences,\n  ] = await Promise.all([\n    // Get document preferences\n    getDocPreferences({\n      id: idFromArgs,\n      collectionSlug,\n      globalSlug,\n      payload,\n      user,\n    }),\n\n    // Get permissions - isolated transactionID prevents cross-contamination\n    getDocumentPermissions({\n      id: idFromArgs,\n      collectionConfig,\n      data: doc,\n      globalConfig,\n      req: reqForPermissions,\n    }),\n\n    // Fetch document lock state - isolated transactionID prevents cross-contamination\n    getIsLocked({\n      id: idFromArgs,\n      collectionConfig,\n      globalConfig,\n      isEditing,\n      req: reqForLockCheck,\n    }),\n\n    // get entity preferences\n    getPreferences<CollectionPreferences>(\n      collectionSlug ? `collection-${collectionSlug}` : `global-${globalSlug}`,\n      payload,\n      req.user.id,\n      req.user.collection,\n    ),\n  ])\n\n  const operation = (collectionSlug && idFromArgs) || globalSlug ? 'update' : 'create'\n\n  const [\n    { hasPublishedDoc, mostRecentVersionIsAutosaved, unpublishedVersionCount, versionCount },\n    { state: formState },\n  ] = await Promise.all([\n    getVersions({\n      id: idFromArgs,\n      collectionConfig,\n      doc,\n      docPermissions,\n      globalConfig,\n      locale: locale?.code,\n      payload,\n      user,\n    }),\n    buildFormState({\n      id: idFromArgs,\n      collectionSlug,\n      data: doc,\n      docPermissions,\n      docPreferences,\n      fallbackLocale: false,\n      globalSlug,\n      locale: locale?.code,\n      operation,\n      readOnly: isTrashedDoc || isLocked,\n      renderAllFields: true,\n      req,\n      schemaPath: collectionSlug || globalSlug,\n      skipValidation: true,\n    }),\n  ])\n\n  const documentViewServerProps: DocumentViewServerPropsOnly = {\n    doc,\n    hasPublishedDoc,\n    i18n,\n    initPageResult,\n    locale,\n    params,\n    payload,\n    permissions,\n    routeSegments: segments,\n    searchParams,\n    user,\n    versions,\n  }\n\n  if (\n    !overrideEntityVisibility &&\n    ((collectionSlug &&\n      !visibleEntities?.collections?.find((visibleSlug) => visibleSlug === collectionSlug)) ||\n      (globalSlug && !visibleEntities?.globals?.find((visibleSlug) => visibleSlug === globalSlug)))\n  ) {\n    throw new Error('not-found')\n  }\n\n  const formattedParams = new URLSearchParams()\n\n  if (hasDraftsEnabled(collectionConfig || globalConfig)) {\n    formattedParams.append('draft', 'true')\n  }\n\n  if (locale?.code) {\n    formattedParams.append('locale', locale.code)\n  }\n\n  const apiQueryParams = `?${formattedParams.toString()}`\n\n  const apiURL = formatAdminURL({\n    apiRoute,\n    path: collectionSlug\n      ? `/${collectionSlug}/${idFromArgs}${apiQueryParams}`\n      : globalSlug\n        ? `/${globalSlug}${apiQueryParams}`\n        : '',\n  })\n\n  let View: ViewToRender = null\n\n  let showHeader = true\n\n  const RootViewOverride =\n    collectionConfig?.admin?.components?.views?.edit?.root &&\n    'Component' in collectionConfig.admin.components.views.edit.root\n      ? collectionConfig?.admin?.components?.views?.edit?.root?.Component\n      : globalConfig?.admin?.components?.views?.edit?.root &&\n          'Component' in globalConfig.admin.components.views.edit.root\n        ? globalConfig?.admin?.components?.views?.edit?.root?.Component\n        : null\n\n  if (RootViewOverride) {\n    View = RootViewOverride\n    showHeader = false\n  } else {\n    ;({ View } = getDocumentView({\n      collectionConfig,\n      config,\n      docPermissions,\n      globalConfig,\n      routeSegments: segments,\n    }))\n  }\n\n  if (!View) {\n    View = NotFoundView\n  }\n\n  /**\n   * Handle case where autoSave is enabled and the document is being created\n   * => create document and redirect\n   */\n  const shouldAutosave = hasSavePermission && hasAutosaveEnabled(collectionConfig || globalConfig)\n\n  const validateDraftData =\n    collectionConfig?.versions?.drafts && collectionConfig?.versions?.drafts?.validate\n\n  let id = idFromArgs\n\n  if (shouldAutosave && !validateDraftData && !idFromArgs && collectionSlug) {\n    doc = await payload.create({\n      collection: collectionSlug,\n      data: initialData || {},\n      depth: 0,\n      draft: true,\n      fallbackLocale: false,\n      locale: locale?.code,\n      req,\n      user,\n    })\n\n    if (doc?.id) {\n      id = doc.id\n      isEditing = getIsEditing({ id: doc.id, collectionSlug, globalSlug })\n\n      if (!drawerSlug && redirectAfterCreate !== false) {\n        const redirectURL = formatAdminURL({\n          adminRoute,\n          path: `/collections/${collectionSlug}/${doc.id}`,\n        })\n\n        redirect(redirectURL)\n      }\n    } else {\n      throw new Error('not-found')\n    }\n  }\n\n  const documentSlots = renderDocumentSlots({\n    id,\n    collectionConfig,\n    globalConfig,\n    hasSavePermission,\n    permissions: docPermissions,\n    req,\n  })\n\n  // Extract Description from documentSlots to pass to DocumentHeader\n  const { Description } = documentSlots\n\n  const clientProps: DocumentViewClientProps = {\n    formState,\n    ...documentSlots,\n    documentSubViewType,\n    viewType,\n  }\n\n  const { isLivePreviewEnabled, livePreviewConfig, livePreviewURL } = await handleLivePreview({\n    collectionSlug,\n    config,\n    data: doc,\n    globalSlug,\n    operation,\n    req,\n  })\n\n  const { isPreviewEnabled, previewURL } = await handlePreview({\n    collectionSlug,\n    config,\n    data: doc,\n    globalSlug,\n    operation,\n    req,\n  })\n\n  return {\n    data: doc,\n    Document: (\n      <DocumentInfoProvider\n        apiURL={apiURL}\n        collectionSlug={collectionConfig?.slug}\n        currentEditor={currentEditor}\n        disableActions={disableActions ?? false}\n        docPermissions={docPermissions}\n        globalSlug={globalConfig?.slug}\n        hasPublishedDoc={hasPublishedDoc}\n        hasPublishPermission={hasPublishPermission}\n        hasSavePermission={hasSavePermission}\n        id={id}\n        initialData={doc}\n        initialState={formState}\n        isEditing={isEditing}\n        isLocked={isLocked}\n        isTrashed={isTrashedDoc}\n        key={locale?.code}\n        lastUpdateTime={lastUpdateTime}\n        mostRecentVersionIsAutosaved={mostRecentVersionIsAutosaved}\n        redirectAfterCreate={redirectAfterCreate}\n        redirectAfterDelete={redirectAfterDelete}\n        redirectAfterDuplicate={redirectAfterDuplicate}\n        redirectAfterRestore={redirectAfterRestore}\n        unpublishedVersionCount={unpublishedVersionCount}\n        versionCount={versionCount}\n      >\n        <LivePreviewProvider\n          breakpoints={livePreviewConfig?.breakpoints}\n          isLivePreviewEnabled={isLivePreviewEnabled && operation !== 'create'}\n          isLivePreviewing={Boolean(\n            entityPreferences?.value?.editViewType === 'live-preview' && livePreviewURL,\n          )}\n          isPreviewEnabled={Boolean(isPreviewEnabled)}\n          previewURL={previewURL}\n          typeofLivePreviewURL={typeof livePreviewConfig?.url as 'function' | 'string' | undefined}\n          url={livePreviewURL}\n        >\n          {showHeader && !drawerSlug && (\n            <DocumentHeader\n              AfterHeader={Description}\n              collectionConfig={collectionConfig}\n              globalConfig={globalConfig}\n              permissions={permissions}\n              req={req}\n            />\n          )}\n          <HydrateAuthProvider permissions={permissions} />\n          <EditDepthProvider>\n            {RenderServerComponent({\n              clientProps,\n              Component: View,\n              importMap,\n              serverProps: documentViewServerProps,\n            })}\n          </EditDepthProvider>\n        </LivePreviewProvider>\n      </DocumentInfoProvider>\n    ),\n  }\n}\n\nexport async function DocumentView(props: AdminViewServerProps) {\n  try {\n    const { Document: RenderedDocument } = await renderDocument(props)\n    return RenderedDocument\n  } catch (error) {\n    if (error?.message === 'NEXT_REDIRECT') {\n      throw error\n    }\n\n    logError({ err: error, payload: props.initPageResult.req.payload })\n\n    if (error.message === 'not-found') {\n      notFound()\n    }\n  }\n}\n"],"names":["DocumentInfoProvider","EditDepthProvider","HydrateAuthProvider","LivePreviewProvider","RenderServerComponent","handleLivePreview","handlePreview","isEditing","getIsEditing","buildFormState","notFound","redirect","isolateObjectProperty","logError","formatAdminURL","hasAutosaveEnabled","hasDraftsEnabled","React","DocumentHeader","getPreferences","NotFoundView","getDocPreferences","getDocumentData","getDocumentPermissions","getDocumentView","getIsLocked","getMetaBySegment","getVersions","renderDocumentSlots","generateMetadata","args","renderDocument","disableActions","documentSubViewType","drawerSlug","importMap","initialData","initPageResult","overrideEntityVisibility","params","redirectAfterCreate","redirectAfterDelete","redirectAfterDuplicate","redirectAfterRestore","searchParams","versions","viewType","collectionConfig","docID","idFromArgs","globalConfig","locale","permissions","req","i18n","payload","config","routes","admin","adminRoute","api","apiRoute","serverURL","user","visibleEntities","segments","Array","isArray","collectionSlug","slug","undefined","globalSlug","id","doc","redirectURL","path","encodeURIComponent","Error","isTrashedDoc","Boolean","deletedAt","reqForPermissions","transactionID","reqForLockCheck","docPreferences","docPermissions","hasPublishPermission","hasSavePermission","currentEditor","isLocked","lastUpdateTime","entityPreferences","Promise","all","data","collection","operation","hasPublishedDoc","mostRecentVersionIsAutosaved","unpublishedVersionCount","versionCount","state","formState","code","fallbackLocale","readOnly","renderAllFields","schemaPath","skipValidation","documentViewServerProps","routeSegments","collections","find","visibleSlug","globals","formattedParams","URLSearchParams","append","apiQueryParams","toString","apiURL","View","showHeader","RootViewOverride","components","views","edit","root","Component","shouldAutosave","validateDraftData","drafts","validate","create","depth","draft","documentSlots","Description","clientProps","isLivePreviewEnabled","livePreviewConfig","livePreviewURL","isPreviewEnabled","previewURL","Document","_jsx","initialState","isTrashed","_jsxs","breakpoints","isLivePreviewing","value","editViewType","typeofLivePreviewURL","url","AfterHeader","serverProps","DocumentView","props","RenderedDocument","error","message","err"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 8179, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/ForgotPassword/ForgotPasswordForm/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ForgotPasswordForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call ForgotPasswordForm() from the server but ForgotPasswordForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/ForgotPassword/ForgotPasswordForm/index.js <module evaluation>\",\n    \"ForgotPasswordForm\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,qBAAqB,IAAA,wQAAuB,EACrD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,qHACA","ignoreList":[0]}},
    {"offset": {"line": 8193, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/ForgotPassword/ForgotPasswordForm/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ForgotPasswordForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call ForgotPasswordForm() from the server but ForgotPasswordForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/ForgotPassword/ForgotPasswordForm/index.js\",\n    \"ForgotPasswordForm\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,qBAAqB,IAAA,wQAAuB,EACrD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,iGACA","ignoreList":[0]}},
    {"offset": {"line": 8207, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/ForgotPassword/ForgotPasswordForm/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/ForgotPassword/ForgotPasswordForm/index.tsx"],"sourcesContent":["'use client'\n\nimport type { FormProps } from '@payloadcms/ui'\nimport type { FormState, PayloadRequest } from 'payload'\n\nimport { EmailField, Form, FormSubmit, TextField, useConfig, useTranslation } from '@payloadcms/ui'\nimport { email, text } from 'payload/shared'\nimport React, { useState } from 'react'\n\nimport { FormHeader } from '../../../elements/FormHeader/index.js'\n\nexport const ForgotPasswordForm: React.FC = () => {\n  const { config, getEntityConfig } = useConfig()\n\n  const {\n    admin: { user: userSlug },\n    routes: { api },\n  } = config\n\n  const { t } = useTranslation()\n  const [hasSubmitted, setHasSubmitted] = useState(false)\n  const collectionConfig = getEntityConfig({ collectionSlug: userSlug })\n  const loginWithUsername = collectionConfig?.auth?.loginWithUsername\n\n  const handleResponse: FormProps['handleResponse'] = (res, successToast, errorToast) => {\n    res\n      .json()\n      .then(() => {\n        setHasSubmitted(true)\n        successToast(t('general:submissionSuccessful'))\n      })\n      .catch(() => {\n        errorToast(\n          loginWithUsername\n            ? t('authentication:usernameNotValid')\n            : t('authentication:emailNotValid'),\n        )\n      })\n  }\n\n  const initialState: FormState = loginWithUsername\n    ? {\n        username: {\n          initialValue: '',\n          valid: true,\n          value: undefined,\n        },\n      }\n    : {\n        email: {\n          initialValue: '',\n          valid: true,\n          value: undefined,\n        },\n      }\n\n  if (hasSubmitted) {\n    return (\n      <FormHeader\n        description={t('authentication:checkYourEmailForPasswordReset')}\n        heading={t('authentication:emailSent')}\n      />\n    )\n  }\n\n  return (\n    <Form\n      action={`${api}/${userSlug}/forgot-password`}\n      handleResponse={handleResponse}\n      initialState={initialState}\n      method=\"POST\"\n    >\n      <FormHeader\n        description={\n          loginWithUsername\n            ? t('authentication:forgotPasswordUsernameInstructions')\n            : t('authentication:forgotPasswordEmailInstructions')\n        }\n        heading={t('authentication:forgotPassword')}\n      />\n\n      {loginWithUsername ? (\n        <TextField\n          field={{\n            name: 'username',\n            label: t('authentication:username'),\n            required: true,\n          }}\n          path=\"username\"\n          validate={(value) =>\n            text(value, {\n              name: 'username',\n              type: 'text',\n              blockData: {},\n              data: {},\n              event: 'onChange',\n              path: ['username'],\n              preferences: { fields: {} },\n              req: {\n                payload: {\n                  config,\n                },\n                t,\n              } as unknown as PayloadRequest,\n              required: true,\n              siblingData: {},\n            })\n          }\n        />\n      ) : (\n        <EmailField\n          field={{\n            name: 'email',\n            admin: {\n              autoComplete: 'email',\n            },\n            label: t('general:email'),\n            required: true,\n          }}\n          path=\"email\"\n          validate={(value) =>\n            email(value, {\n              name: 'email',\n              type: 'email',\n              blockData: {},\n              data: {},\n              event: 'onChange',\n              path: ['email'],\n              preferences: { fields: {} },\n              req: { payload: { config }, t } as unknown as PayloadRequest,\n              required: true,\n              siblingData: {},\n            })\n          }\n        />\n      )}\n      <FormSubmit size=\"large\">{t('general:submit')}</FormSubmit>\n    </Form>\n  )\n}\n"],"names":["c","_c","EmailField","Form","FormSubmit","TextField","useConfig","useTranslation","email","text","React","useState","FormHeader","ForgotPasswordForm","$","config","getEntityConfig","admin","t0","routes","t1","user","userSlug","api","t","hasSubmitted","setHasSubmitted","t2","collectionSlug","collectionConfig","loginWithUsername","auth","t3","res","successToast","errorToast","json","then","catch","handleResponse","t4","t5","Symbol","for","initialState","username","initialValue","valid","value","undefined","t6","_jsx","description","heading","_jsxs","action","method","children","field","name","label","required","path","validate","type","blockData","data","event","preferences","fields","req","payload","siblingData","autoComplete","value_0","size"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 8217, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/ForgotPassword/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/ForgotPassword/index.tsx"],"sourcesContent":["import type { AdminViewServerProps } from 'payload'\n\nimport { Button, Link } from '@payloadcms/ui'\nimport { Translation } from '@payloadcms/ui/shared'\nimport { formatAdminURL } from 'payload/shared'\nimport React, { Fragment } from 'react'\n\nimport { FormHeader } from '../../elements/FormHeader/index.js'\nimport { ForgotPasswordForm } from './ForgotPasswordForm/index.js'\n\nexport const forgotPasswordBaseClass = 'forgot-password'\n\nexport function ForgotPasswordView({ initPageResult }: AdminViewServerProps) {\n  const {\n    req: {\n      i18n,\n      payload: { config },\n      user,\n    },\n  } = initPageResult\n\n  const {\n    admin: {\n      routes: { account: accountRoute, login: loginRoute },\n    },\n    routes: { admin: adminRoute },\n  } = config\n\n  if (user) {\n    return (\n      <Fragment>\n        <FormHeader\n          description={\n            <Translation\n              elements={{\n                '0': ({ children }) => (\n                  <Link\n                    href={formatAdminURL({\n                      adminRoute,\n                      path: accountRoute,\n                    })}\n                    prefetch={false}\n                  >\n                    {children}\n                  </Link>\n                ),\n              }}\n              i18nKey=\"authentication:loggedInChangePassword\"\n              t={i18n.t}\n            />\n          }\n          heading={i18n.t('authentication:alreadyLoggedIn')}\n        />\n        <Button buttonStyle=\"secondary\" el=\"link\" size=\"large\" to={adminRoute}>\n          {i18n.t('general:backToDashboard')}\n        </Button>\n      </Fragment>\n    )\n  }\n\n  return (\n    <Fragment>\n      <ForgotPasswordForm />\n      <Link\n        href={formatAdminURL({\n          adminRoute,\n          path: loginRoute,\n        })}\n        prefetch={false}\n      >\n        {i18n.t('authentication:backToLogin')}\n      </Link>\n    </Fragment>\n  )\n}\n"],"names":["Button","Link","Translation","formatAdminURL","React","Fragment","FormHeader","ForgotPasswordForm","forgotPasswordBaseClass","ForgotPasswordView","initPageResult","req","i18n","payload","config","user","admin","routes","account","accountRoute","login","loginRoute","adminRoute","_jsxs","_jsx","description","elements","0","children","href","path","prefetch","i18nKey","t","heading","buttonStyle","el","size","to"],"mappings":";;;;;;;AAEA,SAASA,MAAM,EAAEC,IAAI,QAAQ;AAC7B,SAASC,WAAW,QAAQ;AAC5B,SAASC,cAAc,QAAQ;AAC/B,OAAOC,KAAA,IAASC,QAAQ,QAAQ;AAEhC,SAASC,UAAU,QAAQ;AAC3B,SAASC,kBAAkB,QAAQ;;;;;;;;;;;;;AAE5B,MAAMC,uBAAA,GAA0B;AAEhC,SAASC,mBAAmB,EAAEC,cAAAA,EAAsC;IACzE,MAAM,EACJC,GAAA,EAAK,EACHC,IAAI,EACJC,OAAA,EAAS,EAAEC,MAAAA,EAAQ,EACnBC,IAAAA,EAAI,EAEP,GAAGL,cAAA;IAEJ,MAAM,EACJM,KAAA,EAAO,EACLC,MAAA,EAAQ,EAAEC,OAAA,EAASC,YAAY,EAAEC,KAAA,EAAOC,UAAAA,EAAU,EACnD,EACDJ,MAAA,EAAQ,EAAED,KAAA,EAAOM,UAAAA,EAAU,EAC5B,GAAGR,MAAA;IAEJ,IAAIC,IAAA,EAAM;QACR,OAAA,WAAA,OACEQ,+NAAA,EAAClB,iNAAA,EAAA;;kCACCmB,8NAAA,EAAClB,6LAAA,EAAA;oBACCmB,WAAA,EAAA,WAAA,OACED,8NAAA,EAACtB,uMAAA,EAAA;wBACCwB,QAAA,EAAU;4BACR,KAAKC,CAAC,EAAEC,QAAAA,EAAU,GAAA,WAAA,OAChBJ,8NAAA,EAACvB,gLAAA,EAAA;oCACC4B,IAAA,MAAM1B,kMAAA,EAAe;wCACnBmB,UAAA;wCACAQ,IAAA,EAAMX;oCACR;oCACAY,QAAA,EAAU;8CAETH;;wBAGP;wBACAI,OAAA,EAAQ;wBACRC,CAAA,EAAGrB,IAAA,CAAKqB,CAAAA;;oBAGZC,OAAA,EAAStB,IAAA,CAAKqB,CAAC,CAAC;;kCAElBT,8NAAA,EAACxB,kLAAA,EAAA;oBAAOmC,WAAA,EAAY;oBAAYC,EAAA,EAAG;oBAAOC,IAAA,EAAK;oBAAQC,EAAA,EAAIhB,UAAA;8BACxDV,IAAA,CAAKqB,CAAC,CAAC;;;;IAIhB;IAEA,OAAA,WAAA,OACEV,+NAAA,EAAClB,iNAAA,EAAA;;8BACCmB,8NAAA,EAACjB,4NAAA,EAAA,CAAA;Y,W,OACDiB,8NAAA,EAACvB,gLAAA,EAAA;gBACC4B,IAAA,MAAM1B,kMAAA,EAAe;oBACnBmB,UAAA;oBACAQ,IAAA,EAAMT;gBACR;gBACAU,QAAA,EAAU;0BAETnB,IAAA,CAAKqB,CAAC,CAAC;;;;AAIhB","ignoreList":[]}},
    {"offset": {"line": 8297, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/Logo/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/Logo/index.tsx"],"sourcesContent":["import type { ServerProps } from 'payload'\nimport type React from 'react'\n\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { PayloadLogo } from '@payloadcms/ui/shared'\n\nexport const Logo: React.FC<ServerProps> = (props) => {\n  const { i18n, locale, params, payload, permissions, searchParams, user } = props\n\n  const {\n    admin: {\n      components: {\n        graphics: { Logo: CustomLogo } = {\n          Logo: undefined,\n        },\n      } = {},\n    } = {},\n  } = payload.config\n\n  return RenderServerComponent({\n    Component: CustomLogo,\n    Fallback: PayloadLogo,\n    importMap: payload.importMap,\n    serverProps: {\n      i18n,\n      locale,\n      params,\n      payload,\n      permissions,\n      searchParams,\n      user,\n    },\n  })\n}\n"],"names":["RenderServerComponent","PayloadLogo","Logo","props","i18n","locale","params","payload","permissions","searchParams","user","admin","components","graphics","CustomLogo","undefined","config","Component","Fallback","importMap","serverProps"],"mappings":";;;;AAGA,SAASA,qBAAqB,QAAQ;AACtC,SAASC,WAAW,QAAQ;;;;;;;;AAErB,MAAMC,IAAA,IAA+BC,KAAA;IAC1C,MAAM,EAAEC,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAAEC,OAAO,EAAEC,WAAW,EAAEC,YAAY,EAAEC,IAAAA,EAAM,GAAGP,KAAA;IAE3E,MAAM,EACJQ,KAAA,EAAO,EACLC,UAAA,EAAY,EACVC,QAAA,EAAU,EAAEX,IAAA,EAAMY,UAAAA,EAAY,GAAG;QAC/BZ,IAAA,EAAMa;IACR,CAAA,EACD,GAAG,CAAC,CAAA,EACN,GAAG,CAAC,CAAA,EACN,GAAGR,OAAA,CAAQS,MAAM;IAElB,WAAOhB,iNAAA,EAAsB;QAC3BiB,SAAA,EAAWH,UAAA;QACXI,QAAA,EAAUjB,uMAAA;QACVkB,SAAA,EAAWZ,OAAA,CAAQY,SAAS;QAC5BC,WAAA,EAAa;YACXhB,IAAA;YACAC,MAAA;YACAC,MAAA;YACAC,OAAA;YACAC,WAAA;YACAC,YAAA;YACAC;QACF;IACF;AACF","ignoreList":[]}},
    {"offset": {"line": 8335, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Login/LoginForm/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LoginForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call LoginForm() from the server but LoginForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Login/LoginForm/index.js <module evaluation>\",\n    \"LoginForm\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,mGACA","ignoreList":[0]}},
    {"offset": {"line": 8349, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Login/LoginForm/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LoginForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call LoginForm() from the server but LoginForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Login/LoginForm/index.js\",\n    \"LoginForm\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,+EACA","ignoreList":[0]}},
    {"offset": {"line": 8363, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Login/LoginForm/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Login/LoginForm/index.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\n\nconst baseClass = 'login__form'\n\nimport type { UserWithToken } from '@payloadcms/ui'\nimport type { FormState } from 'payload'\n\nimport {\n  Form,\n  FormSubmit,\n  Link,\n  PasswordField,\n  useAuth,\n  useConfig,\n  useTranslation,\n} from '@payloadcms/ui'\nimport { formatAdminURL, getLoginOptions, getSafeRedirect } from 'payload/shared'\n\nimport type { LoginFieldProps } from '../LoginField/index.js'\n\nimport { LoginField } from '../LoginField/index.js'\nimport './index.scss'\n\nexport const LoginForm: React.FC<{\n  prefillEmail?: string\n  prefillPassword?: string\n  prefillUsername?: string\n  searchParams: { [key: string]: string | string[] | undefined }\n}> = ({ prefillEmail, prefillPassword, prefillUsername, searchParams }) => {\n  const { config, getEntityConfig } = useConfig()\n\n  const {\n    admin: {\n      routes: { forgot: forgotRoute },\n      user: userSlug,\n    },\n    routes: { admin: adminRoute, api: apiRoute },\n    serverURL,\n  } = config\n\n  const collectionConfig = getEntityConfig({ collectionSlug: userSlug })\n  const { auth: authOptions } = collectionConfig\n  const loginWithUsername = authOptions.loginWithUsername\n  const { canLoginWithEmail, canLoginWithUsername } = getLoginOptions(loginWithUsername)\n\n  const [loginType] = React.useState<LoginFieldProps['type']>(() => {\n    if (canLoginWithEmail && canLoginWithUsername) {\n      return 'emailOrUsername'\n    }\n    if (canLoginWithUsername) {\n      return 'username'\n    }\n    return 'email'\n  })\n\n  const { t } = useTranslation()\n  const { setUser } = useAuth()\n\n  const initialState: FormState = {\n    password: {\n      initialValue: prefillPassword ?? undefined,\n      valid: true,\n      value: prefillPassword ?? undefined,\n    },\n  }\n\n  if (loginWithUsername) {\n    initialState.username = {\n      initialValue: prefillUsername ?? undefined,\n      valid: true,\n      value: prefillUsername ?? undefined,\n    }\n  } else {\n    initialState.email = {\n      initialValue: prefillEmail ?? undefined,\n      valid: true,\n      value: prefillEmail ?? undefined,\n    }\n  }\n\n  const handleLogin = (data: UserWithToken) => {\n    setUser(data)\n  }\n\n  return (\n    <Form\n      action={formatAdminURL({\n        apiRoute,\n        path: `/${userSlug}/login`,\n      })}\n      className={baseClass}\n      disableSuccessStatus\n      initialState={initialState}\n      method=\"POST\"\n      onSuccess={handleLogin}\n      redirect={getSafeRedirect({ fallbackTo: adminRoute, redirectTo: searchParams?.redirect })}\n      waitForAutocomplete\n    >\n      <div className={`${baseClass}__inputWrap`}>\n        <LoginField type={loginType} />\n        <PasswordField\n          field={{\n            name: 'password',\n            label: t('general:password'),\n            required: true,\n          }}\n          path=\"password\"\n        />\n      </div>\n      <Link\n        href={formatAdminURL({\n          adminRoute,\n          path: forgotRoute,\n        })}\n        prefetch={false}\n      >\n        {t('authentication:forgotPasswordQuestion')}\n      </Link>\n      <FormSubmit size=\"large\">{t('authentication:login')}</FormSubmit>\n    </Form>\n  )\n}\n"],"names":["c","_c","React","baseClass","Form","FormSubmit","Link","PasswordField","useAuth","useConfig","useTranslation","formatAdminURL","getLoginOptions","getSafeRedirect","LoginField","LoginForm","t0","$","prefillEmail","prefillPassword","prefillUsername","searchParams","config","getEntityConfig","admin","t1","routes","t2","t3","user","userSlug","forgot","forgotRoute","adminRoute","api","apiRoute","loginWithUsername","t4","collectionConfig","collectionSlug","auth","authOptions","canLoginWithEmail","canLoginWithUsername","t5","loginType","useState","t","setUser","t6","undefined","t7","t8","redirect","initialState","password","initialValue","valid","value","username","email","t9","data","handleLogin","_jsxs","action","path","className","disableSuccessStatus","method","onSuccess","fallbackTo","redirectTo","waitForAutocomplete","children","_jsx","type","field","name","label","required","href","prefetch","size"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 8373, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Login/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Login/index.tsx"],"sourcesContent":["import type { AdminViewServerProps, ServerProps } from 'payload'\n\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { redirect } from 'next/navigation.js'\nimport { getSafeRedirect } from 'payload/shared'\nimport React, { Fragment } from 'react'\n\nimport { Logo } from '../../elements/Logo/index.js'\nimport { LoginForm } from './LoginForm/index.js'\nimport './index.scss'\nexport const loginBaseClass = 'login'\n\nexport function LoginView({ initPageResult, params, searchParams }: AdminViewServerProps) {\n  const { locale, permissions, req } = initPageResult\n\n  const {\n    i18n,\n    payload: { config },\n    payload,\n    user,\n  } = req\n\n  const {\n    admin: { components: { afterLogin, beforeLogin } = {}, user: userSlug },\n    routes: { admin },\n  } = config\n\n  const redirectUrl = getSafeRedirect({ fallbackTo: admin, redirectTo: searchParams.redirect })\n\n  if (user) {\n    redirect(redirectUrl)\n  }\n\n  const collectionConfig = payload?.collections?.[userSlug]?.config\n\n  const prefillAutoLogin =\n    typeof config.admin?.autoLogin === 'object' && config.admin?.autoLogin.prefillOnly\n\n  const prefillUsername =\n    prefillAutoLogin && typeof config.admin?.autoLogin === 'object'\n      ? config.admin?.autoLogin.username\n      : undefined\n\n  const prefillEmail =\n    prefillAutoLogin && typeof config.admin?.autoLogin === 'object'\n      ? config.admin?.autoLogin.email\n      : undefined\n\n  const prefillPassword =\n    prefillAutoLogin && typeof config.admin?.autoLogin === 'object'\n      ? config.admin?.autoLogin.password\n      : undefined\n\n  return (\n    <Fragment>\n      <div className={`${loginBaseClass}__brand`}>\n        <Logo\n          i18n={i18n}\n          locale={locale}\n          params={params}\n          payload={payload}\n          permissions={permissions}\n          searchParams={searchParams}\n          user={user}\n        />\n      </div>\n      {RenderServerComponent({\n        Component: beforeLogin,\n        importMap: payload.importMap,\n        serverProps: {\n          i18n,\n          locale,\n          params,\n          payload,\n          permissions,\n          searchParams,\n          user,\n        } satisfies ServerProps,\n      })}\n      {!collectionConfig?.auth?.disableLocalStrategy && (\n        <LoginForm\n          prefillEmail={prefillEmail}\n          prefillPassword={prefillPassword}\n          prefillUsername={prefillUsername}\n          searchParams={searchParams}\n        />\n      )}\n      {RenderServerComponent({\n        Component: afterLogin,\n        importMap: payload.importMap,\n        serverProps: {\n          i18n,\n          locale,\n          params,\n          payload,\n          permissions,\n          searchParams,\n          user,\n        } satisfies ServerProps,\n      })}\n    </Fragment>\n  )\n}\n"],"names":["RenderServerComponent","redirect","getSafeRedirect","React","Fragment","Logo","LoginForm","loginBaseClass","LoginView","initPageResult","params","searchParams","locale","permissions","req","i18n","payload","config","user","admin","components","afterLogin","beforeLogin","userSlug","routes","redirectUrl","fallbackTo","redirectTo","collectionConfig","collections","prefillAutoLogin","autoLogin","prefillOnly","prefillUsername","username","undefined","prefillEmail","email","prefillPassword","password","_jsxs","_jsx","className","Component","importMap","serverProps","auth","disableLocalStrategy"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 8470, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Logout/LogoutClient.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LogoutClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call LogoutClient() from the server but LogoutClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Logout/LogoutClient.js <module evaluation>\",\n    \"LogoutClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,iGACA","ignoreList":[0]}},
    {"offset": {"line": 8484, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Logout/LogoutClient.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LogoutClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call LogoutClient() from the server but LogoutClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Logout/LogoutClient.js\",\n    \"LogoutClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,6EACA","ignoreList":[0]}},
    {"offset": {"line": 8498, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Logout/LogoutClient.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Logout/LogoutClient.tsx"],"sourcesContent":["'use client'\nimport {\n  Button,\n  LoadingOverlay,\n  toast,\n  useAuth,\n  useConfig,\n  useRouteTransition,\n  useTranslation,\n} from '@payloadcms/ui'\nimport { useRouter } from 'next/navigation.js'\nimport { formatAdminURL } from 'payload/shared'\nimport React, { useEffect } from 'react'\n\nimport './index.scss'\n\nconst baseClass = 'logout'\n\n/**\n * This component should **just** be the inactivity route and do nothing with logging the user out.\n *\n * It currently handles too much, the auth provider should just log the user out and then\n * we could remove the useEffect in this file. So instead of the logout button\n * being an anchor link, it should be a button that calls `logOut` in the provider.\n *\n * This view is still useful if cookies attempt to refresh and fail, i.e. the user\n * is logged out due to inactivity.\n */\nexport const LogoutClient: React.FC<{\n  adminRoute: string\n  inactivity?: boolean\n  redirect: string\n}> = (props) => {\n  const { adminRoute, inactivity, redirect } = props\n\n  const { logOut, user } = useAuth()\n  const { config } = useConfig()\n\n  const { startRouteTransition } = useRouteTransition()\n\n  const isLoggedIn = React.useMemo(() => {\n    return Boolean(user?.id)\n  }, [user?.id])\n\n  const navigatingToLoginRef = React.useRef(false)\n\n  const [loginRoute] = React.useState(() =>\n    formatAdminURL({\n      adminRoute,\n      path: `/login${\n        inactivity && redirect && redirect.length > 0\n          ? `?redirect=${encodeURIComponent(redirect)}`\n          : ''\n      }`,\n    }),\n  )\n\n  const { t } = useTranslation()\n  const router = useRouter()\n\n  const handleLogOut = React.useCallback(async () => {\n    if (!navigatingToLoginRef.current) {\n      navigatingToLoginRef.current = true\n      await logOut()\n      toast.success(t('authentication:loggedOutSuccessfully'))\n      startRouteTransition(() => router.push(loginRoute))\n      return\n    }\n  }, [logOut, loginRoute, router, startRouteTransition, t])\n\n  useEffect(() => {\n    if (isLoggedIn && !inactivity) {\n      void handleLogOut()\n    } else if (!navigatingToLoginRef.current) {\n      navigatingToLoginRef.current = true\n      startRouteTransition(() => router.push(loginRoute))\n    }\n  }, [handleLogOut, isLoggedIn, loginRoute, router, startRouteTransition, inactivity])\n\n  if (!isLoggedIn && inactivity) {\n    return (\n      <div className={`${baseClass}__wrap`}>\n        <h2>{t('authentication:loggedOutInactivity')}</h2>\n        <Button buttonStyle=\"secondary\" el=\"link\" size=\"large\" url={loginRoute}>\n          {t('authentication:logBackIn')}\n        </Button>\n      </div>\n    )\n  }\n\n  return <LoadingOverlay animationDuration={'0ms'} loadingText={t('authentication:loggingOut')} />\n}\n"],"names":["c","_c","Button","LoadingOverlay","toast","useAuth","useConfig","useRouteTransition","useTranslation","useRouter","formatAdminURL","React","useEffect","baseClass","LogoutClient","props","$","adminRoute","inactivity","redirect","logOut","user","startRouteTransition","id","isLoggedIn","Boolean","navigatingToLoginRef","useRef","t0","path","length","encodeURIComponent","loginRoute","useState","t","router","t1","current","success","push","handleLogOut","t2","t3","t4","_jsxs","className","children","_jsx","buttonStyle","el","size","url","animationDuration","loadingText"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 8506, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Logout/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Logout/index.tsx"],"sourcesContent":["import type { AdminViewServerProps } from 'payload'\n\nimport React from 'react'\n\nimport { LogoutClient } from './LogoutClient.js'\nimport './index.scss'\n\nconst baseClass = 'logout'\n\nexport const LogoutView: React.FC<\n  {\n    inactivity?: boolean\n  } & AdminViewServerProps\n> = ({ inactivity, initPageResult, searchParams }) => {\n  const {\n    req: {\n      payload: {\n        config: {\n          routes: { admin: adminRoute },\n        },\n      },\n    },\n  } = initPageResult\n\n  return (\n    <div className={`${baseClass}`}>\n      <LogoutClient\n        adminRoute={adminRoute}\n        inactivity={inactivity}\n        redirect={searchParams.redirect as string}\n      />\n    </div>\n  )\n}\n\nexport function LogoutInactivity(props: AdminViewServerProps) {\n  return <LogoutView inactivity {...props} />\n}\n"],"names":["React","LogoutClient","baseClass","LogoutView","inactivity","initPageResult","searchParams","req","payload","config","routes","admin","adminRoute","_jsx","className","redirect","LogoutInactivity","props"],"mappings":";;;;;;;AAEA,OAAOA,KAAA,MAAW;AAElB,SAASC,YAAY,QAAQ;;;;AAG7B,MAAMC,SAAA,GAAY;AAEX,MAAMC,UAAA,GAITA,CAAC,EAAEC,UAAU,EAAEC,cAAc,EAAEC,YAAAA,EAAc;IAC/C,MAAM,EACJC,GAAA,EAAK,EACHC,OAAA,EAAS,EACPC,MAAA,EAAQ,EACNC,MAAA,EAAQ,EAAEC,KAAA,EAAOC,UAAAA,EAAU,EAAE,EAC9B,EACF,EAEJ,GAAGP,cAAA;IAEJ,OAAA,WAAA,OACEQ,8NAAA,EAAC,OAAA;QAAIC,SAAA,EAAW,GAAGZ,SAAA,EAAW;kBAC5B,WAAA,OAAAW,8NAAA,EAACZ,+LAAA,EAAA;YACCW,UAAA,EAAYA,UAAA;YACZR,UAAA,EAAYA,UAAA;YACZW,QAAA,EAAUT,YAAA,CAAaS,QAAAA;;;AAI/B;AAEO,SAASC,iBAAiBC,KAA2B;IAC1D,OAAA,WAAA,OAAOJ,8NAAA,EAACV,UAAA,EAAA;QAAWC,UAAU,EAAA;QAAE,GAAGa,KAAAA;;AACpC","ignoreList":[]}},
    {"offset": {"line": 8540, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/ResetPassword/ResetPasswordForm/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ResetPasswordForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call ResetPasswordForm() from the server but ResetPasswordForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/ResetPassword/ResetPasswordForm/index.js <module evaluation>\",\n    \"ResetPasswordForm\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,oBAAoB,IAAA,wQAAuB,EACpD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,mHACA","ignoreList":[0]}},
    {"offset": {"line": 8554, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/ResetPassword/ResetPasswordForm/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ResetPasswordForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call ResetPasswordForm() from the server but ResetPasswordForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/ResetPassword/ResetPasswordForm/index.js\",\n    \"ResetPasswordForm\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,oBAAoB,IAAA,wQAAuB,EACpD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,+FACA","ignoreList":[0]}},
    {"offset": {"line": 8568, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/ResetPassword/ResetPasswordForm/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/ResetPassword/ResetPasswordForm/index.tsx"],"sourcesContent":["'use client'\nimport {\n  ConfirmPasswordField,\n  Form,\n  FormSubmit,\n  HiddenField,\n  PasswordField,\n  useAuth,\n  useConfig,\n  useTranslation,\n} from '@payloadcms/ui'\nimport { useRouter } from 'next/navigation.js'\nimport { type FormState } from 'payload'\nimport { formatAdminURL } from 'payload/shared'\nimport React from 'react'\n\ntype Args = {\n  readonly token: string\n}\n\nexport const ResetPasswordForm: React.FC<Args> = ({ token }) => {\n  const i18n = useTranslation()\n  const {\n    config: {\n      admin: {\n        routes: { login: loginRoute },\n        user: userSlug,\n      },\n      routes: { admin: adminRoute, api: apiRoute },\n      serverURL,\n    },\n  } = useConfig()\n\n  const history = useRouter()\n  const { fetchFullUser } = useAuth()\n\n  const onSuccess = React.useCallback(async () => {\n    const user = await fetchFullUser()\n    if (user) {\n      history.push(adminRoute)\n    } else {\n      history.push(\n        formatAdminURL({\n          adminRoute,\n          path: loginRoute,\n        }),\n      )\n    }\n  }, [adminRoute, fetchFullUser, history, loginRoute])\n\n  const initialState: FormState = {\n    'confirm-password': {\n      initialValue: '',\n      valid: false,\n      value: '',\n    },\n    password: {\n      initialValue: '',\n      valid: false,\n      value: '',\n    },\n    token: {\n      initialValue: token,\n      valid: true,\n      value: token,\n    },\n  }\n\n  return (\n    <Form\n      action={formatAdminURL({\n        apiRoute,\n        path: `/${userSlug}/reset-password`,\n      })}\n      initialState={initialState}\n      method=\"POST\"\n      onSuccess={onSuccess}\n    >\n      <div className=\"inputWrap\">\n        <PasswordField\n          field={{\n            name: 'password',\n            label: i18n.t('authentication:newPassword'),\n            required: true,\n          }}\n          path=\"password\"\n          schemaPath={`${userSlug}.password`}\n        />\n        <ConfirmPasswordField />\n        <HiddenField path=\"token\" schemaPath={`${userSlug}.token`} value={token} />\n      </div>\n      <FormSubmit size=\"large\">{i18n.t('authentication:resetPassword')}</FormSubmit>\n    </Form>\n  )\n}\n"],"names":["c","_c","ConfirmPasswordField","Form","FormSubmit","HiddenField","PasswordField","useAuth","useConfig","useTranslation","useRouter","formatAdminURL","React","ResetPasswordForm","t0","$","token","i18n","config","t1","admin","t2","routes","t3","t4","user","userSlug","login","loginRoute","adminRoute","api","apiRoute","history","fetchFullUser","t5","push","path","onSuccess","t6","initialState","initialValue","valid","value","password","_jsxs","action","method","children","className","_jsx","field","name","label","t","required","schemaPath","size"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 8578, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/ResetPassword/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/ResetPassword/index.tsx"],"sourcesContent":["import type { AdminViewServerProps } from 'payload'\n\nimport { Button, Link } from '@payloadcms/ui'\nimport { Translation } from '@payloadcms/ui/shared'\nimport { formatAdminURL } from 'payload/shared'\nimport React from 'react'\n\nimport { FormHeader } from '../../elements/FormHeader/index.js'\nimport { ResetPasswordForm } from './ResetPasswordForm/index.js'\nimport './index.scss'\n\nexport const resetPasswordBaseClass = 'reset-password'\n\nexport function ResetPassword({ initPageResult, params }: AdminViewServerProps) {\n  const { req } = initPageResult\n\n  const {\n    segments: [_, token],\n  } = params\n\n  const {\n    i18n,\n    payload: { config },\n    user,\n  } = req\n\n  const {\n    admin: {\n      routes: { account: accountRoute, login: loginRoute },\n    },\n    routes: { admin: adminRoute },\n  } = config\n\n  if (user) {\n    return (\n      <div className={`${resetPasswordBaseClass}__wrap`}>\n        <FormHeader\n          description={\n            <Translation\n              elements={{\n                '0': ({ children }) => (\n                  <Link\n                    href={formatAdminURL({\n                      adminRoute,\n                      path: accountRoute,\n                    })}\n                    prefetch={false}\n                  >\n                    {children}\n                  </Link>\n                ),\n              }}\n              i18nKey=\"authentication:loggedInChangePassword\"\n              t={i18n.t}\n            />\n          }\n          heading={i18n.t('authentication:alreadyLoggedIn')}\n        />\n        <Button buttonStyle=\"secondary\" el=\"link\" size=\"large\" to={adminRoute}>\n          {i18n.t('general:backToDashboard')}\n        </Button>\n      </div>\n    )\n  }\n\n  return (\n    <div className={`${resetPasswordBaseClass}__wrap`}>\n      <FormHeader heading={i18n.t('authentication:resetPassword')} />\n      <ResetPasswordForm token={token} />\n      <Link\n        href={formatAdminURL({\n          adminRoute,\n          path: loginRoute,\n        })}\n        prefetch={false}\n      >\n        {i18n.t('authentication:backToLogin')}\n      </Link>\n    </div>\n  )\n}\n"],"names":["Button","Link","Translation","formatAdminURL","React","FormHeader","ResetPasswordForm","resetPasswordBaseClass","ResetPassword","initPageResult","params","req","segments","_","token","i18n","payload","config","user","admin","routes","account","accountRoute","login","loginRoute","adminRoute","_jsxs","className","_jsx","description","elements","0","children","href","path","prefetch","i18nKey","t","heading","buttonStyle","el","size","to"],"mappings":";;;;;;;AAEA,SAASA,MAAM,EAAEC,IAAI,QAAQ;AAC7B,SAASC,WAAW,QAAQ;AAC5B,SAASC,cAAc,QAAQ;AAC/B,OAAOC,KAAA,MAAW;AAElB,SAASC,UAAU,QAAQ;AAC3B,SAASC,iBAAiB,QAAQ;;;;;;;;;;;;;AAG3B,MAAMC,sBAAA,GAAyB;AAE/B,SAASC,cAAc,EAAEC,cAAc,EAAEC,MAAAA,EAA8B;IAC5E,MAAM,EAAEC,GAAAA,EAAK,GAAGF,cAAA;IAEhB,MAAM,EACJG,QAAA,EAAU,CAACC,CAAA,EAAGC,KAAA,CAAA,EACf,GAAGJ,MAAA;IAEJ,MAAM,EACJK,IAAI,EACJC,OAAA,EAAS,EAAEC,MAAAA,EAAQ,EACnBC,IAAAA,EACD,GAAGP,GAAA;IAEJ,MAAM,EACJQ,KAAA,EAAO,EACLC,MAAA,EAAQ,EAAEC,OAAA,EAASC,YAAY,EAAEC,KAAA,EAAOC,UAAAA,EAAU,EACnD,EACDJ,MAAA,EAAQ,EAAED,KAAA,EAAOM,UAAAA,EAAU,EAC5B,GAAGR,MAAA;IAEJ,IAAIC,IAAA,EAAM;QACR,OAAA,WAAA,OACEQ,+NAAA,EAAC,OAAA;YAAIC,SAAA,EAAW,GAAGpB,sBAAA,CAAA,MAAA,CAA8B;;kCAC/CqB,8NAAA,EAACvB,6LAAA,EAAA;oBACCwB,WAAA,EAAA,WAAA,OACED,8NAAA,EAAC1B,uMAAA,EAAA;wBACC4B,QAAA,EAAU;4BACR,KAAKC,CAAC,EAAEC,QAAAA,EAAU,GAAA,WAAA,OAChBJ,8NAAA,EAAC3B,gLAAA,EAAA;oCACCgC,IAAA,MAAM9B,kMAAA,EAAe;wCACnBsB,UAAA;wCACAS,IAAA,EAAMZ;oCACR;oCACAa,QAAA,EAAU;8CAETH;;wBAGP;wBACAI,OAAA,EAAQ;wBACRC,CAAA,EAAGtB,IAAA,CAAKsB,CAAAA;;oBAGZC,OAAA,EAASvB,IAAA,CAAKsB,CAAC,CAAC;;kCAElBT,8NAAA,EAAC5B,kLAAA,EAAA;oBAAOuC,WAAA,EAAY;oBAAYC,EAAA,EAAG;oBAAOC,IAAA,EAAK;oBAAQC,EAAA,EAAIjB,UAAA;8BACxDV,IAAA,CAAKsB,CAAC,CAAC;;;;IAIhB;IAEA,OAAA,WAAA,OACEX,+NAAA,EAAC,OAAA;QAAIC,SAAA,EAAW,GAAGpB,sBAAA,CAAA,MAAA,CAA8B;;8BAC/CqB,8NAAA,EAACvB,6LAAA,EAAA;gBAAWiC,OAAA,EAASvB,IAAA,CAAKsB,CAAC,CAAC;;8BAC5BT,8NAAA,EAACtB,yNAAA,EAAA;gBAAkBQ,KAAA,EAAOA;;8BAC1Bc,8NAAA,EAAC3B,gLAAA,EAAA;gBACCgC,IAAA,MAAM9B,kMAAA,EAAe;oBACnBsB,UAAA;oBACAS,IAAA,EAAMV;gBACR;gBACAW,QAAA,EAAU;0BAETpB,IAAA,CAAKsB,CAAC,CAAC;;;;AAIhB","ignoreList":[]}},
    {"offset": {"line": 8665, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Verify/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ToastAndRedirect = registerClientReference(\n    function() { throw new Error(\"Attempted to call ToastAndRedirect() from the server but ToastAndRedirect is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Verify/index.client.js <module evaluation>\",\n    \"ToastAndRedirect\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,iGACA","ignoreList":[0]}},
    {"offset": {"line": 8679, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Verify/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ToastAndRedirect = registerClientReference(\n    function() { throw new Error(\"Attempted to call ToastAndRedirect() from the server but ToastAndRedirect is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Verify/index.client.js\",\n    \"ToastAndRedirect\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,6EACA","ignoreList":[0]}},
    {"offset": {"line": 8693, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Verify/index.client.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Verify/index.client.tsx"],"sourcesContent":["'use client'\nimport { toast, useRouteTransition } from '@payloadcms/ui'\nimport { useRouter } from 'next/navigation.js'\nimport React, { useEffect } from 'react'\n\ntype Props = {\n  message: string\n  redirectTo: string\n}\nexport function ToastAndRedirect({ message, redirectTo }: Props) {\n  const router = useRouter()\n  const { startRouteTransition } = useRouteTransition()\n  const hasToastedRef = React.useRef(false)\n\n  useEffect(() => {\n    let timeoutID\n\n    if (toast) {\n      timeoutID = setTimeout(() => {\n        toast.success(message)\n        hasToastedRef.current = true\n        startRouteTransition(() => router.push(redirectTo))\n      }, 100)\n    }\n\n    return () => {\n      if (timeoutID) {\n        clearTimeout(timeoutID)\n      }\n    }\n  }, [router, redirectTo, message, startRouteTransition])\n\n  return null\n}\n"],"names":["c","_c","toast","useRouteTransition","useRouter","React","useEffect","ToastAndRedirect","t0","$","message","redirectTo","router","startRouteTransition","hasToastedRef","useRef","t1","t2","timeoutID","current","push","clearTimeout"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 8703, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Verify/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Verify/index.tsx"],"sourcesContent":["import type { AdminViewServerProps } from 'payload'\n\nimport { formatAdminURL } from 'payload/shared'\nimport React from 'react'\n\nimport { Logo } from '../../elements/Logo/index.js'\nimport { ToastAndRedirect } from './index.client.js'\nimport './index.scss'\n\nexport const verifyBaseClass = 'verify'\n\nexport async function Verify({ initPageResult, params, searchParams }: AdminViewServerProps) {\n  // /:collectionSlug/verify/:token\n\n  const [collectionSlug, verify, token] = params.segments\n  const { locale, permissions, req } = initPageResult\n\n  const {\n    i18n,\n    payload: { config },\n    payload,\n    user,\n  } = req\n\n  const {\n    routes: { admin: adminRoute },\n    serverURL,\n  } = config\n\n  let textToRender\n  let isVerified = false\n\n  try {\n    await req.payload.verifyEmail({\n      collection: collectionSlug,\n      token,\n    })\n\n    isVerified = true\n    textToRender = req.t('authentication:emailVerified')\n  } catch (e) {\n    textToRender = req.t('authentication:unableToVerify')\n  }\n\n  if (isVerified) {\n    return (\n      <ToastAndRedirect\n        message={req.t('authentication:emailVerified')}\n        redirectTo={formatAdminURL({ adminRoute, path: '/login' })}\n      />\n    )\n  }\n\n  return (\n    <React.Fragment>\n      <div className={`${verifyBaseClass}__brand`}>\n        <Logo\n          i18n={i18n}\n          locale={locale}\n          params={params}\n          payload={payload}\n          permissions={permissions}\n          searchParams={searchParams}\n          user={user}\n        />\n      </div>\n      <h2>{textToRender}</h2>\n    </React.Fragment>\n  )\n}\n"],"names":["formatAdminURL","React","Logo","ToastAndRedirect","verifyBaseClass","Verify","initPageResult","params","searchParams","collectionSlug","verify","token","segments","locale","permissions","req","i18n","payload","config","user","routes","admin","adminRoute","serverURL","textToRender","isVerified","verifyEmail","collection","t","e","_jsx","message","redirectTo","path","_jsxs","Fragment","className"],"mappings":";;;;;;;AAEA,SAASA,cAAc,QAAQ;AAC/B,OAAOC,KAAA,MAAW;AAElB,SAASC,IAAI,QAAQ;AACrB,SAASC,gBAAgB,QAAQ;;;;;;;;;;;AAG1B,MAAMC,eAAA,GAAkB;AAExB,eAAeC,OAAO,EAAEC,cAAc,EAAEC,MAAM,EAAEC,YAAAA,EAAoC;IACzF,iCAAA;IAEA,MAAM,CAACC,cAAA,EAAgBC,MAAA,EAAQC,KAAA,CAAM,GAAGJ,MAAA,CAAOK,QAAQ;IACvD,MAAM,EAAEC,MAAM,EAAEC,WAAW,EAAEC,GAAAA,EAAK,GAAGT,cAAA;IAErC,MAAM,EACJU,IAAI,EACJC,OAAA,EAAS,EAAEC,MAAAA,EAAQ,EACnBD,OAAO,EACPE,IAAAA,EACD,GAAGJ,GAAA;IAEJ,MAAM,EACJK,MAAA,EAAQ,EAAEC,KAAA,EAAOC,UAAAA,EAAY,EAC7BC,SAAAA,EACD,GAAGL,MAAA;IAEJ,IAAIM,YAAA;IACJ,IAAIC,UAAA,GAAa;IAEjB,IAAI;QACF,MAAMV,GAAA,CAAIE,OAAO,CAACS,WAAW,CAAC;YAC5BC,UAAA,EAAYlB,cAAA;YACZE;QACF;QAEAc,UAAA,GAAa;QACbD,YAAA,GAAeT,GAAA,CAAIa,CAAC,CAAC;IACvB,EAAE,OAAOC,CAAA,EAAG;QACVL,YAAA,GAAeT,GAAA,CAAIa,CAAC,CAAC;IACvB;IAEA,IAAIH,UAAA,EAAY;QACd,OAAA,WAAA,OACEK,8NAAA,EAAC3B,sMAAA,EAAA;YACC4B,OAAA,EAAShB,GAAA,CAAIa,CAAC,CAAC;YACfI,UAAA,MAAYhC,kMAAA,EAAe;gBAAEsB,UAAA;gBAAYW,IAAA,EAAM;YAAS;;IAG9D;IAEA,OAAA,WAAA,OACEC,+NAAA,EAACjC,gNAAA,CAAMkC,QAAQ,EAAA;;8BACbL,8NAAA,EAAC,OAAA;gBAAIM,SAAA,EAAW,GAAGhC,eAAA,CAAA,OAAA,CAAwB;0BACzC,WAAA,OAAA0B,8NAAA,EAAC5B,iLAAA,EAAA;oBACCc,IAAA,EAAMA,IAAA;oBACNH,MAAA,EAAQA,MAAA;oBACRN,MAAA,EAAQA,MAAA;oBACRU,OAAA,EAASA,OAAA;oBACTH,WAAA,EAAaA,WAAA;oBACbN,YAAA,EAAcA,YAAA;oBACdW,IAAA,EAAMA;;;8BAGVW,8NAAA,EAAC,MAAA;0BAAIN;;;;AAGX","ignoreList":[]}},
    {"offset": {"line": 8777, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Root/attachViewActions.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Root/attachViewActions.ts"],"sourcesContent":["import type {\n  CustomComponent,\n  EditConfig,\n  SanitizedCollectionConfig,\n  SanitizedGlobalConfig,\n} from 'payload'\n\nexport function getViewActions({\n  editConfig,\n  viewKey,\n}: {\n  editConfig: EditConfig\n  viewKey: keyof EditConfig\n}): CustomComponent[] {\n  if (editConfig && viewKey in editConfig && 'actions' in editConfig[viewKey]) {\n    return editConfig[viewKey].actions ?? []\n  }\n\n  return []\n}\n\nexport function getSubViewActions({\n  collectionOrGlobal,\n  viewKeyArg,\n}: {\n  collectionOrGlobal: SanitizedCollectionConfig | SanitizedGlobalConfig\n  viewKeyArg?: keyof EditConfig\n}): CustomComponent[] {\n  if (collectionOrGlobal?.admin?.components?.views?.edit) {\n    let viewKey = viewKeyArg || 'default'\n    if ('root' in collectionOrGlobal.admin.components.views.edit) {\n      viewKey = 'root'\n    }\n\n    const actions = getViewActions({\n      editConfig: collectionOrGlobal.admin?.components?.views?.edit,\n      viewKey,\n    })\n\n    return actions\n  }\n\n  return []\n}\n"],"names":["getViewActions","editConfig","viewKey","actions","getSubViewActions","collectionOrGlobal","viewKeyArg","admin","components","views","edit"],"mappings":";;;;;;AAOO,SAASA,eAAe,EAC7BC,UAAU,EACVC,OAAAA,EAID;IACC,IAAID,UAAA,IAAcC,OAAA,IAAWD,UAAA,IAAc,aAAaA,UAAU,CAACC,OAAA,CAAQ,EAAE;QAC3E,OAAOD,UAAU,CAACC,OAAA,CAAQ,CAACC,OAAO,IAAI,EAAE;IAC1C;IAEA,OAAO,EAAE;AACX;AAEO,SAASC,kBAAkB,EAChCC,kBAAkB,EAClBC,UAAAA,EAID;IACC,IAAID,kBAAA,EAAoBE,KAAA,EAAOC,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAM;QACtD,IAAIR,OAAA,GAAUI,UAAA,IAAc;QAC5B,IAAI,UAAUD,kBAAA,CAAmBE,KAAK,CAACC,UAAU,CAACC,KAAK,CAACC,IAAI,EAAE;YAC5DR,OAAA,GAAU;QACZ;QAEA,MAAMC,OAAA,GAAUH,cAAA,CAAe;YAC7BC,UAAA,EAAYI,kBAAA,CAAmBE,KAAK,EAAEC,UAAA,EAAYC,KAAA,EAAOC,IAAA;YACzDR;QACF;QAEA,OAAOC,OAAA;IACT;IAEA,OAAO,EAAE;AACX","ignoreList":[]}},
    {"offset": {"line": 8807, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Root/getCustomViewByKey.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Root/getCustomViewByKey.ts"],"sourcesContent":["import type { AdminViewServerProps, PayloadComponent, SanitizedConfig } from 'payload'\n\nimport type { ViewFromConfig } from './getRouteData.js'\n\nexport const getCustomViewByKey = ({\n  config,\n  viewKey,\n}: {\n  config: SanitizedConfig\n  viewKey: string\n}): {\n  view: ViewFromConfig\n  viewKey: string\n} | null => {\n  const customViewComponent = config.admin.components?.views?.[viewKey]\n\n  if (!customViewComponent) {\n    return null\n  }\n\n  return {\n    view: {\n      payloadComponent: customViewComponent.Component as PayloadComponent<AdminViewServerProps>,\n    },\n    viewKey,\n  }\n}\n"],"names":["getCustomViewByKey","config","viewKey","customViewComponent","admin","components","views","view","payloadComponent","Component"],"mappings":";;;;AAIO,MAAMA,kBAAA,GAAqBA,CAAC,EACjCC,MAAM,EACNC,OAAAA,EAID;IAIC,MAAMC,mBAAA,GAAsBF,MAAA,CAAOG,KAAK,CAACC,UAAU,EAAEC,KAAA,EAAA,CAAQJ,OAAA,CAAQ;IAErE,IAAI,CAACC,mBAAA,EAAqB;QACxB,OAAO;IACT;IAEA,OAAO;QACLI,IAAA,EAAM;YACJC,gBAAA,EAAkBL,mBAAA,CAAoBM,SAAAA;QACxC;QACAP;IACF;AACF","ignoreList":[]}},
    {"offset": {"line": 8827, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Root/getDocumentViewInfo.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Root/getDocumentViewInfo.ts"],"sourcesContent":["import type { DocumentSubViewTypes, ViewTypes } from 'payload'\n\nexport function getDocumentViewInfo(segments: string[]): {\n  documentSubViewType?: DocumentSubViewTypes\n  viewType: ViewTypes\n} {\n  const [tabSegment, versionSegment] = segments\n\n  if (versionSegment) {\n    if (tabSegment === 'versions') {\n      return {\n        documentSubViewType: 'version',\n        viewType: 'version',\n      }\n    }\n  } else {\n    if (tabSegment === 'versions') {\n      return {\n        documentSubViewType: 'versions',\n        viewType: 'document',\n      }\n    } else if (tabSegment === 'api') {\n      return {\n        documentSubViewType: 'api',\n        viewType: 'document',\n      }\n    }\n  }\n\n  return {\n    documentSubViewType: 'default',\n    viewType: 'document',\n  }\n}\n"],"names":["getDocumentViewInfo","segments","tabSegment","versionSegment","documentSubViewType","viewType"],"mappings":";;;;AAEO,SAASA,oBAAoBC,QAAkB;IAIpD,MAAM,CAACC,UAAA,EAAYC,cAAA,CAAe,GAAGF,QAAA;IAErC,IAAIE,cAAA,EAAgB;QAClB,IAAID,UAAA,KAAe,YAAY;YAC7B,OAAO;gBACLE,mBAAA,EAAqB;gBACrBC,QAAA,EAAU;YACZ;QACF;IACF,OAAO;QACL,IAAIH,UAAA,KAAe,YAAY;YAC7B,OAAO;gBACLE,mBAAA,EAAqB;gBACrBC,QAAA,EAAU;YACZ;QACF,OAAO,IAAIH,UAAA,KAAe,OAAO;YAC/B,OAAO;gBACLE,mBAAA,EAAqB;gBACrBC,QAAA,EAAU;YACZ;QACF;IACF;IAEA,OAAO;QACLD,mBAAA,EAAqB;QACrBC,QAAA,EAAU;IACZ;AACF","ignoreList":[]}},
    {"offset": {"line": 8864, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Root/getRouteData.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Root/getRouteData.ts"],"sourcesContent":["import type {\n  AdminViewServerProps,\n  CollectionPreferences,\n  CollectionSlug,\n  CustomComponent,\n  DocumentSubViewTypes,\n  Payload,\n  PayloadComponent,\n  SanitizedCollectionConfig,\n  SanitizedConfig,\n  SanitizedGlobalConfig,\n  ViewTypes,\n} from 'payload'\nimport type React from 'react'\n\nimport { parseDocumentID } from 'payload'\nimport { formatAdminURL, isNumber } from 'payload/shared'\n\nimport { AccountView } from '../Account/index.js'\nimport { BrowseByFolder } from '../BrowseByFolder/index.js'\nimport { CollectionFolderView } from '../CollectionFolders/index.js'\nimport { TrashView } from '../CollectionTrash/index.js'\nimport { CreateFirstUserView } from '../CreateFirstUser/index.js'\nimport { DashboardView } from '../Dashboard/index.js'\nimport { DocumentView } from '../Document/index.js'\nimport { forgotPasswordBaseClass, ForgotPasswordView } from '../ForgotPassword/index.js'\nimport { ListView } from '../List/index.js'\nimport { loginBaseClass, LoginView } from '../Login/index.js'\nimport { LogoutInactivity, LogoutView } from '../Logout/index.js'\nimport { ResetPassword, resetPasswordBaseClass } from '../ResetPassword/index.js'\nimport { UnauthorizedView } from '../Unauthorized/index.js'\nimport { Verify, verifyBaseClass } from '../Verify/index.js'\nimport { getSubViewActions, getViewActions } from './attachViewActions.js'\nimport { getCustomViewByKey } from './getCustomViewByKey.js'\nimport { getCustomViewByRoute } from './getCustomViewByRoute.js'\nimport { getDocumentViewInfo } from './getDocumentViewInfo.js'\nimport { isPathMatchingRoute } from './isPathMatchingRoute.js'\n\nconst baseClasses = {\n  account: 'account',\n  folders: 'folders',\n  forgot: forgotPasswordBaseClass,\n  login: loginBaseClass,\n  reset: resetPasswordBaseClass,\n  verify: verifyBaseClass,\n}\n\ntype OneSegmentViews = {\n  [K in Exclude<keyof SanitizedConfig['admin']['routes'], 'reset'>]: React.FC<AdminViewServerProps>\n}\n\nexport type ViewFromConfig = {\n  Component?: React.FC<AdminViewServerProps>\n  payloadComponent?: PayloadComponent<AdminViewServerProps>\n}\n\nconst oneSegmentViews: OneSegmentViews = {\n  account: AccountView,\n  browseByFolder: BrowseByFolder,\n  createFirstUser: CreateFirstUserView,\n  forgot: ForgotPasswordView,\n  inactivity: LogoutInactivity,\n  login: LoginView,\n  logout: LogoutView,\n  unauthorized: UnauthorizedView,\n}\n\ntype GetRouteDataResult = {\n  browseByFolderSlugs: CollectionSlug[]\n  collectionConfig?: SanitizedCollectionConfig\n  DefaultView: ViewFromConfig\n  documentSubViewType?: DocumentSubViewTypes\n  globalConfig?: SanitizedGlobalConfig\n  routeParams: {\n    collection?: string\n    folderCollection?: string\n    folderID?: number | string\n    global?: string\n    id?: number | string\n    token?: string\n    versionID?: number | string\n  }\n  templateClassName: string\n  templateType: 'default' | 'minimal'\n  viewActions?: CustomComponent[]\n  viewType?: ViewTypes\n}\n\ntype GetRouteDataArgs = {\n  adminRoute: string\n  collectionConfig?: SanitizedCollectionConfig\n  /**\n   * User preferences for a collection.\n   *\n   * These preferences are normally undefined\n   * unless the user is on the list view and the\n   * collection is folder enabled.\n   */\n  collectionPreferences?: CollectionPreferences\n  currentRoute: string\n  globalConfig?: SanitizedGlobalConfig\n  payload: Payload\n  searchParams: {\n    [key: string]: string | string[]\n  }\n  segments: string[]\n}\n\nexport const getRouteData = ({\n  adminRoute,\n  collectionConfig,\n  collectionPreferences = undefined,\n  currentRoute,\n  globalConfig,\n  payload,\n  segments,\n}: GetRouteDataArgs): GetRouteDataResult => {\n  const { config } = payload\n  let ViewToRender: ViewFromConfig = null\n  let templateClassName: string\n  let templateType: 'default' | 'minimal' | undefined\n  let documentSubViewType: DocumentSubViewTypes\n  let viewType: ViewTypes\n  const routeParams: GetRouteDataResult['routeParams'] = {}\n\n  const [segmentOne, segmentTwo, segmentThree, segmentFour, segmentFive, segmentSix] = segments\n\n  const isBrowseByFolderEnabled = config.folders && config.folders.browseByFolder\n  const browseByFolderSlugs =\n    (isBrowseByFolderEnabled &&\n      config.collections.reduce((acc, { slug, folders }) => {\n        if (folders && folders.browseByFolder) {\n          return [...acc, slug]\n        }\n        return acc\n      }, [])) ||\n    []\n\n  const viewActions: CustomComponent[] = [...(config?.admin?.components?.actions || [])]\n\n  switch (segments.length) {\n    case 0: {\n      if (currentRoute === adminRoute) {\n        ViewToRender = {\n          Component: DashboardView,\n        }\n        templateClassName = 'dashboard'\n        templateType = 'default'\n        viewType = 'dashboard'\n      }\n      break\n    }\n    case 1: {\n      // users can override the default routes via `admin.routes` config\n      // i.e.{ admin: { routes: { logout: '/sign-out', inactivity: '/idle' }}}\n      let viewKey: keyof typeof oneSegmentViews\n\n      if (config.admin.routes) {\n        const matchedRoute = Object.entries(config.admin.routes).find(([, route]) => {\n          return isPathMatchingRoute({\n            currentRoute,\n            exact: true,\n            path: formatAdminURL({\n              adminRoute,\n              path: route,\n            }),\n          })\n        })\n\n        if (matchedRoute) {\n          viewKey = matchedRoute[0] as keyof typeof oneSegmentViews\n        }\n      }\n\n      // Check if a custom view is configured for this viewKey\n      // First try to get custom view by the known viewKey, then fallback to route matching\n      const customView =\n        (viewKey && getCustomViewByKey({ config, viewKey })) ||\n        getCustomViewByRoute({ config, currentRoute })\n\n      if (customView?.view?.payloadComponent || customView?.view?.Component) {\n        // User has configured a custom view (either overriding a built-in or a new custom view)\n        ViewToRender = customView.view\n\n        // If this custom view is overriding a built-in view (viewKey matches a built-in),\n        // use the built-in's template settings and viewType\n        if (viewKey && oneSegmentViews[viewKey]) {\n          viewType = viewKey as ViewTypes\n          templateClassName = baseClasses[viewKey] || viewKey\n          templateType = 'minimal'\n\n          if (viewKey === 'account') {\n            templateType = 'default'\n          }\n\n          if (isBrowseByFolderEnabled && viewKey === 'browseByFolder') {\n            templateType = 'default'\n            viewType = 'folders'\n          }\n        }\n      } else if (oneSegmentViews[viewKey]) {\n        // --> /account\n        // --> /create-first-user\n        // --> /browse-by-folder\n        // --> /forgot\n        // --> /login\n        // --> /logout\n        // --> /logout-inactivity\n        // --> /unauthorized\n\n        ViewToRender = {\n          Component: oneSegmentViews[viewKey],\n        }\n\n        viewType = viewKey as ViewTypes\n\n        templateClassName = baseClasses[viewKey]\n        templateType = 'minimal'\n\n        if (viewKey === 'account') {\n          templateType = 'default'\n        }\n\n        if (isBrowseByFolderEnabled && viewKey === 'browseByFolder') {\n          templateType = 'default'\n          viewType = 'folders'\n        }\n      }\n      break\n    }\n    case 2: {\n      if (`/${segmentOne}` === config.admin.routes.reset) {\n        // --> /reset/:token\n        ViewToRender = {\n          Component: ResetPassword,\n        }\n        templateClassName = baseClasses[segmentTwo]\n        templateType = 'minimal'\n        viewType = 'reset'\n      } else if (\n        isBrowseByFolderEnabled &&\n        `/${segmentOne}` === config.admin.routes.browseByFolder\n      ) {\n        // --> /browse-by-folder/:folderID\n        routeParams.folderID = segmentTwo\n\n        ViewToRender = {\n          Component: oneSegmentViews.browseByFolder,\n        }\n        templateClassName = baseClasses.folders\n        templateType = 'default'\n        viewType = 'folders'\n      } else if (collectionConfig) {\n        // --> /collections/:collectionSlug'\n        routeParams.collection = collectionConfig.slug\n\n        if (\n          collectionPreferences?.listViewType &&\n          collectionPreferences.listViewType === 'folders'\n        ) {\n          // Render folder view by default if set in preferences\n          ViewToRender = {\n            Component: CollectionFolderView,\n          }\n\n          templateClassName = `collection-folders`\n          templateType = 'default'\n          viewType = 'collection-folders'\n        } else {\n          ViewToRender = {\n            Component: ListView,\n          }\n\n          templateClassName = `${segmentTwo}-list`\n          templateType = 'default'\n          viewType = 'list'\n        }\n\n        viewActions.push(...(collectionConfig.admin.components?.views?.list?.actions || []))\n      } else if (globalConfig) {\n        // --> /globals/:globalSlug\n        routeParams.global = globalConfig.slug\n\n        ViewToRender = {\n          Component: DocumentView,\n        }\n\n        templateClassName = 'global-edit'\n        templateType = 'default'\n        viewType = 'document'\n\n        // add default view actions\n        viewActions.push(\n          ...getViewActions({\n            editConfig: globalConfig.admin?.components?.views?.edit,\n            viewKey: 'default',\n          }),\n        )\n      }\n      break\n    }\n    default:\n      if (segmentTwo === 'verify') {\n        // --> /:collectionSlug/verify/:token\n        routeParams.collection = segmentOne\n        routeParams.token = segmentThree\n\n        ViewToRender = {\n          Component: Verify,\n        }\n\n        templateClassName = 'verify'\n        templateType = 'minimal'\n        viewType = 'verify'\n      } else if (collectionConfig) {\n        routeParams.collection = collectionConfig.slug\n\n        if (segmentThree === 'trash' && typeof segmentFour === 'string') {\n          // --> /collections/:collectionSlug/trash/:id (read-only)\n          // --> /collections/:collectionSlug/trash/:id/api\n          // --> /collections/:collectionSlug/trash/:id/preview\n          // --> /collections/:collectionSlug/trash/:id/versions\n          // --> /collections/:collectionSlug/trash/:id/versions/:versionID\n          routeParams.id = segmentFour\n          routeParams.versionID = segmentSix\n\n          ViewToRender = {\n            Component: DocumentView,\n          }\n\n          templateClassName = `collection-default-edit`\n          templateType = 'default'\n\n          const viewInfo = getDocumentViewInfo([segmentFive, segmentSix])\n          viewType = viewInfo.viewType\n          documentSubViewType = viewInfo.documentSubViewType\n\n          viewActions.push(\n            ...getSubViewActions({\n              collectionOrGlobal: collectionConfig,\n              viewKeyArg: documentSubViewType,\n            }),\n          )\n        } else if (segmentThree === 'trash') {\n          // --> /collections/:collectionSlug/trash\n          ViewToRender = {\n            Component: TrashView,\n          }\n\n          templateClassName = `${segmentTwo}-trash`\n          templateType = 'default'\n          viewType = 'trash'\n\n          viewActions.push(...(collectionConfig.admin.components?.views?.list?.actions || []))\n        } else {\n          if (config.folders && segmentThree === config.folders.slug && collectionConfig.folders) {\n            // Collection Folder Views\n            // --> /collections/:collectionSlug/:folderCollectionSlug\n            // --> /collections/:collectionSlug/:folderCollectionSlug/:folderID\n            routeParams.folderCollection = segmentThree\n            routeParams.folderID = segmentFour\n\n            ViewToRender = {\n              Component: CollectionFolderView,\n            }\n\n            templateClassName = `collection-folders`\n            templateType = 'default'\n            viewType = 'collection-folders'\n\n            viewActions.push(...(collectionConfig.admin.components?.views?.list?.actions || []))\n          } else {\n            // Collection Edit Views\n            // --> /collections/:collectionSlug/create\n            // --> /collections/:collectionSlug/:id\n            // --> /collections/:collectionSlug/:id/api\n            // --> /collections/:collectionSlug/:id/versions\n            // --> /collections/:collectionSlug/:id/versions/:versionID\n            routeParams.id = segmentThree === 'create' ? undefined : segmentThree\n            routeParams.versionID = segmentFive\n\n            ViewToRender = {\n              Component: DocumentView,\n            }\n\n            templateClassName = `collection-default-edit`\n            templateType = 'default'\n\n            const viewInfo = getDocumentViewInfo([segmentFour, segmentFive])\n            viewType = viewInfo.viewType\n            documentSubViewType = viewInfo.documentSubViewType\n\n            viewActions.push(\n              ...getSubViewActions({\n                collectionOrGlobal: collectionConfig,\n                viewKeyArg: documentSubViewType,\n              }),\n            )\n          }\n        }\n      } else if (globalConfig) {\n        // Global Edit Views\n        // --> /globals/:globalSlug/versions\n        // --> /globals/:globalSlug/versions/:versionID\n        // --> /globals/:globalSlug/api\n        routeParams.global = globalConfig.slug\n        routeParams.versionID = segmentFour\n\n        ViewToRender = {\n          Component: DocumentView,\n        }\n\n        templateClassName = `global-edit`\n        templateType = 'default'\n\n        const viewInfo = getDocumentViewInfo([segmentThree, segmentFour])\n        viewType = viewInfo.viewType\n        documentSubViewType = viewInfo.documentSubViewType\n\n        viewActions.push(\n          ...getSubViewActions({\n            collectionOrGlobal: globalConfig,\n            viewKeyArg: documentSubViewType,\n          }),\n        )\n      }\n      break\n  }\n\n  if (!ViewToRender) {\n    ViewToRender = getCustomViewByRoute({ config, currentRoute })?.view\n  }\n\n  if (collectionConfig) {\n    if (routeParams.id) {\n      routeParams.id = parseDocumentID({\n        id: routeParams.id,\n        collectionSlug: collectionConfig.slug,\n        payload,\n      })\n    }\n\n    if (routeParams.versionID) {\n      routeParams.versionID = parseDocumentID({\n        id: routeParams.versionID,\n        collectionSlug: collectionConfig.slug,\n        payload,\n      })\n    }\n  }\n\n  if (config.folders && routeParams.folderID) {\n    routeParams.folderID = parseDocumentID({\n      id: routeParams.folderID,\n      collectionSlug: config.folders.slug,\n      payload,\n    })\n  }\n\n  if (globalConfig && routeParams.versionID) {\n    routeParams.versionID =\n      payload.db.defaultIDType === 'number' && isNumber(routeParams.versionID)\n        ? Number(routeParams.versionID)\n        : routeParams.versionID\n  }\n\n  if (viewActions.length) {\n    viewActions.reverse()\n  }\n\n  return {\n    browseByFolderSlugs,\n    collectionConfig,\n    DefaultView: ViewToRender,\n    documentSubViewType,\n    globalConfig,\n    routeParams,\n    templateClassName,\n    templateType,\n    viewActions: viewActions.length ? viewActions : undefined,\n    viewType,\n  }\n}\n"],"names":["parseDocumentID","formatAdminURL","isNumber","AccountView","BrowseByFolder","CollectionFolderView","TrashView","CreateFirstUserView","DashboardView","DocumentView","forgotPasswordBaseClass","ForgotPasswordView","ListView","loginBaseClass","LoginView","LogoutInactivity","LogoutView","ResetPassword","resetPasswordBaseClass","UnauthorizedView","Verify","verifyBaseClass","getSubViewActions","getViewActions","getCustomViewByKey","getCustomViewByRoute","getDocumentViewInfo","isPathMatchingRoute","baseClasses","account","folders","forgot","login","reset","verify","oneSegmentViews","browseByFolder","createFirstUser","inactivity","logout","unauthorized","getRouteData","adminRoute","collectionConfig","collectionPreferences","undefined","currentRoute","globalConfig","payload","segments","config","ViewToRender","templateClassName","templateType","documentSubViewType","viewType","routeParams","segmentOne","segmentTwo","segmentThree","segmentFour","segmentFive","segmentSix","isBrowseByFolderEnabled","browseByFolderSlugs","collections","reduce","acc","slug","viewActions","admin","components","actions","length","Component","viewKey","routes","matchedRoute","Object","entries","find","route","exact","path","customView","view","payloadComponent","folderID","collection","listViewType","push","views","list","global","editConfig","edit","token","id","versionID","viewInfo","collectionOrGlobal","viewKeyArg","folderCollection","collectionSlug","db","defaultIDType","Number","reverse","DefaultView"],"mappings":";;;;AAeA,SAASA,eAAe,QAAQ;AAChC,SAASC,cAAc,EAAEC,QAAQ,QAAQ;AAEzC,SAASC,WAAW,QAAQ;AAC5B,SAASC,cAAc,QAAQ;AAC/B,SAASC,oBAAoB,QAAQ;AACrC,SAASC,SAAS,QAAQ;AAC1B,SAASC,mBAAmB,QAAQ;AACpC,SAASC,aAAa,QAAQ;AAC9B,SAASC,YAAY,QAAQ;AAC7B,SAASC,uBAAuB,EAAEC,kBAAkB,QAAQ;AAC5D,SAASC,QAAQ,QAAQ;AACzB,SAASC,cAAc,EAAEC,SAAS,QAAQ;AAC1C,SAASC,gBAAgB,EAAEC,UAAU,QAAQ;AAC7C,SAASC,aAAa,EAAEC,sBAAsB,QAAQ;AACtD,SAASC,gBAAgB,QAAQ;AACjC,SAASC,MAAM,EAAEC,eAAe,QAAQ;AACxC,SAASC,iBAAiB,EAAEC,cAAc,QAAQ;AAClD,SAASC,kBAAkB,QAAQ;AACnC,SAASC,oBAAoB,QAAQ;AACrC,SAASC,mBAAmB,QAAQ;AACpC,SAASC,mBAAmB,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEpC,MAAMC,WAAA,GAAc;IAClBC,OAAA,EAAS;IACTC,OAAA,EAAS;IACTC,MAAA,EAAQrB,2MAAA;IACRsB,KAAA,EAAOnB,yLAAA;IACPoB,KAAA,EAAOf,yMAAA;IACPgB,MAAA,EAAQb,2LAAAA;AACV;AAWA,MAAMc,eAAA,GAAmC;IACvCN,OAAA,EAAS1B,wLAAA;IACTiC,cAAA,EAAgBhC,kMAAA;IAChBiC,eAAA,EAAiB9B,wMAAA;IACjBwB,MAAA,EAAQpB,sMAAA;IACR2B,UAAA,EAAYvB,4LAAA;IACZiB,KAAA,EAAOlB,oLAAA;IACPyB,MAAA,EAAQvB,sLAAA;IACRwB,YAAA,EAAcrB,kMAAAA;AAChB;AA2CO,MAAMsB,YAAA,GAAeA,CAAC,EAC3BC,UAAU,EACVC,gBAAgB,EAChBC,qBAAA,GAAwBC,SAAS,EACjCC,YAAY,EACZC,YAAY,EACZC,OAAO,EACPC,QAAAA,EACiB;IACjB,MAAM,EAAEC,MAAAA,EAAQ,GAAGF,OAAA;IACnB,IAAIG,YAAA,GAA+B;IACnC,IAAIC,iBAAA;IACJ,IAAIC,YAAA;IACJ,IAAIC,mBAAA;IACJ,IAAIC,QAAA;IACJ,MAAMC,WAAA,GAAiD,CAAC;IAExD,MAAM,CAACC,UAAA,EAAYC,UAAA,EAAYC,YAAA,EAAcC,WAAA,EAAaC,WAAA,EAAaC,UAAA,CAAW,GAAGb,QAAA;IAErF,MAAMc,uBAAA,GAA0Bb,MAAA,CAAOpB,OAAO,IAAIoB,MAAA,CAAOpB,OAAO,CAACM,cAAc;IAC/E,MAAM4B,mBAAA,GACJD,uBAAC,IACCb,MAAA,CAAOe,WAAW,CAACC,MAAM,CAAC,CAACC,GAAA,EAAK,EAAEC,IAAI,EAAEtC,OAAAA,EAAS;QAC/C,IAAIA,OAAA,IAAWA,OAAA,CAAQM,cAAc,EAAE;YACrC,OAAO,C;mBAAI+B,GAAA;gBAAKC,IAAA;aAAK;QACvB;QACA,OAAOD,GAAA;IACT,GAAG,EAAE,KACP,EAAE;IAEJ,MAAME,WAAA,GAAiC,C;WAAKnB,MAAA,EAAQoB,KAAA,EAAOC,UAAA,EAAYC,OAAA,IAAW,EAAE;KAAE;IAEtF,OAAQvB,QAAA,CAASwB,MAAM;QACrB,KAAK;YAAG;gBACN,IAAI3B,YAAA,KAAiBJ,UAAA,EAAY;oBAC/BS,YAAA,GAAe;wBACbuB,SAAA,EAAWlE,4LAAAA;oBACb;oBACA4C,iBAAA,GAAoB;oBACpBC,YAAA,GAAe;oBACfE,QAAA,GAAW;gBACb;gBACA;YACF;QACA,KAAK;YAAG;gBACN,kEAAA;gBACA,wEAAA;gBACA,IAAIoB,OAAA;gBAEJ,IAAIzB,MAAA,CAAOoB,KAAK,CAACM,MAAM,EAAE;oBACvB,MAAMC,YAAA,GAAeC,MAAA,CAAOC,OAAO,CAAC7B,MAAA,CAAOoB,KAAK,CAACM,MAAM,EAAEI,IAAI,CAAC,CAAC,GAAGC,KAAA,CAAM;wBACtE,WAAOtD,2MAAA,EAAoB;4BACzBmB,YAAA;4BACAoC,KAAA,EAAO;4BACPC,IAAA,MAAMlF,kMAAA,EAAe;gCACnByC,UAAA;gCACAyC,IAAA,EAAMF;4BACR;wBACF;oBACF;oBAEA,IAAIJ,YAAA,EAAc;wBAChBF,OAAA,GAAUE,YAAY,CAAC,EAAE;oBAC3B;gBACF;gBAEA,wDAAA;gBACA,qFAAA;gBACA,MAAMO,UAAA,GACJT,OAAC,QAAWnD,yMAAA,EAAmB;oBAAE0B,MAAA;oBAAQyB;gBAAQ,UACjDlD,6MAAA,EAAqB;oBAAEyB,MAAA;oBAAQJ;gBAAa;gBAE9C,IAAIsC,UAAA,EAAYC,IAAA,EAAMC,gBAAA,IAAoBF,UAAA,EAAYC,IAAA,EAAMX,SAAA,EAAW;oBACrE,wFAAA;oBACAvB,YAAA,GAAeiC,UAAA,CAAWC,IAAI;oBAE9B,kFAAA;oBACA,oDAAA;oBACA,IAAIV,OAAA,IAAWxC,eAAe,CAACwC,OAAA,CAAQ,EAAE;wBACvCpB,QAAA,GAAWoB,OAAA;wBACXvB,iBAAA,GAAoBxB,WAAW,CAAC+C,OAAA,CAAQ,IAAIA,OAAA;wBAC5CtB,YAAA,GAAe;wBAEf,IAAIsB,OAAA,KAAY,WAAW;4BACzBtB,YAAA,GAAe;wBACjB;wBAEA,IAAIU,uBAAA,IAA2BY,OAAA,KAAY,kBAAkB;4BAC3DtB,YAAA,GAAe;4BACfE,QAAA,GAAW;wBACb;oBACF;gBACF,OAAO,IAAIpB,eAAe,CAACwC,OAAA,CAAQ,EAAE;oBACnC,eAAA;oBACA,yBAAA;oBACA,wBAAA;oBACA,cAAA;oBACA,aAAA;oBACA,cAAA;oBACA,yBAAA;oBACA,oBAAA;oBAEAxB,YAAA,GAAe;wBACbuB,SAAA,EAAWvC,eAAe,CAACwC,OAAA,CAAA;oBAC7B;oBAEApB,QAAA,GAAWoB,OAAA;oBAEXvB,iBAAA,GAAoBxB,WAAW,CAAC+C,OAAA,CAAQ;oBACxCtB,YAAA,GAAe;oBAEf,IAAIsB,OAAA,KAAY,WAAW;wBACzBtB,YAAA,GAAe;oBACjB;oBAEA,IAAIU,uBAAA,IAA2BY,OAAA,KAAY,kBAAkB;wBAC3DtB,YAAA,GAAe;wBACfE,QAAA,GAAW;oBACb;gBACF;gBACA;YACF;QACA,KAAK;YAAG;gBACN,IAAI,CAAA,CAAA,EAAIE,UAAA,EAAY,KAAKP,MAAA,CAAOoB,KAAK,CAACM,MAAM,CAAC3C,KAAK,EAAE;oBAClD,oBAAA;oBACAkB,YAAA,GAAe;wBACbuB,SAAA,EAAWzD,gMAAAA;oBACb;oBACAmC,iBAAA,GAAoBxB,WAAW,CAAC8B,UAAA,CAAW;oBAC3CL,YAAA,GAAe;oBACfE,QAAA,GAAW;gBACb,OAAO,IACLQ,uBAAA,IACA,CAAA,CAAA,EAAIN,UAAA,EAAY,KAAKP,MAAA,CAAOoB,KAAK,CAACM,MAAM,CAACxC,cAAc,EACvD;oBACA,kCAAA;oBACAoB,WAAA,CAAY+B,QAAQ,GAAG7B,UAAA;oBAEvBP,YAAA,GAAe;wBACbuB,SAAA,EAAWvC,eAAA,CAAgBC,cAAAA;oBAC7B;oBACAgB,iBAAA,GAAoBxB,WAAA,CAAYE,OAAO;oBACvCuB,YAAA,GAAe;oBACfE,QAAA,GAAW;gBACb,OAAO,IAAIZ,gBAAA,EAAkB;oBAC3B,oCAAA;oBACAa,WAAA,CAAYgC,UAAU,GAAG7C,gBAAA,CAAiByB,IAAI;oBAE9C,IACExB,qBAAA,EAAuB6C,YAAA,IACvB7C,qBAAA,CAAsB6C,YAAY,KAAK,WACvC;wBACA,sDAAA;wBACAtC,YAAA,GAAe;4BACbuB,SAAA,EAAWrE,2MAAAA;wBACb;wBAEA+C,iBAAA,GAAoB,CAAA,kBAAA,CAAoB;wBACxCC,YAAA,GAAe;wBACfE,QAAA,GAAW;oBACb,OAAO;wBACLJ,YAAA,GAAe;4BACbuB,SAAA,EAAW9D,kLAAAA;wBACb;wBAEAwC,iBAAA,GAAoB,GAAGM,UAAA,CAAA,KAAA,CAAiB;wBACxCL,YAAA,GAAe;wBACfE,QAAA,GAAW;oBACb;oBAEAc,WAAA,CAAYqB,IAAI,IAAK/C,gBAAA,CAAiB2B,KAAK,CAACC,UAAU,EAAEoB,KAAA,EAAOC,IAAA,EAAMpB,OAAA,IAAW,EAAE;gBACpF,OAAO,IAAIzB,YAAA,EAAc;oBACvB,2BAAA;oBACAS,WAAA,CAAYqC,MAAM,GAAG9C,YAAA,CAAaqB,IAAI;oBAEtCjB,YAAA,GAAe;wBACbuB,SAAA,EAAWjE,0LAAAA;oBACb;oBAEA2C,iBAAA,GAAoB;oBACpBC,YAAA,GAAe;oBACfE,QAAA,GAAW;oBAEX,2BAAA;oBACAc,WAAA,CAAYqB,IAAI,QACXnE,oMAAA,EAAe;wBAChBuE,UAAA,EAAY/C,YAAA,CAAauB,KAAK,EAAEC,UAAA,EAAYoB,KAAA,EAAOI,IAAA;wBACnDpB,OAAA,EAAS;oBACX;gBAEJ;gBACA;YACF;QACA;YACE,IAAIjB,UAAA,KAAe,UAAU;gBAC3B,qCAAA;gBACAF,WAAA,CAAYgC,UAAU,GAAG/B,UAAA;gBACzBD,WAAA,CAAYwC,KAAK,GAAGrC,YAAA;gBAEpBR,YAAA,GAAe;oBACbuB,SAAA,EAAWtD,kLAAAA;gBACb;gBAEAgC,iBAAA,GAAoB;gBACpBC,YAAA,GAAe;gBACfE,QAAA,GAAW;YACb,OAAO,IAAIZ,gBAAA,EAAkB;gBAC3Ba,WAAA,CAAYgC,UAAU,GAAG7C,gBAAA,CAAiByB,IAAI;gBAE9C,IAAIT,YAAA,KAAiB,WAAW,OAAOC,WAAA,KAAgB,UAAU;oBAC/D,yDAAA;oBACA,iDAAA;oBACA,qDAAA;oBACA,sDAAA;oBACA,iEAAA;oBACAJ,WAAA,CAAYyC,EAAE,GAAGrC,WAAA;oBACjBJ,WAAA,CAAY0C,SAAS,GAAGpC,UAAA;oBAExBX,YAAA,GAAe;wBACbuB,SAAA,EAAWjE,0LAAAA;oBACb;oBAEA2C,iBAAA,GAAoB,CAAA,uBAAA,CAAyB;oBAC7CC,YAAA,GAAe;oBAEf,MAAM8C,QAAA,OAAWzE,2MAAA,EAAoB;wBAACmC,WAAA;wBAAaC,UAAA;qBAAW;oBAC9DP,QAAA,GAAW4C,QAAA,CAAS5C,QAAQ;oBAC5BD,mBAAA,GAAsB6C,QAAA,CAAS7C,mBAAmB;oBAElDe,WAAA,CAAYqB,IAAI,QACXpE,uMAAA,EAAkB;wBACnB8E,kBAAA,EAAoBzD,gBAAA;wBACpB0D,UAAA,EAAY/C;oBACd;gBAEJ,OAAO,IAAIK,YAAA,KAAiB,SAAS;oBACnC,yCAAA;oBACAR,YAAA,GAAe;wBACbuB,SAAA,EAAWpE,8LAAAA;oBACb;oBAEA8C,iBAAA,GAAoB,GAAGM,UAAA,CAAA,MAAA,CAAkB;oBACzCL,YAAA,GAAe;oBACfE,QAAA,GAAW;oBAEXc,WAAA,CAAYqB,IAAI,IAAK/C,gBAAA,CAAiB2B,KAAK,CAACC,UAAU,EAAEoB,KAAA,EAAOC,IAAA,EAAMpB,OAAA,IAAW,EAAE;gBACpF,OAAO;oBACL,IAAItB,MAAA,CAAOpB,OAAO,IAAI6B,YAAA,KAAiBT,MAAA,CAAOpB,OAAO,CAACsC,IAAI,IAAIzB,gBAAA,CAAiBb,OAAO,EAAE;wBACtF,0BAAA;wBACA,yDAAA;wBACA,mEAAA;wBACA0B,WAAA,CAAY8C,gBAAgB,GAAG3C,YAAA;wBAC/BH,WAAA,CAAY+B,QAAQ,GAAG3B,WAAA;wBAEvBT,YAAA,GAAe;4BACbuB,SAAA,EAAWrE,2MAAAA;wBACb;wBAEA+C,iBAAA,GAAoB,CAAA,kBAAA,CAAoB;wBACxCC,YAAA,GAAe;wBACfE,QAAA,GAAW;wBAEXc,WAAA,CAAYqB,IAAI,IAAK/C,gBAAA,CAAiB2B,KAAK,CAACC,UAAU,EAAEoB,KAAA,EAAOC,IAAA,EAAMpB,OAAA,IAAW,EAAE;oBACpF,OAAO;wBACL,wBAAA;wBACA,0CAAA;wBACA,uCAAA;wBACA,2CAAA;wBACA,gDAAA;wBACA,2DAAA;wBACAhB,WAAA,CAAYyC,EAAE,GAAGtC,YAAA,KAAiB,WAAWd,SAAA,GAAYc,YAAA;wBACzDH,WAAA,CAAY0C,SAAS,GAAGrC,WAAA;wBAExBV,YAAA,GAAe;4BACbuB,SAAA,EAAWjE,0LAAAA;wBACb;wBAEA2C,iBAAA,GAAoB,CAAA,uBAAA,CAAyB;wBAC7CC,YAAA,GAAe;wBAEf,MAAM8C,QAAA,OAAWzE,2MAAA,EAAoB;4BAACkC,WAAA;4BAAaC,WAAA;yBAAY;wBAC/DN,QAAA,GAAW4C,QAAA,CAAS5C,QAAQ;wBAC5BD,mBAAA,GAAsB6C,QAAA,CAAS7C,mBAAmB;wBAElDe,WAAA,CAAYqB,IAAI,QACXpE,uMAAA,EAAkB;4BACnB8E,kBAAA,EAAoBzD,gBAAA;4BACpB0D,UAAA,EAAY/C;wBACd;oBAEJ;gBACF;YACF,OAAO,IAAIP,YAAA,EAAc;gBACvB,oBAAA;gBACA,oCAAA;gBACA,+CAAA;gBACA,+BAAA;gBACAS,WAAA,CAAYqC,MAAM,GAAG9C,YAAA,CAAaqB,IAAI;gBACtCZ,WAAA,CAAY0C,SAAS,GAAGtC,WAAA;gBAExBT,YAAA,GAAe;oBACbuB,SAAA,EAAWjE,0LAAAA;gBACb;gBAEA2C,iBAAA,GAAoB,CAAA,WAAA,CAAa;gBACjCC,YAAA,GAAe;gBAEf,MAAM8C,QAAA,OAAWzE,2MAAA,EAAoB;oBAACiC,YAAA;oBAAcC,WAAA;iBAAY;gBAChEL,QAAA,GAAW4C,QAAA,CAAS5C,QAAQ;gBAC5BD,mBAAA,GAAsB6C,QAAA,CAAS7C,mBAAmB;gBAElDe,WAAA,CAAYqB,IAAI,QACXpE,uMAAA,EAAkB;oBACnB8E,kBAAA,EAAoBrD,YAAA;oBACpBsD,UAAA,EAAY/C;gBACd;YAEJ;YACA;IACJ;IAEA,IAAI,CAACH,YAAA,EAAc;QACjBA,YAAA,OAAe1B,6MAAA,EAAqB;YAAEyB,MAAA;YAAQJ;QAAa,IAAIuC,IAAA;IACjE;IAEA,IAAI1C,gBAAA,EAAkB;QACpB,IAAIa,WAAA,CAAYyC,EAAE,EAAE;YAClBzC,WAAA,CAAYyC,EAAE,OAAGjG,+KAAA,EAAgB;gBAC/BiG,EAAA,EAAIzC,WAAA,CAAYyC,EAAE;gBAClBM,cAAA,EAAgB5D,gBAAA,CAAiByB,IAAI;gBACrCpB;YACF;QACF;QAEA,IAAIQ,WAAA,CAAY0C,SAAS,EAAE;YACzB1C,WAAA,CAAY0C,SAAS,OAAGlG,+KAAA,EAAgB;gBACtCiG,EAAA,EAAIzC,WAAA,CAAY0C,SAAS;gBACzBK,cAAA,EAAgB5D,gBAAA,CAAiByB,IAAI;gBACrCpB;YACF;QACF;IACF;IAEA,IAAIE,MAAA,CAAOpB,OAAO,IAAI0B,WAAA,CAAY+B,QAAQ,EAAE;QAC1C/B,WAAA,CAAY+B,QAAQ,OAAGvF,+KAAA,EAAgB;YACrCiG,EAAA,EAAIzC,WAAA,CAAY+B,QAAQ;YACxBgB,cAAA,EAAgBrD,MAAA,CAAOpB,OAAO,CAACsC,IAAI;YACnCpB;QACF;IACF;IAEA,IAAID,YAAA,IAAgBS,WAAA,CAAY0C,SAAS,EAAE;QACzC1C,WAAA,CAAY0C,SAAS,GACnBlD,OAAA,CAAQwD,EAAE,CAACC,aAAa,KAAK,gBAAYvG,4LAAA,EAASsD,WAAA,CAAY0C,SAAS,IACnEQ,MAAA,CAAOlD,WAAA,CAAY0C,SAAS,IAC5B1C,WAAA,CAAY0C,SAAS;IAC7B;IAEA,IAAI7B,WAAA,CAAYI,MAAM,EAAE;QACtBJ,WAAA,CAAYsC,OAAO;IACrB;IAEA,OAAO;QACL3C,mBAAA;QACArB,gBAAA;QACAiE,WAAA,EAAazD,YAAA;QACbG,mBAAA;QACAP,YAAA;QACAS,WAAA;QACAJ,iBAAA;QACAC,YAAA;QACAgB,WAAA,EAAaA,WAAA,CAAYI,MAAM,GAAGJ,WAAA,GAAcxB,SAAA;QAChDU;IACF;AACF","ignoreList":[]}},
    {"offset": {"line": 9273, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Root/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Root/index.tsx"],"sourcesContent":["import type { I18nClient } from '@payloadcms/translations'\nimport type { Metadata } from 'next'\nimport type {\n  AdminViewClientProps,\n  AdminViewServerPropsOnly,\n  CollectionPreferences,\n  ImportMap,\n  SanitizedCollectionConfig,\n  SanitizedConfig,\n  SanitizedGlobalConfig,\n} from 'payload'\n\nimport { PageConfigProvider } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { getVisibleEntities } from '@payloadcms/ui/shared'\nimport { getClientConfig } from '@payloadcms/ui/utilities/getClientConfig'\nimport { notFound, redirect } from 'next/navigation.js'\nimport { applyLocaleFiltering, formatAdminURL } from 'payload/shared'\nimport * as qs from 'qs-esm'\nimport React from 'react'\n\nimport { DefaultTemplate } from '../../templates/Default/index.js'\nimport { MinimalTemplate } from '../../templates/Minimal/index.js'\nimport { getPreferences } from '../../utilities/getPreferences.js'\nimport { handleAuthRedirect } from '../../utilities/handleAuthRedirect.js'\nimport { initReq } from '../../utilities/initReq.js'\nimport { isCustomAdminView } from '../../utilities/isCustomAdminView.js'\nimport { isPublicAdminRoute } from '../../utilities/isPublicAdminRoute.js'\nimport { getCustomViewByRoute } from './getCustomViewByRoute.js'\nimport { getRouteData } from './getRouteData.js'\n\nexport type GenerateViewMetadata = (args: {\n  config: SanitizedConfig\n  i18n: I18nClient\n  isEditing?: boolean\n  params?: { [key: string]: string | string[] }\n}) => Promise<Metadata>\n\nexport const RootPage = async ({\n  config: configPromise,\n  importMap,\n  params: paramsPromise,\n  searchParams: searchParamsPromise,\n}: {\n  readonly config: Promise<SanitizedConfig>\n  readonly importMap: ImportMap\n  readonly params: Promise<{\n    segments: string[]\n  }>\n  readonly searchParams: Promise<{\n    [key: string]: string | string[]\n  }>\n}) => {\n  const config = await configPromise\n\n  const {\n    admin: {\n      routes: { createFirstUser: _createFirstUserRoute },\n      user: userSlug,\n    },\n    routes: { admin: adminRoute },\n  } = config\n\n  const params = await paramsPromise\n\n  const currentRoute = formatAdminURL({\n    adminRoute,\n    path: Array.isArray(params.segments) ? `/${params.segments.join('/')}` : null,\n  })\n\n  const segments = Array.isArray(params.segments) ? params.segments : []\n  const isCollectionRoute = segments[0] === 'collections'\n  const isGlobalRoute = segments[0] === 'globals'\n  let collectionConfig: SanitizedCollectionConfig = undefined\n  let globalConfig: SanitizedGlobalConfig = undefined\n\n  const searchParams = await searchParamsPromise\n\n  // Redirect `${adminRoute}/collections` to `${adminRoute}`\n  if (isCollectionRoute) {\n    if (segments.length === 1) {\n      const { viewKey } = getCustomViewByRoute({\n        config,\n        currentRoute: '/collections',\n      })\n\n      // Only redirect if there's NO custom view configured for /collections\n      if (!viewKey) {\n        redirect(adminRoute)\n      }\n    }\n\n    if (segments[1]) {\n      collectionConfig = config.collections.find(({ slug }) => slug === segments[1])\n    }\n  }\n\n  // Redirect `${adminRoute}/globals` to `${adminRoute}`\n  if (isGlobalRoute) {\n    if (segments.length === 1) {\n      const { viewKey } = getCustomViewByRoute({\n        config,\n        currentRoute: '/globals',\n      })\n\n      // Only redirect if there's NO custom view configured for /globals\n      if (!viewKey) {\n        redirect(adminRoute)\n      }\n    }\n\n    if (segments[1]) {\n      globalConfig = config.globals.find(({ slug }) => slug === segments[1])\n    }\n  }\n\n  if ((isCollectionRoute && !collectionConfig) || (isGlobalRoute && !globalConfig)) {\n    return notFound()\n  }\n\n  const queryString = `${qs.stringify(searchParams ?? {}, { addQueryPrefix: true })}`\n\n  const {\n    cookies,\n    locale,\n    permissions,\n    req,\n    req: { payload },\n  } = await initReq({\n    configPromise: config,\n    importMap,\n    key: 'initPage',\n    overrides: {\n      fallbackLocale: false,\n      req: {\n        query: qs.parse(queryString, {\n          depth: 10,\n          ignoreQueryPrefix: true,\n        }),\n      },\n      // intentionally omit `serverURL` to keep URL relative\n      urlSuffix: `${currentRoute}${searchParams ? queryString : ''}`,\n    },\n  })\n\n  if (\n    !permissions.canAccessAdmin &&\n    !isPublicAdminRoute({ adminRoute, config: payload.config, route: currentRoute }) &&\n    !isCustomAdminView({ adminRoute, config: payload.config, route: currentRoute })\n  ) {\n    redirect(\n      handleAuthRedirect({\n        config: payload.config,\n        route: currentRoute,\n        searchParams,\n        user: req.user,\n      }),\n    )\n  }\n\n  let collectionPreferences: CollectionPreferences = undefined\n\n  if (collectionConfig && segments.length === 2) {\n    if (config.folders && collectionConfig.folders && segments[1] !== config.folders.slug) {\n      await getPreferences<CollectionPreferences>(\n        `collection-${collectionConfig.slug}`,\n        req.payload,\n        req.user.id,\n        config.admin.user,\n      ).then((res) => {\n        if (res && res.value) {\n          collectionPreferences = res.value\n        }\n      })\n    }\n  }\n\n  const {\n    browseByFolderSlugs,\n    DefaultView,\n    documentSubViewType,\n    routeParams,\n    templateClassName,\n    templateType,\n    viewActions,\n    viewType,\n  } = getRouteData({\n    adminRoute,\n    collectionConfig,\n    collectionPreferences,\n    currentRoute,\n    globalConfig,\n    payload,\n    searchParams,\n    segments,\n  })\n\n  req.routeParams = routeParams\n\n  const dbHasUser =\n    req.user ||\n    (await req.payload.db\n      .findOne({\n        collection: userSlug,\n        req,\n      })\n      ?.then((doc) => !!doc))\n\n  /**\n   * This function is responsible for handling the case where the view is not found.\n   * The current route did not match any default views or custom route views.\n   */\n  if (!DefaultView?.Component && !DefaultView?.payloadComponent) {\n    if (req?.user) {\n      notFound()\n    }\n\n    if (dbHasUser) {\n      redirect(adminRoute)\n    }\n  }\n\n  const usersCollection = config.collections.find(({ slug }) => slug === userSlug)\n  const disableLocalStrategy = usersCollection?.auth?.disableLocalStrategy\n\n  const createFirstUserRoute = formatAdminURL({\n    adminRoute,\n    path: _createFirstUserRoute,\n  })\n\n  if (disableLocalStrategy && currentRoute === createFirstUserRoute) {\n    redirect(adminRoute)\n  }\n\n  if (!dbHasUser && currentRoute !== createFirstUserRoute && !disableLocalStrategy) {\n    redirect(createFirstUserRoute)\n  }\n\n  if (dbHasUser && currentRoute === createFirstUserRoute) {\n    redirect(adminRoute)\n  }\n\n  if (!DefaultView?.Component && !DefaultView?.payloadComponent && !dbHasUser) {\n    redirect(adminRoute)\n  }\n\n  const clientConfig = getClientConfig({\n    config,\n    i18n: req.i18n,\n    importMap,\n    user: viewType === 'createFirstUser' ? true : req.user,\n  })\n\n  await applyLocaleFiltering({ clientConfig, config, req })\n\n  // Ensure locale on req is still valid after filtering locales\n  if (\n    clientConfig.localization &&\n    req.locale &&\n    !clientConfig.localization.localeCodes.includes(req.locale)\n  ) {\n    redirect(\n      `${currentRoute}${qs.stringify(\n        {\n          ...searchParams,\n          locale: clientConfig.localization.localeCodes.includes(\n            clientConfig.localization.defaultLocale,\n          )\n            ? clientConfig.localization.defaultLocale\n            : clientConfig.localization.localeCodes[0],\n        },\n        { addQueryPrefix: true },\n      )}`,\n    )\n  }\n\n  const visibleEntities = getVisibleEntities({ req })\n\n  const folderID = routeParams.folderID\n\n  const RenderedView = RenderServerComponent({\n    clientProps: {\n      browseByFolderSlugs,\n      clientConfig,\n      documentSubViewType,\n      viewType,\n    } satisfies AdminViewClientProps,\n    Component: DefaultView.payloadComponent,\n    Fallback: DefaultView.Component,\n    importMap,\n    serverProps: {\n      clientConfig,\n      collectionConfig,\n      docID: routeParams.id,\n      folderID,\n      globalConfig,\n      i18n: req.i18n,\n      importMap,\n      initPageResult: {\n        collectionConfig,\n        cookies,\n        docID: routeParams.id,\n        globalConfig,\n        languageOptions: Object.entries(req.payload.config.i18n.supportedLanguages || {}).reduce(\n          (acc, [language, languageConfig]) => {\n            if (Object.keys(req.payload.config.i18n.supportedLanguages).includes(language)) {\n              acc.push({\n                label: languageConfig.translations.general.thisLanguage,\n                value: language,\n              })\n            }\n\n            return acc\n          },\n          [],\n        ),\n        locale,\n        permissions,\n        req,\n        translations: req.i18n.translations,\n        visibleEntities,\n      },\n      params,\n      payload: req.payload,\n      searchParams,\n      viewActions,\n    } satisfies AdminViewServerPropsOnly,\n  })\n\n  return (\n    <PageConfigProvider config={clientConfig}>\n      {!templateType && <React.Fragment>{RenderedView}</React.Fragment>}\n      {templateType === 'minimal' && (\n        <MinimalTemplate className={templateClassName}>{RenderedView}</MinimalTemplate>\n      )}\n      {templateType === 'default' && (\n        <DefaultTemplate\n          collectionSlug={collectionConfig?.slug}\n          docID={routeParams.id}\n          documentSubViewType={documentSubViewType}\n          globalSlug={globalConfig?.slug}\n          i18n={req.i18n}\n          locale={locale}\n          params={params}\n          payload={req.payload}\n          permissions={permissions}\n          req={req}\n          searchParams={searchParams}\n          user={req.user}\n          viewActions={viewActions}\n          viewType={viewType}\n          visibleEntities={{\n            // The reason we are not passing in initPageResult.visibleEntities directly is due to a \"Cannot assign to read only property of object '#<Object>\" error introduced in React 19\n            // which this caused as soon as initPageResult.visibleEntities is passed in\n            collections: visibleEntities?.collections,\n            globals: visibleEntities?.globals,\n          }}\n        >\n          {RenderedView}\n        </DefaultTemplate>\n      )}\n    </PageConfigProvider>\n  )\n}\n"],"names":["PageConfigProvider","RenderServerComponent","getVisibleEntities","getClientConfig","notFound","redirect","applyLocaleFiltering","formatAdminURL","qs","React","DefaultTemplate","MinimalTemplate","getPreferences","handleAuthRedirect","initReq","isCustomAdminView","isPublicAdminRoute","getCustomViewByRoute","getRouteData","RootPage","config","configPromise","importMap","params","paramsPromise","searchParams","searchParamsPromise","admin","routes","createFirstUser","_createFirstUserRoute","user","userSlug","adminRoute","currentRoute","path","Array","isArray","segments","join","isCollectionRoute","isGlobalRoute","collectionConfig","undefined","globalConfig","length","viewKey","collections","find","slug","globals","queryString","stringify","addQueryPrefix","cookies","locale","permissions","req","payload","key","overrides","fallbackLocale","query","parse","depth","ignoreQueryPrefix","urlSuffix","canAccessAdmin","route","collectionPreferences","folders","id","then","res","value","browseByFolderSlugs","DefaultView","documentSubViewType","routeParams","templateClassName","templateType","viewActions","viewType","dbHasUser","db","findOne","collection","doc","Component","payloadComponent","usersCollection","disableLocalStrategy","auth","createFirstUserRoute","clientConfig","i18n","localization","localeCodes","includes","defaultLocale","visibleEntities","folderID","RenderedView","clientProps","Fallback","serverProps","docID","initPageResult","languageOptions","Object","entries","supportedLanguages","reduce","acc","language","languageConfig","keys","push","label","translations","general","thisLanguage","_jsxs","_jsx","Fragment","className","collectionSlug","globalSlug"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 9572, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/next/src/build/templates/app-page.ts"],"sourcesContent":["import type { LoaderTree } from '../../server/lib/app-dir-module'\nimport type { IncomingMessage, ServerResponse } from 'node:http'\n\nimport {\n  AppPageRouteModule,\n  type AppPageRouteHandlerContext,\n} from '../../server/route-modules/app-page/module.compiled' with { 'turbopack-transition': 'next-ssr' }\n\nimport { RouteKind } from '../../server/route-kind' with { 'turbopack-transition': 'next-server-utility' }\n\nimport { getRevalidateReason } from '../../server/instrumentation/utils'\nimport { getTracer, SpanKind, type Span } from '../../server/lib/trace/tracer'\nimport { addRequestMeta, getRequestMeta } from '../../server/request-meta'\nimport { BaseServerSpan } from '../../server/lib/trace/constants'\nimport { interopDefault } from '../../server/app-render/interop-default'\nimport { stripFlightHeaders } from '../../server/app-render/strip-flight-headers'\nimport { NodeNextRequest, NodeNextResponse } from '../../server/base-http/node'\nimport { checkIsAppPPREnabled } from '../../server/lib/experimental/ppr'\nimport {\n  getFallbackRouteParams,\n  createOpaqueFallbackRouteParams,\n  type OpaqueFallbackRouteParams,\n} from '../../server/request/fallback-params'\nimport { setManifestsSingleton } from '../../server/app-render/manifests-singleton'\nimport {\n  isHtmlBotRequest,\n  shouldServeStreamingMetadata,\n} from '../../server/lib/streaming-metadata'\nimport { normalizeAppPath } from '../../shared/lib/router/utils/app-paths'\nimport { getIsPossibleServerAction } from '../../server/lib/server-action-request-meta'\nimport {\n  RSC_HEADER,\n  NEXT_ROUTER_PREFETCH_HEADER,\n  NEXT_IS_PRERENDER_HEADER,\n  NEXT_DID_POSTPONE_HEADER,\n  RSC_CONTENT_TYPE_HEADER,\n} from '../../client/components/app-router-headers'\nimport { getBotType, isBot } from '../../shared/lib/router/utils/is-bot'\nimport {\n  CachedRouteKind,\n  IncrementalCacheKind,\n  type CachedAppPageValue,\n  type CachedPageValue,\n  type ResponseCacheEntry,\n  type ResponseGenerator,\n} from '../../server/response-cache'\nimport { FallbackMode, parseFallbackField } from '../../lib/fallback'\nimport RenderResult from '../../server/render-result'\nimport {\n  CACHE_ONE_YEAR,\n  HTML_CONTENT_TYPE_HEADER,\n  NEXT_CACHE_TAGS_HEADER,\n  NEXT_RESUME_HEADER,\n} from '../../lib/constants'\nimport type { CacheControl } from '../../server/lib/cache-control'\nimport { ENCODED_TAGS } from '../../server/stream-utils/encoded-tags'\nimport { sendRenderResult } from '../../server/send-payload'\nimport { NoFallbackError } from '../../shared/lib/no-fallback-error.external'\nimport { parseMaxPostponedStateSize } from '../../shared/lib/size-limit'\n\n// These are injected by the loader afterwards.\n\n/**\n * The tree created in next-app-loader that holds component segments and modules\n * and I've updated it.\n */\ndeclare const tree: LoaderTree\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\n// INJECT:tree\n\nimport GlobalError from 'VAR_MODULE_GLOBAL_ERROR' with { 'turbopack-transition': 'next-server-utility' }\n\nexport { GlobalError }\n\n// These are injected by the loader afterwards.\ndeclare const __next_app_require__: (id: string | number) => unknown\ndeclare const __next_app_load_chunk__: (id: string | number) => Promise<unknown>\n\n// INJECT:__next_app_require__\n// INJECT:__next_app_load_chunk__\n\nexport const __next_app__ = {\n  require: __next_app_require__,\n  loadChunk: __next_app_load_chunk__,\n}\n\nimport * as entryBase from '../../server/app-render/entry-base' with { 'turbopack-transition': 'next-server-utility' }\nimport { RedirectStatusCode } from '../../client/components/redirect-status-code'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { scheduleOnNextTick } from '../../lib/scheduler'\nimport { isInterceptionRouteAppPath } from '../../shared/lib/router/utils/interception-routes'\n\nexport * from '../../server/app-render/entry-base' with { 'turbopack-transition': 'next-server-utility' }\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new AppPageRouteModule({\n  definition: {\n    kind: RouteKind.APP_PAGE,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n    appPaths: [],\n  },\n  userland: {\n    loaderTree: tree,\n  },\n  distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n  relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n})\n\nexport async function handler(\n  req: IncomingMessage,\n  res: ServerResponse,\n  ctx: {\n    waitUntil: (prom: Promise<void>) => void\n  }\n) {\n  if (routeModule.isDev) {\n    addRequestMeta(req, 'devRequestTimingInternalsEnd', process.hrtime.bigint())\n  }\n  const isMinimalMode = Boolean(\n    process.env.MINIMAL_MODE || getRequestMeta(req, 'minimalMode')\n  )\n\n  let srcPage = 'VAR_DEFINITION_PAGE'\n\n  // turbopack doesn't normalize `/index` in the page name\n  // so we need to to process dynamic routes properly\n  // TODO: fix turbopack providing differing value from webpack\n  if (process.env.TURBOPACK) {\n    srcPage = srcPage.replace(/\\/index$/, '') || '/'\n  } else if (srcPage === '/index') {\n    // we always normalize /index specifically\n    srcPage = '/'\n  }\n  const multiZoneDraftMode = process.env\n    .__NEXT_MULTI_ZONE_DRAFT_MODE as any as boolean\n\n  const prepareResult = await routeModule.prepare(req, res, {\n    srcPage,\n    multiZoneDraftMode,\n  })\n\n  if (!prepareResult) {\n    res.statusCode = 400\n    res.end('Bad Request')\n    ctx.waitUntil?.(Promise.resolve())\n    return null\n  }\n\n  const {\n    buildId,\n    query,\n    params,\n    pageIsDynamic,\n    buildManifest,\n    nextFontManifest,\n    reactLoadableManifest,\n    serverActionsManifest,\n    clientReferenceManifest,\n    subresourceIntegrityManifest,\n    prerenderManifest,\n    isDraftMode,\n    resolvedPathname,\n    revalidateOnlyGenerated,\n    routerServerContext,\n    nextConfig,\n    parsedUrl,\n    interceptionRoutePatterns,\n    deploymentId,\n  } = prepareResult\n\n  const normalizedSrcPage = normalizeAppPath(srcPage)\n\n  let { isOnDemandRevalidate } = prepareResult\n\n  // We use the resolvedPathname instead of the parsedUrl.pathname because it\n  // is not rewritten as resolvedPathname is. This will ensure that the correct\n  // prerender info is used instead of using the original pathname as the\n  // source. If however PPR is enabled and cacheComponents is disabled, we\n  // treat the pathname as dynamic. Currently, there's a bug in the PPR\n  // implementation that incorrectly leaves %%drp placeholders in the output of\n  // parallel routes. This is addressed with cacheComponents.\n  const prerenderInfo =\n    nextConfig.experimental.ppr &&\n    !nextConfig.cacheComponents &&\n    isInterceptionRouteAppPath(resolvedPathname)\n      ? null\n      : routeModule.match(resolvedPathname, prerenderManifest)\n\n  const isPrerendered = !!prerenderManifest.routes[resolvedPathname]\n\n  const userAgent = req.headers['user-agent'] || ''\n  const botType = getBotType(userAgent)\n  const isHtmlBot = isHtmlBotRequest(req)\n\n  /**\n   * If true, this indicates that the request being made is for an app\n   * prefetch request.\n   */\n  const isPrefetchRSCRequest =\n    getRequestMeta(req, 'isPrefetchRSCRequest') ??\n    req.headers[NEXT_ROUTER_PREFETCH_HEADER] === '1' // exclude runtime prefetches, which use '2'\n\n  // NOTE: Don't delete headers[RSC] yet, it still needs to be used in renderToHTML later\n\n  const isRSCRequest =\n    getRequestMeta(req, 'isRSCRequest') ?? Boolean(req.headers[RSC_HEADER])\n\n  const isPossibleServerAction = getIsPossibleServerAction(req)\n\n  /**\n   * If the route being rendered is an app page, and the ppr feature has been\n   * enabled, then the given route _could_ support PPR.\n   */\n  const couldSupportPPR: boolean = checkIsAppPPREnabled(\n    nextConfig.experimental.ppr\n  )\n\n  if (\n    !getRequestMeta(req, 'postponed') &&\n    couldSupportPPR &&\n    req.headers[NEXT_RESUME_HEADER] === '1' &&\n    req.method === 'POST'\n  ) {\n    // Decode the postponed state from the request body, it will come as\n    // an array of buffers, so collect them and then concat them to form\n    // the string.\n\n    const body: Array<Buffer> = []\n    for await (const chunk of req) {\n      body.push(chunk)\n    }\n    const postponed = Buffer.concat(body).toString('utf8')\n\n    addRequestMeta(req, 'postponed', postponed)\n  }\n\n  // When enabled, this will allow the use of the `?__nextppronly` query to\n  // enable debugging of the static shell.\n  const hasDebugStaticShellQuery =\n    process.env.__NEXT_EXPERIMENTAL_STATIC_SHELL_DEBUGGING === '1' &&\n    typeof query.__nextppronly !== 'undefined' &&\n    couldSupportPPR\n\n  // When enabled, this will allow the use of the `?__nextppronly` query\n  // to enable debugging of the fallback shell.\n  const hasDebugFallbackShellQuery =\n    hasDebugStaticShellQuery && query.__nextppronly === 'fallback'\n\n  // This page supports PPR if it is marked as being `PARTIALLY_STATIC` in the\n  // prerender manifest and this is an app page.\n  const isRoutePPREnabled: boolean =\n    couldSupportPPR &&\n    ((\n      prerenderManifest.routes[normalizedSrcPage] ??\n      prerenderManifest.dynamicRoutes[normalizedSrcPage]\n    )?.renderingMode === 'PARTIALLY_STATIC' ||\n      // Ideally we'd want to check the appConfig to see if this page has PPR\n      // enabled or not, but that would require plumbing the appConfig through\n      // to the server during development. We assume that the page supports it\n      // but only during development.\n      (hasDebugStaticShellQuery &&\n        (routeModule.isDev === true ||\n          routerServerContext?.experimentalTestProxy === true)))\n\n  const isDebugStaticShell: boolean =\n    hasDebugStaticShellQuery && isRoutePPREnabled\n\n  // We should enable debugging dynamic accesses when the static shell\n  // debugging has been enabled and we're also in development mode.\n  const isDebugDynamicAccesses =\n    isDebugStaticShell && routeModule.isDev === true\n\n  const isDebugFallbackShell = hasDebugFallbackShellQuery && isRoutePPREnabled\n\n  // If we're in minimal mode, then try to get the postponed information from\n  // the request metadata. If available, use it for resuming the postponed\n  // render.\n  const minimalPostponed = isRoutePPREnabled\n    ? getRequestMeta(req, 'postponed')\n    : undefined\n\n  // If PPR is enabled, and this is a RSC request (but not a prefetch), then\n  // we can use this fact to only generate the flight data for the request\n  // because we can't cache the HTML (as it's also dynamic).\n  let isDynamicRSCRequest =\n    isRoutePPREnabled && isRSCRequest && !isPrefetchRSCRequest\n\n  // During a PPR revalidation, the RSC request is not dynamic if we do not have the postponed data.\n  // We only attach the postponed data during a resume. If there's no postponed data, then it must be a revalidation.\n  // This is to ensure that we don't bypass the cache during a revalidation.\n  if (isMinimalMode) {\n    isDynamicRSCRequest = isDynamicRSCRequest && !!minimalPostponed\n  }\n\n  // Need to read this before it's stripped by stripFlightHeaders. We don't\n  // need to transfer it to the request meta because it's only read\n  // within this function; the static segment data should have already been\n  // generated, so we will always either return a static response or a 404.\n  const segmentPrefetchHeader = getRequestMeta(req, 'segmentPrefetchRSCRequest')\n\n  // TODO: investigate existing bug with shouldServeStreamingMetadata always\n  // being true for a revalidate due to modifying the base-server this.renderOpts\n  // when fixing this to correct logic it causes hydration issue since we set\n  // serveStreamingMetadata to true during export\n  const serveStreamingMetadata =\n    isHtmlBot && isRoutePPREnabled\n      ? false\n      : !userAgent\n        ? true\n        : shouldServeStreamingMetadata(userAgent, nextConfig.htmlLimitedBots)\n\n  const isSSG = Boolean(\n    (prerenderInfo ||\n      isPrerendered ||\n      prerenderManifest.routes[normalizedSrcPage]) &&\n      // If this is a html bot request and PPR is enabled, then we don't want\n      // to serve a static response.\n      !(isHtmlBot && isRoutePPREnabled)\n  )\n\n  // When a page supports cacheComponents, we can support RDC for Navigations\n  const supportsRDCForNavigations =\n    isRoutePPREnabled && nextConfig.cacheComponents === true\n\n  // In development, we always want to generate dynamic HTML.\n  const supportsDynamicResponse: boolean =\n    // If we're in development, we always support dynamic HTML, unless it's\n    // a data request, in which case we only produce static HTML.\n    routeModule.isDev === true ||\n    // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isSSG ||\n    // If this request has provided postponed data, it supports dynamic\n    // HTML.\n    typeof minimalPostponed === 'string' ||\n    // If this handler supports onCacheEntryV2, then we can only support\n    // dynamic responses if it's a dynamic RSC request and not in minimal mode. If it\n    // doesn't support it we must fallback to the default behavior.\n    (supportsRDCForNavigations && getRequestMeta(req, 'onCacheEntryV2')\n      ? // In minimal mode, we'll always want to generate a static response\n        // which will generate the RDC for the route. When resuming a Dynamic\n        // RSC request, we'll pass the minimal postponed data to the render\n        // which will trigger the `supportsDynamicResponse` to be true.\n        isDynamicRSCRequest && !isMinimalMode\n      : // Otherwise, we can support dynamic responses if it's a dynamic RSC request.\n        isDynamicRSCRequest)\n\n  // When html bots request PPR page, perform the full dynamic rendering.\n  const shouldWaitOnAllReady = isHtmlBot && isRoutePPREnabled\n\n  let ssgCacheKey: string | null = null\n  if (\n    !isDraftMode &&\n    isSSG &&\n    !supportsDynamicResponse &&\n    !isPossibleServerAction &&\n    !minimalPostponed &&\n    !isDynamicRSCRequest\n  ) {\n    ssgCacheKey = resolvedPathname\n  }\n\n  // the staticPathKey differs from ssgCacheKey since\n  // ssgCacheKey is null in dev since we're always in \"dynamic\"\n  // mode in dev to bypass the cache, but we still need to honor\n  // dynamicParams = false in dev mode\n  let staticPathKey = ssgCacheKey\n  if (!staticPathKey && routeModule.isDev) {\n    staticPathKey = resolvedPathname\n  }\n\n  // If this is a request for an app path that should be statically generated\n  // and we aren't in the edge runtime, strip the flight headers so it will\n  // generate the static response.\n  if (\n    !routeModule.isDev &&\n    !isDraftMode &&\n    isSSG &&\n    isRSCRequest &&\n    !isDynamicRSCRequest\n  ) {\n    stripFlightHeaders(req.headers)\n  }\n\n  const ComponentMod = {\n    ...entryBase,\n    tree,\n    GlobalError,\n    handler,\n    routeModule,\n    __next_app__,\n  }\n\n  // Before rendering (which initializes component tree modules), we have to\n  // set the reference manifests to our global store so Server Action's\n  // encryption util can access to them at the top level of the page module.\n  if (serverActionsManifest && clientReferenceManifest) {\n    setManifestsSingleton({\n      page: srcPage,\n      clientReferenceManifest,\n      serverActionsManifest,\n    })\n  }\n\n  const method = req.method || 'GET'\n  const tracer = getTracer()\n  const activeSpan = tracer.getActiveScopeSpan()\n\n  const render404 = async () => {\n    // TODO: should route-module itself handle rendering the 404\n    if (routerServerContext?.render404) {\n      await routerServerContext.render404(req, res, parsedUrl, false)\n    } else {\n      res.end('This page could not be found')\n    }\n    return null\n  }\n\n  try {\n    const varyHeader = routeModule.getVaryHeader(\n      resolvedPathname,\n      interceptionRoutePatterns\n    )\n    res.setHeader('Vary', varyHeader)\n    const invokeRouteModule = async (\n      span: Span | undefined,\n      context: AppPageRouteHandlerContext\n    ) => {\n      const nextReq = new NodeNextRequest(req)\n      const nextRes = new NodeNextResponse(res)\n\n      return routeModule.render(nextReq, nextRes, context).finally(() => {\n        if (!span) return\n\n        span.setAttributes({\n          'http.status_code': res.statusCode,\n          'next.rsc': false,\n        })\n\n        const rootSpanAttributes = tracer.getRootSpanAttributes()\n        // We were unable to get attributes, probably OTEL is not enabled\n        if (!rootSpanAttributes) {\n          return\n        }\n\n        if (\n          rootSpanAttributes.get('next.span_type') !==\n          BaseServerSpan.handleRequest\n        ) {\n          console.warn(\n            `Unexpected root span type '${rootSpanAttributes.get(\n              'next.span_type'\n            )}'. Please report this Next.js issue https://github.com/vercel/next.js`\n          )\n          return\n        }\n\n        const route = rootSpanAttributes.get('next.route')\n        if (route) {\n          const name = `${method} ${route}`\n\n          span.setAttributes({\n            'next.route': route,\n            'http.route': route,\n            'next.span_name': name,\n          })\n          span.updateName(name)\n        } else {\n          span.updateName(`${method} ${srcPage}`)\n        }\n      })\n    }\n\n    const incrementalCache = getRequestMeta(req, 'incrementalCache')\n\n    const doRender = async ({\n      span,\n      postponed,\n      fallbackRouteParams,\n      forceStaticRender,\n    }: {\n      span?: Span\n\n      /**\n       * The postponed data for this render. This is only provided when resuming\n       * a render that has been postponed.\n       */\n      postponed: string | undefined\n\n      /**\n       * The unknown route params for this render.\n       */\n      fallbackRouteParams: OpaqueFallbackRouteParams | null\n\n      /**\n       * When true, this indicates that the response generator is being called\n       * in a context where the response must be generated statically.\n       *\n       * CRITICAL: This should only currently be used when revalidating due to a\n       * dynamic RSC request.\n       */\n      forceStaticRender: boolean\n    }): Promise<ResponseCacheEntry> => {\n      const context: AppPageRouteHandlerContext = {\n        query,\n        params,\n        page: normalizedSrcPage,\n        sharedContext: {\n          buildId,\n        },\n        serverComponentsHmrCache: getRequestMeta(\n          req,\n          'serverComponentsHmrCache'\n        ),\n        fallbackRouteParams,\n        renderOpts: {\n          App: () => null,\n          Document: () => null,\n          pageConfig: {},\n          ComponentMod,\n          Component: interopDefault(ComponentMod),\n\n          params,\n          routeModule,\n          page: srcPage,\n          postponed,\n          shouldWaitOnAllReady,\n          serveStreamingMetadata,\n          supportsDynamicResponse:\n            typeof postponed === 'string' || supportsDynamicResponse,\n          buildManifest,\n          nextFontManifest,\n          reactLoadableManifest,\n          subresourceIntegrityManifest,\n          setCacheStatus: routerServerContext?.setCacheStatus,\n          setIsrStatus: routerServerContext?.setIsrStatus,\n          setReactDebugChannel: routerServerContext?.setReactDebugChannel,\n          sendErrorsToBrowser: routerServerContext?.sendErrorsToBrowser,\n\n          dir:\n            process.env.NEXT_RUNTIME === 'nodejs'\n              ? (require('path') as typeof import('path')).join(\n                  /* turbopackIgnore: true */\n                  process.cwd(),\n                  routeModule.relativeProjectDir\n                )\n              : `${process.cwd()}/${routeModule.relativeProjectDir}`,\n          isDraftMode,\n          botType,\n          isOnDemandRevalidate,\n          isPossibleServerAction,\n          assetPrefix: nextConfig.assetPrefix,\n          nextConfigOutput: nextConfig.output,\n          crossOrigin: nextConfig.crossOrigin,\n          trailingSlash: nextConfig.trailingSlash,\n          images: nextConfig.images,\n          previewProps: prerenderManifest.preview,\n          deploymentId: deploymentId,\n          enableTainting: nextConfig.experimental.taint,\n          htmlLimitedBots: nextConfig.htmlLimitedBots,\n          reactMaxHeadersLength: nextConfig.reactMaxHeadersLength,\n\n          multiZoneDraftMode,\n          incrementalCache,\n          cacheLifeProfiles: nextConfig.cacheLife,\n          basePath: nextConfig.basePath,\n          serverActions: nextConfig.experimental.serverActions,\n\n          ...(isDebugStaticShell ||\n          isDebugDynamicAccesses ||\n          isDebugFallbackShell\n            ? {\n                nextExport: true,\n                supportsDynamicResponse: false,\n                isStaticGeneration: true,\n                isDebugDynamicAccesses: isDebugDynamicAccesses,\n              }\n            : {}),\n          cacheComponents: Boolean(nextConfig.cacheComponents),\n          experimental: {\n            isRoutePPREnabled,\n            expireTime: nextConfig.expireTime,\n            staleTimes: nextConfig.experimental.staleTimes,\n            dynamicOnHover: Boolean(nextConfig.experimental.dynamicOnHover),\n            inlineCss: Boolean(nextConfig.experimental.inlineCss),\n            authInterrupts: Boolean(nextConfig.experimental.authInterrupts),\n            clientTraceMetadata:\n              nextConfig.experimental.clientTraceMetadata || ([] as any),\n            clientParamParsingOrigins:\n              nextConfig.experimental.clientParamParsingOrigins,\n            maxPostponedStateSizeBytes: parseMaxPostponedStateSize(\n              nextConfig.experimental.maxPostponedStateSize\n            ),\n          },\n\n          waitUntil: ctx.waitUntil,\n          onClose: (cb) => {\n            res.on('close', cb)\n          },\n          onAfterTaskError: () => {},\n\n          onInstrumentationRequestError: (\n            error,\n            _request,\n            errorContext,\n            silenceLog\n          ) =>\n            routeModule.onRequestError(\n              req,\n              error,\n              errorContext,\n              silenceLog,\n              routerServerContext\n            ),\n          err: getRequestMeta(req, 'invokeError'),\n          dev: routeModule.isDev,\n        },\n      }\n\n      if (isDebugStaticShell || isDebugDynamicAccesses) {\n        context.renderOpts.nextExport = true\n        context.renderOpts.supportsDynamicResponse = false\n        context.renderOpts.isDebugDynamicAccesses = isDebugDynamicAccesses\n      }\n\n      // When we're revalidating in the background, we should not allow dynamic\n      // responses.\n      if (forceStaticRender) {\n        context.renderOpts.supportsDynamicResponse = false\n      }\n\n      const result = await invokeRouteModule(span, context)\n\n      const { metadata } = result\n\n      const {\n        cacheControl,\n        headers = {},\n        // Add any fetch tags that were on the page to the response headers.\n        fetchTags: cacheTags,\n        fetchMetrics,\n      } = metadata\n\n      if (cacheTags) {\n        headers[NEXT_CACHE_TAGS_HEADER] = cacheTags\n      }\n\n      // Pull any fetch metrics from the render onto the request.\n      ;(req as any).fetchMetrics = fetchMetrics\n\n      // we don't throw static to dynamic errors in dev as isSSG\n      // is a best guess in dev since we don't have the prerender pass\n      // to know whether the path is actually static or not\n      if (\n        isSSG &&\n        cacheControl?.revalidate === 0 &&\n        !routeModule.isDev &&\n        !isRoutePPREnabled\n      ) {\n        const staticBailoutInfo = metadata.staticBailoutInfo\n\n        const err = new Error(\n          `Page changed from static to dynamic at runtime ${resolvedPathname}${\n            staticBailoutInfo?.description\n              ? `, reason: ${staticBailoutInfo.description}`\n              : ``\n          }` +\n            `\\nsee more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`\n        )\n\n        if (staticBailoutInfo?.stack) {\n          const stack = staticBailoutInfo.stack\n          err.stack = err.message + stack.substring(stack.indexOf('\\n'))\n        }\n\n        throw err\n      }\n\n      return {\n        value: {\n          kind: CachedRouteKind.APP_PAGE,\n          html: result,\n          headers,\n          rscData: metadata.flightData,\n          postponed: metadata.postponed,\n          status: metadata.statusCode,\n          segmentData: metadata.segmentData,\n        } satisfies CachedAppPageValue,\n        cacheControl,\n      } satisfies ResponseCacheEntry\n    }\n\n    const responseGenerator: ResponseGenerator = async ({\n      hasResolved,\n      previousCacheEntry: previousIncrementalCacheEntry,\n      isRevalidating,\n      span,\n      forceStaticRender = false,\n    }) => {\n      const isProduction = routeModule.isDev === false\n      const didRespond = hasResolved || res.writableEnded\n\n      // skip on-demand revalidate if cache is not present and\n      // revalidate-if-generated is set\n      if (\n        isOnDemandRevalidate &&\n        revalidateOnlyGenerated &&\n        !previousIncrementalCacheEntry &&\n        !isMinimalMode\n      ) {\n        if (routerServerContext?.render404) {\n          await routerServerContext.render404(req, res)\n        } else {\n          res.statusCode = 404\n          res.end('This page could not be found')\n        }\n        return null\n      }\n\n      let fallbackMode: FallbackMode | undefined\n\n      if (prerenderInfo) {\n        fallbackMode = parseFallbackField(prerenderInfo.fallback)\n      }\n\n      // When serving a HTML bot request, we want to serve a blocking render and\n      // not the prerendered page. This ensures that the correct content is served\n      // to the bot in the head.\n      if (fallbackMode === FallbackMode.PRERENDER && isBot(userAgent)) {\n        if (!isRoutePPREnabled || isHtmlBot) {\n          fallbackMode = FallbackMode.BLOCKING_STATIC_RENDER\n        }\n      }\n\n      if (previousIncrementalCacheEntry?.isStale === -1) {\n        isOnDemandRevalidate = true\n      }\n\n      // TODO: adapt for PPR\n      // only allow on-demand revalidate for fallback: true/blocking\n      // or for prerendered fallback: false paths\n      if (\n        isOnDemandRevalidate &&\n        (fallbackMode !== FallbackMode.NOT_FOUND ||\n          previousIncrementalCacheEntry)\n      ) {\n        fallbackMode = FallbackMode.BLOCKING_STATIC_RENDER\n      }\n\n      if (\n        !isMinimalMode &&\n        fallbackMode !== FallbackMode.BLOCKING_STATIC_RENDER &&\n        staticPathKey &&\n        !didRespond &&\n        !isDraftMode &&\n        pageIsDynamic &&\n        (isProduction || !isPrerendered)\n      ) {\n        // if the page has dynamicParams: false and this pathname wasn't\n        // prerendered trigger the no fallback handling\n        if (\n          // In development, fall through to render to handle missing\n          // getStaticPaths.\n          (isProduction || prerenderInfo) &&\n          // When fallback isn't present, abort this render so we 404\n          fallbackMode === FallbackMode.NOT_FOUND\n        ) {\n          if (nextConfig.experimental.adapterPath) {\n            return await render404()\n          }\n          throw new NoFallbackError()\n        }\n\n        // When cacheComponents is enabled, we can use the fallback\n        // response if the request is not a dynamic RSC request because the\n        // RSC data when this feature flag is enabled does not contain any\n        // param references. Without this feature flag enabled, the RSC data\n        // contains param references, and therefore we can't use the fallback.\n        if (\n          isRoutePPREnabled &&\n          (nextConfig.cacheComponents ? !isDynamicRSCRequest : !isRSCRequest)\n        ) {\n          const cacheKey =\n            isProduction && typeof prerenderInfo?.fallback === 'string'\n              ? prerenderInfo.fallback\n              : normalizedSrcPage\n\n          const fallbackRouteParams =\n            // If we're in production and we have fallback route params, then we\n            // can use the manifest fallback route params.\n            isProduction && prerenderInfo?.fallbackRouteParams\n              ? createOpaqueFallbackRouteParams(\n                  prerenderInfo.fallbackRouteParams\n                )\n              : // Otherwise, if we're debugging the fallback shell, then we\n                // have to manually generate the fallback route params.\n                isDebugFallbackShell\n                ? getFallbackRouteParams(normalizedSrcPage, routeModule)\n                : null\n\n          // We use the response cache here to handle the revalidation and\n          // management of the fallback shell.\n          const fallbackResponse = await routeModule.handleResponse({\n            cacheKey,\n            req,\n            nextConfig,\n            routeKind: RouteKind.APP_PAGE,\n            isFallback: true,\n            prerenderManifest,\n            isRoutePPREnabled,\n            responseGenerator: async () =>\n              doRender({\n                span,\n                // We pass `undefined` as rendering a fallback isn't resumed\n                // here.\n                postponed: undefined,\n                fallbackRouteParams,\n                forceStaticRender: false,\n              }),\n            waitUntil: ctx.waitUntil,\n            isMinimalMode,\n          })\n\n          // If the fallback response was set to null, then we should return null.\n          if (fallbackResponse === null) return null\n\n          // Otherwise, if we did get a fallback response, we should return it.\n          if (fallbackResponse) {\n            // Remove the cache control from the response to prevent it from being\n            // used in the surrounding cache.\n            delete fallbackResponse.cacheControl\n\n            return fallbackResponse\n          }\n        }\n      }\n\n      // Only requests that aren't revalidating can be resumed. If we have the\n      // minimal postponed data, then we should resume the render with it.\n      let postponed =\n        !isOnDemandRevalidate && !isRevalidating && minimalPostponed\n          ? minimalPostponed\n          : undefined\n\n      // If this is a dynamic RSC request, we should use the postponed data from\n      // the static render (if available). This ensures that we can utilize the\n      // resume data cache (RDC) from the static render to ensure that the data\n      // is consistent between the static and dynamic renders.\n      if (\n        // Only enable RDC for Navigations if the feature is enabled.\n        supportsRDCForNavigations &&\n        process.env.NEXT_RUNTIME !== 'edge' &&\n        !isMinimalMode &&\n        incrementalCache &&\n        isDynamicRSCRequest &&\n        // We don't typically trigger an on-demand revalidation for dynamic RSC\n        // requests, as we're typically revalidating the page in the background\n        // instead. However, if the cache entry is stale, we should trigger a\n        // background revalidation on dynamic RSC requests. This prevents us\n        // from entering an infinite loop of revalidations.\n        !forceStaticRender\n      ) {\n        const incrementalCacheEntry = await incrementalCache.get(\n          resolvedPathname,\n          {\n            kind: IncrementalCacheKind.APP_PAGE,\n            isRoutePPREnabled: true,\n            isFallback: false,\n          }\n        )\n\n        // If the cache entry is found, we should use the postponed data from\n        // the cache.\n        if (\n          incrementalCacheEntry &&\n          incrementalCacheEntry.value &&\n          incrementalCacheEntry.value.kind === CachedRouteKind.APP_PAGE\n        ) {\n          // CRITICAL: we're assigning the postponed data from the cache entry\n          // here as we're using the RDC to resume the render.\n          postponed = incrementalCacheEntry.value.postponed\n\n          // If the cache entry is stale, we should trigger a background\n          // revalidation so that subsequent requests will get a fresh response.\n          if (\n            incrementalCacheEntry &&\n            // We want to trigger this flow if the cache entry is stale and if\n            // the requested revalidation flow is either foreground or\n            // background.\n            (incrementalCacheEntry.isStale === -1 ||\n              incrementalCacheEntry.isStale === true)\n          ) {\n            // We want to schedule this on the next tick to ensure that the\n            // render is not blocked on it.\n            scheduleOnNextTick(async () => {\n              const responseCache = routeModule.getResponseCache(req)\n\n              try {\n                await responseCache.revalidate(\n                  resolvedPathname,\n                  incrementalCache,\n                  isRoutePPREnabled,\n                  false,\n                  (c) =>\n                    responseGenerator({\n                      ...c,\n                      // CRITICAL: we need to set this to true as we're\n                      // revalidating in the background and typically this dynamic\n                      // RSC request is not treated as static.\n                      forceStaticRender: true,\n                    }),\n                  // CRITICAL: we need to pass null here because passing the\n                  // previous cache entry here (which is stale) will switch on\n                  // isOnDemandRevalidate and break the prerendering.\n                  null,\n                  hasResolved,\n                  ctx.waitUntil\n                )\n              } catch (err) {\n                console.error(\n                  'Error revalidating the page in the background',\n                  err\n                )\n              }\n            })\n          }\n        }\n      }\n\n      // When we're in minimal mode, if we're trying to debug the static shell,\n      // we should just return nothing instead of resuming the dynamic render.\n      if (\n        (isDebugStaticShell || isDebugDynamicAccesses) &&\n        typeof postponed !== 'undefined'\n      ) {\n        return {\n          cacheControl: { revalidate: 1, expire: undefined },\n          value: {\n            kind: CachedRouteKind.PAGES,\n            html: RenderResult.EMPTY,\n            pageData: {},\n            headers: undefined,\n            status: undefined,\n          } satisfies CachedPageValue,\n        }\n      }\n\n      const fallbackRouteParams =\n        // If we're in production and we have fallback route params, then we\n        // can use the manifest fallback route params if we need to render the\n        // fallback shell.\n        isProduction &&\n        prerenderInfo?.fallbackRouteParams &&\n        getRequestMeta(req, 'renderFallbackShell')\n          ? createOpaqueFallbackRouteParams(prerenderInfo.fallbackRouteParams)\n          : // Otherwise, if we're debugging the fallback shell, then we have to\n            // manually generate the fallback route params.\n            isDebugFallbackShell\n            ? getFallbackRouteParams(normalizedSrcPage, routeModule)\n            : null\n\n      // Perform the render.\n      return doRender({\n        span,\n        postponed,\n        fallbackRouteParams,\n        forceStaticRender,\n      })\n    }\n\n    const handleResponse = async (span?: Span): Promise<null | void> => {\n      const cacheEntry = await routeModule.handleResponse({\n        cacheKey: ssgCacheKey,\n        responseGenerator: (c) =>\n          responseGenerator({\n            span,\n            ...c,\n          }),\n        routeKind: RouteKind.APP_PAGE,\n        isOnDemandRevalidate,\n        isRoutePPREnabled,\n        req,\n        nextConfig,\n        prerenderManifest,\n        waitUntil: ctx.waitUntil,\n        isMinimalMode,\n      })\n\n      if (isDraftMode) {\n        res.setHeader(\n          'Cache-Control',\n          'private, no-cache, no-store, max-age=0, must-revalidate'\n        )\n      }\n\n      // In dev, we should not cache pages for any reason.\n      if (routeModule.isDev) {\n        res.setHeader('Cache-Control', 'no-store, must-revalidate')\n      }\n\n      if (!cacheEntry) {\n        if (ssgCacheKey) {\n          // A cache entry might not be generated if a response is written\n          // in `getInitialProps` or `getServerSideProps`, but those shouldn't\n          // have a cache key. If we do have a cache key but we don't end up\n          // with a cache entry, then either Next.js or the application has a\n          // bug that needs fixing.\n          throw new Error('invariant: cache entry required but not generated')\n        }\n        return null\n      }\n\n      if (cacheEntry.value?.kind !== CachedRouteKind.APP_PAGE) {\n        throw new Error(\n          `Invariant app-page handler received invalid cache entry ${cacheEntry.value?.kind}`\n        )\n      }\n\n      const didPostpone = typeof cacheEntry.value.postponed === 'string'\n\n      if (\n        isSSG &&\n        // We don't want to send a cache header for requests that contain dynamic\n        // data. If this is a Dynamic RSC request or wasn't a Prefetch RSC\n        // request, then we should set the cache header.\n        !isDynamicRSCRequest &&\n        (!didPostpone || isPrefetchRSCRequest)\n      ) {\n        if (!isMinimalMode) {\n          // set x-nextjs-cache header to match the header\n          // we set for the image-optimizer\n          res.setHeader(\n            'x-nextjs-cache',\n            isOnDemandRevalidate\n              ? 'REVALIDATED'\n              : cacheEntry.isMiss\n                ? 'MISS'\n                : cacheEntry.isStale\n                  ? 'STALE'\n                  : 'HIT'\n          )\n        }\n        // Set a header used by the client router to signal the response is static\n        // and should respect the `static` cache staleTime value.\n        res.setHeader(NEXT_IS_PRERENDER_HEADER, '1')\n      }\n      const { value: cachedData } = cacheEntry\n\n      // Coerce the cache control parameter from the render.\n      let cacheControl: CacheControl | undefined\n\n      // If this is a resume request in minimal mode it is streamed with dynamic\n      // content and should not be cached.\n      if (minimalPostponed) {\n        cacheControl = { revalidate: 0, expire: undefined }\n      }\n\n      // If this is in minimal mode and this is a flight request that isn't a\n      // prefetch request while PPR is enabled, it cannot be cached as it contains\n      // dynamic content.\n      else if (isDynamicRSCRequest) {\n        cacheControl = { revalidate: 0, expire: undefined }\n      } else if (!routeModule.isDev) {\n        // If this is a preview mode request, we shouldn't cache it\n        if (isDraftMode) {\n          cacheControl = { revalidate: 0, expire: undefined }\n        }\n\n        // If this isn't SSG, then we should set change the header only if it is\n        // not set already.\n        else if (!isSSG) {\n          if (!res.getHeader('Cache-Control')) {\n            cacheControl = { revalidate: 0, expire: undefined }\n          }\n        } else if (cacheEntry.cacheControl) {\n          // If the cache entry has a cache control with a revalidate value that's\n          // a number, use it.\n          if (typeof cacheEntry.cacheControl.revalidate === 'number') {\n            if (cacheEntry.cacheControl.revalidate < 1) {\n              throw new Error(\n                `Invalid revalidate configuration provided: ${cacheEntry.cacheControl.revalidate} < 1`\n              )\n            }\n\n            cacheControl = {\n              revalidate: cacheEntry.cacheControl.revalidate,\n              expire: cacheEntry.cacheControl?.expire ?? nextConfig.expireTime,\n            }\n          }\n          // Otherwise if the revalidate value is false, then we should use the\n          // cache time of one year.\n          else {\n            cacheControl = { revalidate: CACHE_ONE_YEAR, expire: undefined }\n          }\n        }\n      }\n\n      cacheEntry.cacheControl = cacheControl\n\n      if (\n        typeof segmentPrefetchHeader === 'string' &&\n        cachedData?.kind === CachedRouteKind.APP_PAGE &&\n        cachedData.segmentData\n      ) {\n        // This is a prefetch request issued by the client Segment Cache. These\n        // should never reach the application layer (lambda). We should either\n        // respond from the cache (HIT) or respond with 204 No Content (MISS).\n\n        // Set a header to indicate that PPR is enabled for this route. This\n        // lets the client distinguish between a regular cache miss and a cache\n        // miss due to PPR being disabled. In other contexts this header is used\n        // to indicate that the response contains dynamic data, but here we're\n        // only using it to indicate that the feature is enabled  the segment\n        // response itself contains whether the data is dynamic.\n        res.setHeader(NEXT_DID_POSTPONE_HEADER, '2')\n\n        // Add the cache tags header to the response if it exists and we're in\n        // minimal mode while rendering a static page.\n        const tags = cachedData.headers?.[NEXT_CACHE_TAGS_HEADER]\n        if (isMinimalMode && isSSG && tags && typeof tags === 'string') {\n          res.setHeader(NEXT_CACHE_TAGS_HEADER, tags)\n        }\n\n        const matchedSegment = cachedData.segmentData.get(segmentPrefetchHeader)\n        if (matchedSegment !== undefined) {\n          // Cache hit\n          return sendRenderResult({\n            req,\n            res,\n            generateEtags: nextConfig.generateEtags,\n            poweredByHeader: nextConfig.poweredByHeader,\n            result: RenderResult.fromStatic(\n              matchedSegment,\n              RSC_CONTENT_TYPE_HEADER\n            ),\n            cacheControl: cacheEntry.cacheControl,\n          })\n        }\n\n        // Cache miss. Either a cache entry for this route has not been generated\n        // (which technically should not be possible when PPR is enabled, because\n        // at a minimum there should always be a fallback entry) or there's no\n        // match for the requested segment. Respond with a 204 No Content. We\n        // don't bother to respond with 404, because these requests are only\n        // issued as part of a prefetch.\n        res.statusCode = 204\n        return sendRenderResult({\n          req,\n          res,\n          generateEtags: nextConfig.generateEtags,\n          poweredByHeader: nextConfig.poweredByHeader,\n          result: RenderResult.EMPTY,\n          cacheControl: cacheEntry.cacheControl,\n        })\n      }\n\n      // If there's a callback for `onCacheEntry`, call it with the cache entry\n      // and the revalidate options. If we support RDC for Navigations, we\n      // prefer the `onCacheEntryV2` callback. Once RDC for Navigations is the\n      // default, we can remove the fallback to `onCacheEntry` as\n      // `onCacheEntryV2` is now fully supported.\n      const onCacheEntry = supportsRDCForNavigations\n        ? (getRequestMeta(req, 'onCacheEntryV2') ??\n          getRequestMeta(req, 'onCacheEntry'))\n        : getRequestMeta(req, 'onCacheEntry')\n      if (onCacheEntry) {\n        const finished = await onCacheEntry(cacheEntry, {\n          url: getRequestMeta(req, 'initURL') ?? req.url,\n        })\n        if (finished) return null\n      }\n\n      if (cachedData.headers) {\n        const headers = { ...cachedData.headers }\n\n        if (!isMinimalMode || !isSSG) {\n          delete headers[NEXT_CACHE_TAGS_HEADER]\n        }\n\n        for (let [key, value] of Object.entries(headers)) {\n          if (typeof value === 'undefined') continue\n\n          if (Array.isArray(value)) {\n            for (const v of value) {\n              res.appendHeader(key, v)\n            }\n          } else if (typeof value === 'number') {\n            value = value.toString()\n            res.appendHeader(key, value)\n          } else {\n            res.appendHeader(key, value)\n          }\n        }\n      }\n\n      // Add the cache tags header to the response if it exists and we're in\n      // minimal mode while rendering a static page.\n      const tags = cachedData.headers?.[NEXT_CACHE_TAGS_HEADER]\n      if (isMinimalMode && isSSG && tags && typeof tags === 'string') {\n        res.setHeader(NEXT_CACHE_TAGS_HEADER, tags)\n      }\n\n      // If the request is a data request, then we shouldn't set the status code\n      // from the response because it should always be 200. This should be gated\n      // behind the experimental PPR flag.\n      if (cachedData.status && (!isRSCRequest || !isRoutePPREnabled)) {\n        res.statusCode = cachedData.status\n      }\n\n      // Redirect information is encoded in RSC payload, so we don't need to use redirect status codes\n      if (\n        !isMinimalMode &&\n        cachedData.status &&\n        RedirectStatusCode[cachedData.status] &&\n        isRSCRequest\n      ) {\n        res.statusCode = 200\n      }\n\n      // Mark that the request did postpone.\n      if (didPostpone && !isDynamicRSCRequest) {\n        res.setHeader(NEXT_DID_POSTPONE_HEADER, '1')\n      }\n\n      // we don't go through this block when preview mode is true\n      // as preview mode is a dynamic request (bypasses cache) and doesn't\n      // generate both HTML and payloads in the same request so continue to just\n      // return the generated payload\n      if (isRSCRequest && !isDraftMode) {\n        // If this is a dynamic RSC request, then stream the response.\n        if (typeof cachedData.rscData === 'undefined') {\n          // If the response is not an RSC response, then we can't serve it.\n          if (cachedData.html.contentType !== RSC_CONTENT_TYPE_HEADER) {\n            if (nextConfig.cacheComponents) {\n              res.statusCode = 404\n              return sendRenderResult({\n                req,\n                res,\n                generateEtags: nextConfig.generateEtags,\n                poweredByHeader: nextConfig.poweredByHeader,\n                result: RenderResult.EMPTY,\n                cacheControl: cacheEntry.cacheControl,\n              })\n            } else {\n              // Otherwise this case is not expected.\n              throw new InvariantError(\n                `Expected RSC response, got ${cachedData.html.contentType}`\n              )\n            }\n          }\n\n          return sendRenderResult({\n            req,\n            res,\n            generateEtags: nextConfig.generateEtags,\n            poweredByHeader: nextConfig.poweredByHeader,\n            result: cachedData.html,\n            cacheControl: cacheEntry.cacheControl,\n          })\n        }\n\n        // As this isn't a prefetch request, we should serve the static flight\n        // data.\n        return sendRenderResult({\n          req,\n          res,\n          generateEtags: nextConfig.generateEtags,\n          poweredByHeader: nextConfig.poweredByHeader,\n          result: RenderResult.fromStatic(\n            cachedData.rscData,\n            RSC_CONTENT_TYPE_HEADER\n          ),\n          cacheControl: cacheEntry.cacheControl,\n        })\n      }\n\n      // This is a request for HTML data.\n      const body = cachedData.html\n\n      // If there's no postponed state, we should just serve the HTML. This\n      // should also be the case for a resume request because it's completed\n      // as a server render (rather than a static render).\n      if (!didPostpone || isMinimalMode || isRSCRequest) {\n        // If we're in test mode, we should add a sentinel chunk to the response\n        // that's between the static and dynamic parts so we can compare the\n        // chunks and add assertions.\n        if (\n          process.env.__NEXT_TEST_MODE &&\n          isMinimalMode &&\n          isRoutePPREnabled &&\n          body.contentType === HTML_CONTENT_TYPE_HEADER\n        ) {\n          // As we're in minimal mode, the static part would have already been\n          // streamed first. The only part that this streams is the dynamic part\n          // so we should FIRST stream the sentinel and THEN the dynamic part.\n          body.unshift(createPPRBoundarySentinel())\n        }\n\n        return sendRenderResult({\n          req,\n          res,\n          generateEtags: nextConfig.generateEtags,\n          poweredByHeader: nextConfig.poweredByHeader,\n          result: body,\n          cacheControl: cacheEntry.cacheControl,\n        })\n      }\n\n      // If we're debugging the static shell or the dynamic API accesses, we\n      // should just serve the HTML without resuming the render. The returned\n      // HTML will be the static shell so all the Dynamic API's will be used\n      // during static generation.\n      if (isDebugStaticShell || isDebugDynamicAccesses) {\n        // Since we're not resuming the render, we need to at least add the\n        // closing body and html tags to create valid HTML.\n        body.push(\n          new ReadableStream({\n            start(controller) {\n              controller.enqueue(ENCODED_TAGS.CLOSED.BODY_AND_HTML)\n              controller.close()\n            },\n          })\n        )\n\n        return sendRenderResult({\n          req,\n          res,\n          generateEtags: nextConfig.generateEtags,\n          poweredByHeader: nextConfig.poweredByHeader,\n          result: body,\n          cacheControl: { revalidate: 0, expire: undefined },\n        })\n      }\n\n      // If we're in test mode, we should add a sentinel chunk to the response\n      // that's between the static and dynamic parts so we can compare the\n      // chunks and add assertions.\n      if (process.env.__NEXT_TEST_MODE) {\n        body.push(createPPRBoundarySentinel())\n      }\n\n      // This request has postponed, so let's create a new transformer that the\n      // dynamic data can pipe to that will attach the dynamic data to the end\n      // of the response.\n      const transformer = new TransformStream<Uint8Array, Uint8Array>()\n      body.push(transformer.readable)\n\n      // Perform the render again, but this time, provide the postponed state.\n      // We don't await because we want the result to start streaming now, and\n      // we've already chained the transformer's readable to the render result.\n      doRender({\n        span,\n        postponed: cachedData.postponed,\n        // This is a resume render, not a fallback render, so we don't need to\n        // set this.\n        fallbackRouteParams: null,\n        forceStaticRender: false,\n      })\n        .then(async (result) => {\n          if (!result) {\n            throw new Error('Invariant: expected a result to be returned')\n          }\n\n          if (result.value?.kind !== CachedRouteKind.APP_PAGE) {\n            throw new Error(\n              `Invariant: expected a page response, got ${result.value?.kind}`\n            )\n          }\n\n          // Pipe the resume result to the transformer.\n          await result.value.html.pipeTo(transformer.writable)\n        })\n        .catch((err) => {\n          // An error occurred during piping or preparing the render, abort\n          // the transformers writer so we can terminate the stream.\n          transformer.writable.abort(err).catch((e) => {\n            console.error(\"couldn't abort transformer\", e)\n          })\n        })\n\n      return sendRenderResult({\n        req,\n        res,\n        generateEtags: nextConfig.generateEtags,\n        poweredByHeader: nextConfig.poweredByHeader,\n        result: body,\n        // We don't want to cache the response if it has postponed data because\n        // the response being sent to the client it's dynamic parts are streamed\n        // to the client on the same request.\n        cacheControl: { revalidate: 0, expire: undefined },\n      })\n    }\n\n    // TODO: activeSpan code path is for when wrapped by\n    // next-server can be removed when this is no longer used\n    if (activeSpan) {\n      await handleResponse(activeSpan)\n    } else {\n      return await tracer.withPropagatedContext(req.headers, () =>\n        tracer.trace(\n          BaseServerSpan.handleRequest,\n          {\n            spanName: `${method} ${srcPage}`,\n            kind: SpanKind.SERVER,\n            attributes: {\n              'http.method': method,\n              'http.target': req.url,\n            },\n          },\n          handleResponse\n        )\n      )\n    }\n  } catch (err) {\n    if (!(err instanceof NoFallbackError)) {\n      const silenceLog = false\n      await routeModule.onRequestError(\n        req,\n        err,\n        {\n          routerKind: 'App Router',\n          routePath: srcPage,\n          routeType: 'render',\n          revalidateReason: getRevalidateReason({\n            isStaticGeneration: isSSG,\n            isOnDemandRevalidate,\n          }),\n        },\n        silenceLog,\n        routerServerContext\n      )\n    }\n\n    // rethrow so that we can handle serving error page\n    throw err\n  }\n}\n\n// TODO: omit this from production builds, only test builds should include it\n/**\n * Creates a readable stream that emits a PPR boundary sentinel.\n *\n * @returns A readable stream that emits a PPR boundary sentinel.\n */\nfunction createPPRBoundarySentinel() {\n  return new ReadableStream({\n    start(controller) {\n      controller.enqueue(\n        new TextEncoder().encode('<!-- PPR_BOUNDARY_SENTINEL -->')\n      )\n      controller.close()\n    },\n  })\n}\n"],"names":["AppPageRouteModule","RouteKind","getRevalidateReason","getTracer","SpanKind","addRequestMeta","getRequestMeta","BaseServerSpan","interopDefault","stripFlightHeaders","NodeNextRequest","NodeNextResponse","checkIsAppPPREnabled","getFallbackRouteParams","createOpaqueFallbackRouteParams","setManifestsSingleton","isHtmlBotRequest","shouldServeStreamingMetadata","normalizeAppPath","getIsPossibleServerAction","RSC_HEADER","NEXT_ROUTER_PREFETCH_HEADER","NEXT_IS_PRERENDER_HEADER","NEXT_DID_POSTPONE_HEADER","RSC_CONTENT_TYPE_HEADER","getBotType","isBot","CachedRouteKind","IncrementalCacheKind","FallbackMode","parseFallbackField","RenderResult","CACHE_ONE_YEAR","HTML_CONTENT_TYPE_HEADER","NEXT_CACHE_TAGS_HEADER","NEXT_RESUME_HEADER","ENCODED_TAGS","sendRenderResult","NoFallbackError","parseMaxPostponedStateSize","GlobalError","__next_app__","require","__next_app_require__","loadChunk","__next_app_load_chunk__","entryBase","RedirectStatusCode","InvariantError","scheduleOnNextTick","isInterceptionRouteAppPath","routeModule","definition","kind","APP_PAGE","page","pathname","bundlePath","filename","appPaths","userland","loaderTree","tree","distDir","process","env","__NEXT_RELATIVE_DIST_DIR","relativeProjectDir","__NEXT_RELATIVE_PROJECT_DIR","handler","req","res","ctx","prerenderManifest","isDev","hrtime","bigint","isMinimalMode","Boolean","MINIMAL_MODE","srcPage","TURBOPACK","replace","multiZoneDraftMode","__NEXT_MULTI_ZONE_DRAFT_MODE","prepareResult","prepare","statusCode","end","waitUntil","Promise","resolve","buildId","query","params","pageIsDynamic","buildManifest","nextFontManifest","reactLoadableManifest","serverActionsManifest","clientReferenceManifest","subresourceIntegrityManifest","isDraftMode","resolvedPathname","revalidateOnlyGenerated","routerServerContext","nextConfig","parsedUrl","interceptionRoutePatterns","deploymentId","normalizedSrcPage","isOnDemandRevalidate","prerenderInfo","experimental","ppr","cacheComponents","match","isPrerendered","routes","userAgent","headers","botType","isHtmlBot","isPrefetchRSCRequest","isRSCRequest","isPossibleServerAction","couldSupportPPR","method","body","chunk","push","postponed","Buffer","concat","toString","hasDebugStaticShellQuery","__NEXT_EXPERIMENTAL_STATIC_SHELL_DEBUGGING","__nextppronly","hasDebugFallbackShellQuery","isRoutePPREnabled","dynamicRoutes","renderingMode","experimentalTestProxy","isDebugStaticShell","isDebugDynamicAccesses","isDebugFallbackShell","minimalPostponed","undefined","isDynamicRSCRequest","segmentPrefetchHeader","serveStreamingMetadata","htmlLimitedBots","isSSG","supportsRDCForNavigations","supportsDynamicResponse","shouldWaitOnAllReady","ssgCacheKey","staticPathKey","ComponentMod","tracer","activeSpan","getActiveScopeSpan","render404","varyHeader","getVaryHeader","setHeader","invokeRouteModule","span","context","nextReq","nextRes","render","finally","setAttributes","rootSpanAttributes","getRootSpanAttributes","get","handleRequest","console","warn","route","name","updateName","incrementalCache","doRender","fallbackRouteParams","forceStaticRender","sharedContext","serverComponentsHmrCache","renderOpts","App","Document","pageConfig","Component","setCacheStatus","setIsrStatus","setReactDebugChannel","sendErrorsToBrowser","dir","NEXT_RUNTIME","join","cwd","assetPrefix","nextConfigOutput","output","crossOrigin","trailingSlash","images","previewProps","preview","enableTainting","taint","reactMaxHeadersLength","cacheLifeProfiles","cacheLife","basePath","serverActions","nextExport","isStaticGeneration","expireTime","staleTimes","dynamicOnHover","inlineCss","authInterrupts","clientTraceMetadata","clientParamParsingOrigins","maxPostponedStateSizeBytes","maxPostponedStateSize","onClose","cb","on","onAfterTaskError","onInstrumentationRequestError","error","_request","errorContext","silenceLog","onRequestError","err","dev","result","metadata","cacheControl","fetchTags","cacheTags","fetchMetrics","revalidate","staticBailoutInfo","Error","description","stack","message","substring","indexOf","value","html","rscData","flightData","status","segmentData","responseGenerator","hasResolved","previousCacheEntry","previousIncrementalCacheEntry","isRevalidating","isProduction","didRespond","writableEnded","fallbackMode","fallback","PRERENDER","BLOCKING_STATIC_RENDER","isStale","NOT_FOUND","adapterPath","cacheKey","fallbackResponse","handleResponse","routeKind","isFallback","incrementalCacheEntry","responseCache","getResponseCache","c","expire","PAGES","EMPTY","pageData","cacheEntry","cachedData","didPostpone","isMiss","getHeader","tags","matchedSegment","generateEtags","poweredByHeader","fromStatic","onCacheEntry","finished","url","key","Object","entries","Array","isArray","v","appendHeader","contentType","__NEXT_TEST_MODE","unshift","createPPRBoundarySentinel","ReadableStream","start","controller","enqueue","CLOSED","BODY_AND_HTML","close","transformer","TransformStream","readable","then","pipeTo","writable","catch","abort","e","withPropagatedContext","trace","spanName","SERVER","attributes","routerKind","routePath","routeType","revalidateReason","TextEncoder","encode"],"mappings":"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","ignoreList":[0]}}]
}