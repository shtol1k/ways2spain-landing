{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Dashboard/Default/ModularDashboard/renderWidget/getDefaultLayoutServerFn.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Dashboard/Default/ModularDashboard/renderWidget/getDefaultLayoutServerFn.ts"],"sourcesContent":["import type {\n  DashboardConfig,\n  PayloadRequest,\n  ServerFunction,\n  Widget,\n  WidgetServerProps,\n} from 'payload'\n\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\n\nimport type { WidgetInstanceClient, WidgetItem } from '../index.client.js'\n\nexport type GetDefaultLayoutServerFnArgs = Record<string, never>\n\nexport type GetDefaultLayoutServerFnReturnType = {\n  layout: WidgetInstanceClient[]\n}\n\n/**\n * Server function to get the default dashboard layout on-demand.\n * Used when resetting the dashboard to its default configuration.\n */\nexport const getDefaultLayoutHandler: ServerFunction<\n  GetDefaultLayoutServerFnArgs,\n  Promise<GetDefaultLayoutServerFnReturnType>\n> = async ({ req }) => {\n  if (!req.user) {\n    throw new Error('Unauthorized')\n  }\n\n  const { defaultLayout = [], widgets = [] } = req.payload.config.admin.dashboard || {}\n  const { importMap } = req.payload\n\n  const layoutItems = await getItemsFromConfig(defaultLayout, req, widgets)\n\n  const layout: WidgetInstanceClient[] = layoutItems.map((layoutItem) => {\n    const widgetSlug = layoutItem.id.slice(0, layoutItem.id.lastIndexOf('-'))\n    return {\n      component: RenderServerComponent({\n        Component: widgets.find((widget) => widget.slug === widgetSlug)?.ComponentPath,\n        importMap,\n        serverProps: {\n          req,\n          widgetSlug,\n        } satisfies WidgetServerProps,\n      }),\n      item: layoutItem,\n    }\n  })\n\n  return { layout }\n}\n\nasync function getItemsFromConfig(\n  defaultLayout: NonNullable<DashboardConfig['defaultLayout']>,\n  req: PayloadRequest,\n  widgets: Widget[],\n): Promise<WidgetItem[]> {\n  // Handle function format\n  let widgetInstances\n  if (typeof defaultLayout === 'function') {\n    widgetInstances = await defaultLayout({ req })\n  } else {\n    widgetInstances = defaultLayout\n  }\n\n  return widgetInstances.map((widgetInstance, index) => {\n    const widget = widgets.find((w) => w.slug === widgetInstance.widgetSlug)\n    return {\n      id: `${widgetInstance.widgetSlug}-${index}`,\n      maxWidth: widget?.maxWidth ?? 'full',\n      minWidth: widget?.minWidth ?? 'x-small',\n      width: widgetInstance.width || 'x-small',\n    }\n  })\n}\n"],"names":["RenderServerComponent","getDefaultLayoutHandler","req","user","Error","defaultLayout","widgets","payload","config","admin","dashboard","importMap","layoutItems","getItemsFromConfig","layout","map","layoutItem","widgetSlug","id","slice","lastIndexOf","component","Component","find","widget","slug","ComponentPath","serverProps","item","widgetInstances","widgetInstance","index","w","maxWidth","minWidth","width"],"mappings":";;;;AAQA,SAASA,qBAAqB,QAAQ;;;;;;AAc/B,MAAMC,uBAAA,GAGT,MAAAA,CAAO,EAAEC,GAAAA,EAAK;IAChB,IAAI,CAACA,GAAA,CAAIC,IAAI,EAAE;QACb,MAAM,IAAIC,KAAA,CAAM;IAClB;IAEA,MAAM,EAAEC,aAAA,GAAgB,EAAE,EAAEC,OAAA,GAAU,EAAA,EAAI,GAAGJ,GAAA,CAAIK,OAAO,CAACC,MAAM,CAACC,KAAK,CAACC,SAAS,IAAI,CAAC;IACpF,MAAM,EAAEC,SAAAA,EAAW,GAAGT,GAAA,CAAIK,OAAO;IAEjC,MAAMK,WAAA,GAAc,MAAMC,kBAAA,CAAmBR,aAAA,EAAeH,GAAA,EAAKI,OAAA;IAEjE,MAAMQ,MAAA,GAAiCF,WAAA,CAAYG,GAAG,EAAEC,UAAA;QACtD,MAAMC,UAAA,GAAaD,UAAA,CAAWE,EAAE,CAACC,KAAK,CAAC,GAAGH,UAAA,CAAWE,EAAE,CAACE,WAAW,CAAC;QACpE,OAAO;YACLC,SAAA,MAAWrB,iNAAA,EAAsB;gBAC/BsB,SAAA,EAAWhB,OAAA,CAAQiB,IAAI,EAAEC,MAAA,GAAWA,MAAA,CAAOC,IAAI,KAAKR,UAAA,GAAaS,aAAA;gBACjEf,SAAA;gBACAgB,WAAA,EAAa;oBACXzB,GAAA;oBACAe;gBACF;YACF;YACAW,IAAA,EAAMZ;QACR;IACF;IAEA,OAAO;QAAEF;IAAO;AAClB;AAEA,eAAeD,mBACbR,aAA4D,EAC5DH,GAAmB,EACnBI,OAAiB;IAEjB,yBAAA;IACA,IAAIuB,eAAA;IACJ,IAAI,OAAOxB,aAAA,KAAkB,YAAY;QACvCwB,eAAA,GAAkB,MAAMxB,aAAA,CAAc;YAAEH;QAAI;IAC9C,OAAO;QACL2B,eAAA,GAAkBxB,aAAA;IACpB;IAEA,OAAOwB,eAAA,CAAgBd,GAAG,CAAC,CAACe,cAAA,EAAgBC,KAAA;QAC1C,MAAMP,MAAA,GAASlB,OAAA,CAAQiB,IAAI,EAAES,CAAA,GAAMA,CAAA,CAAEP,IAAI,KAAKK,cAAA,CAAeb,UAAU;QACvE,OAAO;YACLC,EAAA,EAAI,GAAGY,cAAA,CAAeb,UAAU,CAAA,CAAA,EAAIc,KAAA,EAAO;YAC3CE,QAAA,EAAUT,MAAA,EAAQS,QAAA,IAAY;YAC9BC,QAAA,EAAUV,MAAA,EAAQU,QAAA,IAAY;YAC9BC,KAAA,EAAOL,cAAA,CAAeK,KAAK,IAAI;QACjC;IACF;AACF","ignoreList":[]}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Dashboard/Default/ModularDashboard/renderWidget/renderWidgetServerFn.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Dashboard/Default/ModularDashboard/renderWidget/renderWidgetServerFn.ts"],"sourcesContent":["import type { ServerFunction, WidgetServerProps } from 'payload'\n\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport React from 'react'\n\nexport type RenderWidgetServerFnArgs = {\n  /**\n   * Instance-specific data for this widget\n   */\n  // TODO: widgets will support state in the future\n  // widgetData?: Record<string, unknown>\n  /**\n   * The slug of the widget to render\n   */\n  widgetSlug: string\n}\n\nexport type RenderWidgetServerFnReturnType = {\n  component: React.ReactNode\n}\n\n/**\n * Server function to render a widget on-demand.\n * Similar to render-field but specifically for dashboard widgets.\n */\nexport const renderWidgetHandler: ServerFunction<\n  RenderWidgetServerFnArgs,\n  RenderWidgetServerFnReturnType\n> = ({ req, /* widgetData, */ widgetSlug }) => {\n  if (!req.user) {\n    throw new Error('Unauthorized')\n  }\n\n  const { widgets } = req.payload.config.admin.dashboard\n  const { importMap } = req.payload\n\n  // Find the widget configuration\n  const widgetConfig = widgets.find((widget) => widget.slug === widgetSlug)\n\n  if (!widgetConfig) {\n    return {\n      component: React.createElement(\n        'div',\n        {\n          style: {\n            background: 'var(--theme-elevation-50)',\n            border: '1px solid var(--theme-elevation-200)',\n            borderRadius: '4px',\n            color: 'var(--theme-text)',\n            padding: '20px',\n            textAlign: 'center',\n          },\n        },\n        `Widget \"${widgetSlug}\" not found`,\n      ),\n    }\n  }\n\n  try {\n    // Create server props for the widget\n    const serverProps: WidgetServerProps = {\n      req,\n      // TODO: widgetData: widgetData || {},\n      widgetSlug,\n    }\n\n    // Render the widget server component\n    const component = RenderServerComponent({\n      Component: widgetConfig.ComponentPath,\n      importMap,\n      serverProps,\n    })\n\n    return { component }\n  } catch (error) {\n    const errorMessage = error instanceof Error ? error.message : String(error)\n\n    req.payload.logger.error({\n      err: error,\n      msg: `Error rendering widget \"${widgetSlug}\": ${errorMessage}`,\n    })\n\n    return {\n      component: React.createElement(\n        'div',\n        {\n          style: {\n            background: 'var(--theme-error-50)',\n            border: '1px solid var(--theme-error-200)',\n            borderRadius: '4px',\n            color: 'var(--theme-error-text)',\n            padding: '20px',\n            textAlign: 'center',\n          },\n        },\n        'Error loading widget',\n      ),\n    }\n  }\n}\n"],"names":["RenderServerComponent","React","renderWidgetHandler","req","widgetSlug","user","Error","widgets","payload","config","admin","dashboard","importMap","widgetConfig","find","widget","slug","component","createElement","style","background","border","borderRadius","color","padding","textAlign","serverProps","Component","ComponentPath","error","errorMessage","message","String","logger","err","msg"],"mappings":";;;;AAEA,SAASA,qBAAqB,QAAQ;AACtC,OAAOC,KAAA,MAAW;;;;;;;AAsBX,MAAMC,mBAAA,GAGTA,CAAC,EAAEC,GAAG,EAAE,eAAA,GAAkBC,UAAAA,EAAY;IACxC,IAAI,CAACD,GAAA,CAAIE,IAAI,EAAE;QACb,MAAM,IAAIC,KAAA,CAAM;IAClB;IAEA,MAAM,EAAEC,OAAAA,EAAS,GAAGJ,GAAA,CAAIK,OAAO,CAACC,MAAM,CAACC,KAAK,CAACC,SAAS;IACtD,MAAM,EAAEC,SAAAA,EAAW,GAAGT,GAAA,CAAIK,OAAO;IAEjC,gCAAA;IACA,MAAMK,YAAA,GAAeN,OAAA,CAAQO,IAAI,EAAEC,MAAA,GAAWA,MAAA,CAAOC,IAAI,KAAKZ,UAAA;IAE9D,IAAI,CAACS,YAAA,EAAc;QACjB,OAAO;YACLI,SAAA,EAAWhB,gNAAA,CAAMiB,aAAa,CAC5B,OACA;gBACEC,KAAA,EAAO;oBACLC,UAAA,EAAY;oBACZC,MAAA,EAAQ;oBACRC,YAAA,EAAc;oBACdC,KAAA,EAAO;oBACPC,OAAA,EAAS;oBACTC,SAAA,EAAW;gBACb;YACF,GACA,CAAA,QAAA,EAAWrB,UAAA,CAAA,WAAA,CAAuB;QAEtC;IACF;IAEA,IAAI;QACF,qCAAA;QACA,MAAMsB,WAAA,GAAiC;YACrCvB,GAAA;YACA,sCAAA;YACAC;QACF;QAEA,qCAAA;QACA,MAAMa,SAAA,OAAYjB,iNAAA,EAAsB;YACtC2B,SAAA,EAAWd,YAAA,CAAae,aAAa;YACrChB,SAAA;YACAc;QACF;QAEA,OAAO;YAAET;QAAU;IACrB,EAAE,OAAOY,KAAA,EAAO;QACd,MAAMC,YAAA,GAAeD,KAAA,YAAiBvB,KAAA,GAAQuB,KAAA,CAAME,OAAO,GAAGC,MAAA,CAAOH,KAAA;QAErE1B,GAAA,CAAIK,OAAO,CAACyB,MAAM,CAACJ,KAAK,CAAC;YACvBK,GAAA,EAAKL,KAAA;YACLM,GAAA,EAAK,CAAA,wBAAA,EAA2B/B,UAAA,CAAA,GAAA,EAAgB0B,YAAA,EAAA;QAClD;QAEA,OAAO;YACLb,SAAA,EAAWhB,gNAAA,CAAMiB,aAAa,CAC5B,OACA;gBACEC,KAAA,EAAO;oBACLC,UAAA,EAAY;oBACZC,MAAA,EAAQ;oBACRC,YAAA,EAAc;oBACdC,KAAA,EAAO;oBACPC,OAAA,EAAS;oBACTC,SAAA,EAAW;gBACb;YACF,GACA;QAEJ;IACF;AACF","ignoreList":[]}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/DocumentHeader/Tabs/ShouldRenderTabs.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ShouldRenderTabs = registerClientReference(\n    function() { throw new Error(\"Attempted to call ShouldRenderTabs() from the server but ShouldRenderTabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/ShouldRenderTabs.js <module evaluation>\",\n    \"ShouldRenderTabs\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,qHACA","ignoreList":[0]}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/DocumentHeader/Tabs/ShouldRenderTabs.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ShouldRenderTabs = registerClientReference(\n    function() { throw new Error(\"Attempted to call ShouldRenderTabs() from the server but ShouldRenderTabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/ShouldRenderTabs.js\",\n    \"ShouldRenderTabs\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,iGACA","ignoreList":[0]}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/ShouldRenderTabs.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/ShouldRenderTabs.tsx"],"sourcesContent":["'use client'\nimport type React from 'react'\n\nimport { useDocumentInfo } from '@payloadcms/ui'\n\nexport const ShouldRenderTabs: React.FC<{\n  children: React.ReactNode\n}> = ({ children }) => {\n  const { id: idFromContext, collectionSlug, globalSlug } = useDocumentInfo()\n\n  const id = idFromContext !== 'create' ? idFromContext : null\n\n  // Don't show tabs when creating new documents\n  if ((collectionSlug && id) || globalSlug) {\n    return children\n  }\n\n  return null\n}\n"],"names":["useDocumentInfo","ShouldRenderTabs","t0","children","id","idFromContext","collectionSlug","globalSlug"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/DocumentHeader/Tabs/Tab/TabLink.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DocumentTabLink = registerClientReference(\n    function() { throw new Error(\"Attempted to call DocumentTabLink() from the server but DocumentTabLink is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/Tab/TabLink.js <module evaluation>\",\n    \"DocumentTabLink\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,kBAAkB,IAAA,wQAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,gHACA","ignoreList":[0]}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/DocumentHeader/Tabs/Tab/TabLink.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DocumentTabLink = registerClientReference(\n    function() { throw new Error(\"Attempted to call DocumentTabLink() from the server but DocumentTabLink is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/Tab/TabLink.js\",\n    \"DocumentTabLink\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,kBAAkB,IAAA,wQAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,4FACA","ignoreList":[0]}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/Tab/TabLink.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/Tab/TabLink.tsx"],"sourcesContent":["'use client'\nimport type { SanitizedConfig } from 'payload'\n\nimport { Button } from '@payloadcms/ui'\nimport { useParams, usePathname, useSearchParams } from 'next/navigation.js'\nimport { formatAdminURL } from 'payload/shared'\nimport React from 'react'\n\nexport const DocumentTabLink: React.FC<{\n  adminRoute: SanitizedConfig['routes']['admin']\n  ariaLabel?: string\n  baseClass: string\n  children?: React.ReactNode\n  href: string\n  isActive?: boolean\n  newTab?: boolean\n}> = ({\n  adminRoute,\n  ariaLabel,\n  baseClass,\n  children,\n  href: hrefFromProps,\n  isActive: isActiveFromProps,\n  newTab,\n}) => {\n  const pathname = usePathname()\n  const params = useParams()\n\n  const searchParams = useSearchParams()\n\n  const locale = searchParams.get('locale')\n\n  const [entityType, entitySlug, segmentThree, segmentFour, ...rest] = params.segments || []\n  const isCollection = entityType === 'collections'\n\n  let docPath = formatAdminURL({\n    adminRoute,\n    path: `/${isCollection ? 'collections' : 'globals'}/${entitySlug}`,\n  })\n\n  if (isCollection) {\n    if (segmentThree === 'trash' && segmentFour) {\n      docPath += `/trash/${segmentFour}`\n    } else if (segmentThree) {\n      docPath += `/${segmentThree}`\n    }\n  }\n\n  const href = `${docPath}${hrefFromProps}`\n  // separated the two so it doesn't break checks against pathname\n  const hrefWithLocale = `${href}${locale ? `?locale=${locale}` : ''}`\n\n  const isActive =\n    (href === docPath && pathname === docPath) ||\n    (href !== docPath && pathname.startsWith(href)) ||\n    isActiveFromProps\n\n  return (\n    <Button\n      aria-label={ariaLabel}\n      buttonStyle=\"tab\"\n      className={[baseClass, isActive && `${baseClass}--active`].filter(Boolean).join(' ')}\n      disabled={isActive}\n      el={!isActive || href !== pathname ? 'link' : 'div'}\n      margin={false}\n      newTab={newTab}\n      size=\"medium\"\n      to={!isActive || href !== pathname ? hrefWithLocale : undefined}\n    >\n      {children}\n    </Button>\n  )\n}\n"],"names":["c","_c","Button","useParams","usePathname","useSearchParams","formatAdminURL","React","DocumentTabLink","t0","$","adminRoute","ariaLabel","baseClass","children","href","hrefFromProps","isActive","isActiveFromProps","newTab","pathname","params","searchParams","locale","get","entityType","entitySlug","segmentThree","segmentFour","segments","isCollection","t1","t2","path","docPath","hrefWithLocale","t3","startsWith","_jsx","buttonStyle","className","filter","Boolean","join","disabled","el","margin","size","to","undefined"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/Tab/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/Tab/index.tsx"],"sourcesContent":["import type {\n  DocumentTabConfig,\n  DocumentTabServerPropsOnly,\n  PayloadRequest,\n  SanitizedCollectionConfig,\n  SanitizedGlobalConfig,\n  SanitizedPermissions,\n} from 'payload'\nimport type React from 'react'\n\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { Fragment } from 'react'\n\nimport { DocumentTabLink } from './TabLink.js'\nimport './index.scss'\n\nexport const baseClass = 'doc-tab'\n\nexport const DefaultDocumentTab: React.FC<{\n  apiURL?: string\n  collectionConfig?: SanitizedCollectionConfig\n  globalConfig?: SanitizedGlobalConfig\n  path?: string\n  permissions?: SanitizedPermissions\n  req: PayloadRequest\n  tabConfig: { readonly Pill_Component?: React.FC } & DocumentTabConfig\n}> = (props) => {\n  const {\n    apiURL,\n    collectionConfig,\n    globalConfig,\n    permissions,\n    req,\n    tabConfig: { href: tabHref, isActive: tabIsActive, label, newTab, Pill, Pill_Component },\n  } = props\n\n  let href = typeof tabHref === 'string' ? tabHref : ''\n  let isActive = typeof tabIsActive === 'boolean' ? tabIsActive : false\n\n  if (typeof tabHref === 'function') {\n    href = tabHref({\n      apiURL,\n      collection: collectionConfig,\n      global: globalConfig,\n      routes: req.payload.config.routes,\n    })\n  }\n\n  if (typeof tabIsActive === 'function') {\n    isActive = tabIsActive({\n      href,\n    })\n  }\n\n  const labelToRender =\n    typeof label === 'function'\n      ? label({\n          t: req.i18n.t,\n        })\n      : label\n\n  return (\n    <DocumentTabLink\n      adminRoute={req.payload.config.routes.admin}\n      ariaLabel={labelToRender}\n      baseClass={baseClass}\n      href={href}\n      isActive={isActive}\n      newTab={newTab}\n    >\n      <span className={`${baseClass}__label`}>\n        {labelToRender}\n        {Pill || Pill_Component ? (\n          <Fragment>\n            &nbsp;\n            {RenderServerComponent({\n              Component: Pill,\n              Fallback: Pill_Component,\n              importMap: req.payload.importMap,\n              serverProps: {\n                i18n: req.i18n,\n                payload: req.payload,\n                permissions,\n                req,\n                user: req.user,\n              } satisfies DocumentTabServerPropsOnly,\n            })}\n          </Fragment>\n        ) : null}\n      </span>\n    </DocumentTabLink>\n  )\n}\n"],"names":["RenderServerComponent","Fragment","DocumentTabLink","baseClass","DefaultDocumentTab","props","apiURL","collectionConfig","globalConfig","permissions","req","tabConfig","href","tabHref","isActive","tabIsActive","label","newTab","Pill","Pill_Component","collection","global","routes","payload","config","labelToRender","t","i18n","_jsx","adminRoute","admin","ariaLabel","_jsxs","className","Component","Fallback","importMap","serverProps","user"],"mappings":";;;;;;;AAUA,SAASA,qBAAqB,QAAQ;AACtC,SAASC,QAAQ,QAAQ;AAEzB,SAASC,eAAe,QAAQ;;;;;;;;;AAGzB,MAAMC,SAAA,GAAY;AAElB,MAAMC,kBAAA,IAQPC,KAAA;IACJ,MAAM,EACJC,MAAM,EACNC,gBAAgB,EAChBC,YAAY,EACZC,WAAW,EACXC,GAAG,EACHC,SAAA,EAAW,EAAEC,IAAA,EAAMC,OAAO,EAAEC,QAAA,EAAUC,WAAW,EAAEC,KAAK,EAAEC,MAAM,EAAEC,IAAI,EAAEC,cAAAA,EAAc,EACvF,GAAGd,KAAA;IAEJ,IAAIO,IAAA,GAAO,OAAOC,OAAA,KAAY,WAAWA,OAAA,GAAU;IACnD,IAAIC,QAAA,GAAW,OAAOC,WAAA,KAAgB,YAAYA,WAAA,GAAc;IAEhE,IAAI,OAAOF,OAAA,KAAY,YAAY;QACjCD,IAAA,GAAOC,OAAA,CAAQ;YACbP,MAAA;YACAc,UAAA,EAAYb,gBAAA;YACZc,MAAA,EAAQb,YAAA;YACRc,MAAA,EAAQZ,GAAA,CAAIa,OAAO,CAACC,MAAM,CAACF,MAAAA;QAC7B;IACF;IAEA,IAAI,OAAOP,WAAA,KAAgB,YAAY;QACrCD,QAAA,GAAWC,WAAA,CAAY;YACrBH;QACF;IACF;IAEA,MAAMa,aAAA,GACJ,OAAOT,KAAA,KAAU,aACbA,KAAA,CAAM;QACJU,CAAA,EAAGhB,GAAA,CAAIiB,IAAI,CAACD,CAAAA;IACd,KACAV,KAAA;IAEN,OAAA,WAAA,OACEY,8NAAA,EAAC1B,uNAAA,EAAA;QACC2B,UAAA,EAAYnB,GAAA,CAAIa,OAAO,CAACC,MAAM,CAACF,MAAM,CAACQ,KAAK;QAC3CC,SAAA,EAAWN,aAAA;QACXtB,SAAA,EAAWA,SAAA;QACXS,IAAA,EAAMA,IAAA;QACNE,QAAA,EAAUA,QAAA;QACVG,MAAA,EAAQA,MAAA;kBAER,WAAA,OAAAe,+NAAA,EAAC,QAAA;YAAKC,SAAA,EAAW,GAAG9B,SAAA,CAAA,OAAA,CAAkB;;gBACnCsB,aAAA;gBACAP,IAAA,IAAQC,cAAA,GAAA,WAAA,OACPa,+NAAA,EAAC/B,iNAAA,EAAA;;wBAAS;4BAEPD,iNAAA,EAAsB;4BACrBkC,SAAA,EAAWhB,IAAA;4BACXiB,QAAA,EAAUhB,cAAA;4BACViB,SAAA,EAAW1B,GAAA,CAAIa,OAAO,CAACa,SAAS;4BAChCC,WAAA,EAAa;gCACXV,IAAA,EAAMjB,GAAA,CAAIiB,IAAI;gCACdJ,OAAA,EAASb,GAAA,CAAIa,OAAO;gCACpBd,WAAA;gCACAC,GAAA;gCACA4B,IAAA,EAAM5B,GAAA,CAAI4B,IAAAA;4BACZ;wBACF;qBAAA;qBAEA;aAAA;;;AAIZ","ignoreList":[]}},
    {"offset": {"line": 293, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/DocumentHeader/Tabs/tabs/VersionsPill/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const VersionsPill = registerClientReference(\n    function() { throw new Error(\"Attempted to call VersionsPill() from the server but VersionsPill is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/tabs/VersionsPill/index.js <module evaluation>\",\n    \"VersionsPill\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,4HACA","ignoreList":[0]}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/DocumentHeader/Tabs/tabs/VersionsPill/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const VersionsPill = registerClientReference(\n    function() { throw new Error(\"Attempted to call VersionsPill() from the server but VersionsPill is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/tabs/VersionsPill/index.js\",\n    \"VersionsPill\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,wGACA","ignoreList":[0]}},
    {"offset": {"line": 321, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/tabs/VersionsPill/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/tabs/VersionsPill/index.tsx"],"sourcesContent":["'use client'\nimport { useDocumentInfo } from '@payloadcms/ui'\nimport React from 'react'\n\nimport './index.scss'\n\nconst baseClass = 'pill-version-count'\n\nexport const VersionsPill: React.FC = () => {\n  const { versionCount } = useDocumentInfo()\n\n  if (!versionCount) {\n    return null\n  }\n\n  return <span className={baseClass}>{versionCount}</span>\n}\n"],"names":["c","_c","useDocumentInfo","React","baseClass","VersionsPill","$","versionCount","t0","_jsx","className","children"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 329, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/tabs/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/tabs/index.tsx"],"sourcesContent":["import type { DocumentTabConfig, SanitizedCollectionConfig, SanitizedGlobalConfig } from 'payload'\n\nimport { VersionsPill } from './VersionsPill/index.js'\n\nexport const documentViewKeys = ['api', 'default', 'livePreview', 'versions']\n\nexport type DocumentViewKey = (typeof documentViewKeys)[number]\n\nexport const getTabs = ({\n  collectionConfig,\n  globalConfig,\n}: {\n  collectionConfig?: SanitizedCollectionConfig\n  globalConfig?: SanitizedGlobalConfig\n}): { tab: DocumentTabConfig; viewPath: string }[] => {\n  const customViews =\n    collectionConfig?.admin?.components?.views?.edit ||\n    globalConfig?.admin?.components?.views?.edit ||\n    {}\n\n  return [\n    {\n      tab: {\n        href: '',\n        label: ({ t }) => t('general:edit'),\n        order: 100,\n        ...(customViews?.['default']?.tab || {}),\n      },\n      viewPath: '/',\n    },\n    {\n      tab: {\n        condition: ({ collectionConfig, globalConfig, permissions }) =>\n          Boolean(\n            (collectionConfig?.versions &&\n              permissions?.collections?.[collectionConfig?.slug]?.readVersions) ||\n              (globalConfig?.versions && permissions?.globals?.[globalConfig?.slug]?.readVersions),\n          ),\n        href: '/versions',\n        label: ({ t }) => t('version:versions'),\n        order: 300,\n        Pill_Component: VersionsPill,\n        ...(customViews?.['versions']?.tab || {}),\n      },\n      viewPath: '/versions',\n    },\n    {\n      tab: {\n        condition: ({ collectionConfig, globalConfig }) =>\n          (collectionConfig && !collectionConfig?.admin?.hideAPIURL) ||\n          (globalConfig && !globalConfig?.admin?.hideAPIURL),\n        href: '/api',\n        label: 'API',\n        order: 400,\n        ...(customViews?.['api']?.tab || {}),\n      },\n      viewPath: '/api',\n    },\n  ]\n    .concat(\n      Object.entries(customViews).reduce((acc, [key, value]) => {\n        if (documentViewKeys.includes(key)) {\n          return acc\n        }\n\n        if (value?.tab) {\n          acc.push({\n            tab: value.tab,\n            viewPath: 'path' in value ? value.path : '',\n          })\n        }\n\n        return acc\n      }, []),\n    )\n    ?.sort(({ tab: a }, { tab: b }) => {\n      if (a.order === undefined && b.order === undefined) {\n        return 0\n      } else if (a.order === undefined) {\n        return 1\n      } else if (b.order === undefined) {\n        return -1\n      }\n\n      return a.order - b.order\n    })\n}\n"],"names":["VersionsPill","documentViewKeys","getTabs","collectionConfig","globalConfig","customViews","admin","components","views","edit","tab","href","label","t","order","viewPath","condition","permissions","Boolean","versions","collections","slug","readVersions","globals","Pill_Component","hideAPIURL","concat","Object","entries","reduce","acc","key","value","includes","push","path","sort","a","b","undefined"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 404, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/index.tsx"],"sourcesContent":["import type {\n  DocumentTabClientProps,\n  DocumentTabServerPropsOnly,\n  PayloadRequest,\n  SanitizedCollectionConfig,\n  SanitizedGlobalConfig,\n  SanitizedPermissions,\n} from 'payload'\n\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport React from 'react'\n\nimport { ShouldRenderTabs } from './ShouldRenderTabs.js'\nimport { DefaultDocumentTab } from './Tab/index.js'\nimport { getTabs } from './tabs/index.js'\nimport './index.scss'\n\nconst baseClass = 'doc-tabs'\n\nexport const DocumentTabs: React.FC<{\n  collectionConfig: SanitizedCollectionConfig\n  globalConfig: SanitizedGlobalConfig\n  permissions: SanitizedPermissions\n  req: PayloadRequest\n}> = ({ collectionConfig, globalConfig, permissions, req }) => {\n  const { config } = req.payload\n\n  const tabs = getTabs({\n    collectionConfig,\n    globalConfig,\n  })\n\n  return (\n    <ShouldRenderTabs>\n      <div className={baseClass}>\n        <div className={`${baseClass}__tabs-container`}>\n          <ul className={`${baseClass}__tabs`}>\n            {tabs?.map(({ tab: tabConfig, viewPath }, index) => {\n              const { condition } = tabConfig || {}\n\n              const meetsCondition =\n                !condition ||\n                condition({ collectionConfig, config, globalConfig, permissions, req })\n\n              if (!meetsCondition) {\n                return null\n              }\n\n              if (tabConfig?.Component) {\n                return RenderServerComponent({\n                  clientProps: {\n                    path: viewPath,\n                  } satisfies DocumentTabClientProps,\n                  Component: tabConfig.Component,\n                  importMap: req.payload.importMap,\n                  key: `tab-${index}`,\n                  serverProps: {\n                    collectionConfig,\n                    globalConfig,\n                    i18n: req.i18n,\n                    payload: req.payload,\n                    permissions,\n                    req,\n                    user: req.user,\n                  } satisfies DocumentTabServerPropsOnly,\n                })\n              }\n\n              return (\n                <DefaultDocumentTab\n                  collectionConfig={collectionConfig}\n                  globalConfig={globalConfig}\n                  key={`tab-${index}`}\n                  path={viewPath}\n                  permissions={permissions}\n                  req={req}\n                  tabConfig={tabConfig}\n                />\n              )\n            })}\n          </ul>\n        </div>\n      </div>\n    </ShouldRenderTabs>\n  )\n}\n"],"names":["RenderServerComponent","React","ShouldRenderTabs","DefaultDocumentTab","getTabs","baseClass","DocumentTabs","collectionConfig","globalConfig","permissions","req","config","payload","tabs","_jsx","className","map","tab","tabConfig","viewPath","index","condition","meetsCondition","Component","clientProps","path","importMap","key","serverProps","i18n","user"],"mappings":";;;;;AASA,SAASA,qBAAqB,QAAQ;AACtC,OAAOC,KAAA,MAAW;AAElB,SAASC,gBAAgB,QAAQ;AACjC,SAASC,kBAAkB,QAAQ;AACnC,SAASC,OAAO,QAAQ;;;;;;;;;;;;AAGxB,MAAMC,SAAA,GAAY;AAEX,MAAMC,YAAA,GAKRA,CAAC,EAAEC,gBAAgB,EAAEC,YAAY,EAAEC,WAAW,EAAEC,GAAAA,EAAK;IACxD,MAAM,EAAEC,MAAAA,EAAQ,GAAGD,GAAA,CAAIE,OAAO;IAE9B,MAAMC,IAAA,OAAOT,8MAAA,EAAQ;QACnBG,gBAAA;QACAC;IACF;IAEA,OAAA,WAAA,OACEM,8NAAA,EAACZ,0NAAA,EAAA;kBACC,WAAA,OAAAY,8NAAA,EAAC,OAAA;YAAIC,SAAA,EAAWV,SAAA;sBACd,WAAA,OAAAS,8NAAA,EAAC,OAAA;gBAAIC,SAAA,EAAW,GAAGV,SAAA,CAAA,gBAAA,CAA2B;0BAC5C,WAAA,OAAAS,8NAAA,EAAC,MAAA;oBAAGC,SAAA,EAAW,GAAGV,SAAA,CAAA,MAAA,CAAiB;8BAChCQ,IAAA,EAAMG,GAAA,CAAI,CAAC,EAAEC,GAAA,EAAKC,SAAS,EAAEC,QAAAA,EAAU,EAAEC,KAAA;wBACxC,MAAM,EAAEC,SAAAA,EAAW,GAAGH,SAAA,IAAa,CAAC;wBAEpC,MAAMI,cAAA,GACJ,CAACD,SAAA,IACDA,SAAA,CAAU;4BAAEd,gBAAA;4BAAkBI,MAAA;4BAAQH,YAAA;4BAAcC,WAAA;4BAAaC;wBAAI;wBAEvE,IAAI,CAACY,cAAA,EAAgB;4BACnB,OAAO;wBACT;wBAEA,IAAIJ,SAAA,EAAWK,SAAA,EAAW;4BACxB,WAAOvB,iNAAA,EAAsB;gCAC3BwB,WAAA,EAAa;oCACXC,IAAA,EAAMN;gCACR;gCACAI,SAAA,EAAWL,SAAA,CAAUK,SAAS;gCAC9BG,SAAA,EAAWhB,GAAA,CAAIE,OAAO,CAACc,SAAS;gCAChCC,GAAA,EAAK,CAAA,IAAA,EAAOP,KAAA,EAAO;gCACnBQ,WAAA,EAAa;oCACXrB,gBAAA;oCACAC,YAAA;oCACAqB,IAAA,EAAMnB,GAAA,CAAImB,IAAI;oCACdjB,OAAA,EAASF,GAAA,CAAIE,OAAO;oCACpBH,WAAA;oCACAC,GAAA;oCACAoB,IAAA,EAAMpB,GAAA,CAAIoB,IAAAA;gCACZ;4BACF;wBACF;wBAEA,OAAA,WAAA,OACEhB,8NAAA,EAACX,wNAAA,EAAA;4BACCI,gBAAA,EAAkBA,gBAAA;4BAClBC,YAAA,EAAcA,YAAA;4BAEdiB,IAAA,EAAMN,QAAA;4BACNV,WAAA,EAAaA,WAAA;4BACbC,GAAA,EAAKA,GAAA;4BACLQ,SAAA,EAAWA;2BAJN,CAAA,IAAA,EAAOE,KAAA,EAAO;oBAOzB;;;;;AAMZ","ignoreList":[]}},
    {"offset": {"line": 491, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/DocumentHeader/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/DocumentHeader/index.tsx"],"sourcesContent":["import type {\n  PayloadRequest,\n  SanitizedCollectionConfig,\n  SanitizedGlobalConfig,\n  SanitizedPermissions,\n} from 'payload'\n\nimport { Gutter, RenderTitle } from '@payloadcms/ui'\nimport React from 'react'\n\nimport { DocumentTabs } from './Tabs/index.js'\nimport './index.scss'\n\nconst baseClass = `doc-header`\n\n/**\n * @internal\n */\nexport const DocumentHeader: React.FC<{\n  AfterHeader?: React.ReactNode\n  collectionConfig?: SanitizedCollectionConfig\n  globalConfig?: SanitizedGlobalConfig\n  hideTabs?: boolean\n  permissions: SanitizedPermissions\n  req: PayloadRequest\n}> = (props) => {\n  const { AfterHeader, collectionConfig, globalConfig, hideTabs, permissions, req } = props\n\n  return (\n    <Gutter className={baseClass}>\n      <div className={`${baseClass}__header`}>\n        <RenderTitle className={`${baseClass}__title`} />\n        {!hideTabs && (\n          <DocumentTabs\n            collectionConfig={collectionConfig}\n            globalConfig={globalConfig}\n            permissions={permissions}\n            req={req}\n          />\n        )}\n      </div>\n      {AfterHeader ? <div className={`${baseClass}__after-header`}>{AfterHeader}</div> : null}\n    </Gutter>\n  )\n}\n"],"names":["Gutter","RenderTitle","React","DocumentTabs","baseClass","DocumentHeader","props","AfterHeader","collectionConfig","globalConfig","hideTabs","permissions","req","_jsxs","className","_jsx"],"mappings":";;;;;AAOA,SAASA,MAAM,EAAEC,WAAW,QAAQ;AACpC,OAAOC,KAAA,MAAW;AAElB,SAASC,YAAY,QAAQ;;;;;;;;;AAG7B,MAAMC,SAAA,GAAY,CAAA,UAAA,CAAY;AAKvB,MAAMC,cAAA,IAOPC,KAAA;IACJ,MAAM,EAAEC,WAAW,EAAEC,gBAAgB,EAAEC,YAAY,EAAEC,QAAQ,EAAEC,WAAW,EAAEC,GAAAA,EAAK,GAAGN,KAAA;IAEpF,OAAA,WAAA,OACEO,+NAAA,EAACb,kLAAA,EAAA;QAAOc,SAAA,EAAWV,SAAA;;8BACjBS,+NAAA,EAAC,OAAA;gBAAIC,SAAA,EAAW,GAAGV,SAAA,CAAA,QAAA,CAAmB;;sCACpCW,8NAAA,EAACd,uLAAA,EAAA;wBAAYa,SAAA,EAAW,GAAGV,SAAA,CAAA,OAAA,CAAA;;oBAC1B,CAACM,QAAA,IAAA,WAAA,OACAK,8NAAA,EAACZ,2MAAA,EAAA;wBACCK,gBAAA,EAAkBA,gBAAA;wBAClBC,YAAA,EAAcA,YAAA;wBACdE,WAAA,EAAaA,WAAA;wBACbC,GAAA,EAAKA;;;;YAIVL,WAAA,GAAA,WAAA,OAAcQ,8NAAA,EAAC,OAAA;gBAAID,SAAA,EAAW,GAAGV,SAAA,CAAA,cAAA,CAAyB;0BAAGG;iBAAqB;SAAA;;AAGzF","ignoreList":[]}},
    {"offset": {"line": 539, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/utilities/getPreferences.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/utilities/getPreferences.ts"],"sourcesContent":["import type { DefaultDocumentIDType, Payload } from 'payload'\n\nimport { cache } from 'react'\n\nexport const getPreferences = cache(\n  async <T>(\n    key: string,\n    payload: Payload,\n    userID: DefaultDocumentIDType,\n    userSlug: string,\n  ): Promise<{ id: DefaultDocumentIDType; value: T }> => {\n    const result = (await payload\n      .find({\n        collection: 'payload-preferences',\n        depth: 0,\n        limit: 1,\n        pagination: false,\n        where: {\n          and: [\n            {\n              key: {\n                equals: key,\n              },\n            },\n            {\n              'user.relationTo': {\n                equals: userSlug,\n              },\n            },\n            {\n              'user.value': {\n                equals: userID,\n              },\n            },\n          ],\n        },\n      })\n      .then((res) => res.docs?.[0])) as { id: DefaultDocumentIDType; value: T }\n\n    return result\n  },\n)\n"],"names":["cache","getPreferences","key","payload","userID","userSlug","result","find","collection","depth","limit","pagination","where","and","equals","then","res","docs"],"mappings":";;;;AAEA,SAASA,KAAK,QAAQ;;AAEf,MAAMC,cAAA,OAAiBD,8MAAA,EAC5B,OACEE,GAAA,EACAC,OAAA,EACAC,MAAA,EACAC,QAAA;IAEA,MAAMC,MAAA,GAAU,MAAMH,OAAA,CACnBI,IAAI,CAAC;QACJC,UAAA,EAAY;QACZC,KAAA,EAAO;QACPC,KAAA,EAAO;QACPC,UAAA,EAAY;QACZC,KAAA,EAAO;YACLC,GAAA,EAAK;gBACH;oBACEX,GAAA,EAAK;wBACHY,MAAA,EAAQZ;oBACV;gBACF;gBACA;oBACE,mBAAmB;wBACjBY,MAAA,EAAQT;oBACV;gBACF;gBACA;oBACE,cAAc;wBACZS,MAAA,EAAQV;oBACV;gBACF;aAAA;QAEJ;IACF,GACCW,IAAI,EAAEC,GAAA,GAAQA,GAAA,CAAIC,IAAI,EAAA,CAAG,EAAE;IAE9B,OAAOX,MAAA;AACT","ignoreList":[]}},
    {"offset": {"line": 577, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/Nav/NavHamburger/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const NavHamburger = registerClientReference(\n    function() { throw new Error(\"Attempted to call NavHamburger() from the server but NavHamburger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/Nav/NavHamburger/index.js <module evaluation>\",\n    \"NavHamburger\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,uGACA","ignoreList":[0]}},
    {"offset": {"line": 591, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/Nav/NavHamburger/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const NavHamburger = registerClientReference(\n    function() { throw new Error(\"Attempted to call NavHamburger() from the server but NavHamburger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/Nav/NavHamburger/index.js\",\n    \"NavHamburger\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,mFACA","ignoreList":[0]}},
    {"offset": {"line": 605, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/Nav/NavHamburger/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/Nav/NavHamburger/index.tsx"],"sourcesContent":["'use client'\nimport { Hamburger, useNav } from '@payloadcms/ui'\nimport React from 'react'\n\n/**\n * @internal\n */\nexport const NavHamburger: React.FC<{\n  baseClass?: string\n}> = ({ baseClass }) => {\n  const { navOpen, setNavOpen } = useNav()\n\n  return (\n    <button\n      className={`${baseClass}__mobile-close`}\n      onClick={() => {\n        setNavOpen(false)\n      }}\n      tabIndex={!navOpen ? -1 : undefined}\n      type=\"button\"\n    >\n      <Hamburger isActive />\n    </button>\n  )\n}\n"],"names":["c","_c","Hamburger","useNav","React","NavHamburger","t0","$","baseClass","navOpen","setNavOpen","t1","t2","t3","undefined","t4","_jsx","className","onClick","tabIndex","type","children","isActive"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 613, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/Nav/NavWrapper/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const NavWrapper = registerClientReference(\n    function() { throw new Error(\"Attempted to call NavWrapper() from the server but NavWrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/Nav/NavWrapper/index.js <module evaluation>\",\n    \"NavWrapper\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,qGACA","ignoreList":[0]}},
    {"offset": {"line": 627, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/Nav/NavWrapper/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const NavWrapper = registerClientReference(\n    function() { throw new Error(\"Attempted to call NavWrapper() from the server but NavWrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/Nav/NavWrapper/index.js\",\n    \"NavWrapper\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,iFACA","ignoreList":[0]}},
    {"offset": {"line": 641, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/Nav/NavWrapper/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/Nav/NavWrapper/index.tsx"],"sourcesContent":["'use client'\nimport { useNav } from '@payloadcms/ui'\nimport React from 'react'\n\nimport './index.scss'\n\n/**\n * @internal\n */\nexport const NavWrapper: React.FC<{\n  baseClass?: string\n  children: React.ReactNode\n}> = (props) => {\n  const { baseClass, children } = props\n\n  const { hydrated, navOpen, navRef, shouldAnimate } = useNav()\n\n  return (\n    <aside\n      className={[\n        baseClass,\n        navOpen && `${baseClass}--nav-open`,\n        shouldAnimate && `${baseClass}--nav-animate`,\n        hydrated && `${baseClass}--nav-hydrated`,\n      ]\n        .filter(Boolean)\n        .join(' ')}\n      inert={!navOpen ? true : undefined}\n    >\n      <div className={`${baseClass}__scroll`} ref={navRef}>\n        {children}\n      </div>\n    </aside>\n  )\n}\n"],"names":["c","_c","useNav","React","NavWrapper","props","$","baseClass","children","hydrated","navOpen","navRef","shouldAnimate","t0","t1","t2","t3","filter","Boolean","t4","join","t5","undefined","t6","t7","_jsx","className","inert","ref"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 649, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/Nav/SettingsMenuButton/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SettingsMenuButton = registerClientReference(\n    function() { throw new Error(\"Attempted to call SettingsMenuButton() from the server but SettingsMenuButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/Nav/SettingsMenuButton/index.js <module evaluation>\",\n    \"SettingsMenuButton\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,qBAAqB,IAAA,wQAAuB,EACrD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,6GACA","ignoreList":[0]}},
    {"offset": {"line": 663, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/Nav/SettingsMenuButton/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SettingsMenuButton = registerClientReference(\n    function() { throw new Error(\"Attempted to call SettingsMenuButton() from the server but SettingsMenuButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/Nav/SettingsMenuButton/index.js\",\n    \"SettingsMenuButton\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,qBAAqB,IAAA,wQAAuB,EACrD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,yFACA","ignoreList":[0]}},
    {"offset": {"line": 677, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/Nav/SettingsMenuButton/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/Nav/SettingsMenuButton/index.tsx"],"sourcesContent":["'use client'\nimport { GearIcon, Popup, useTranslation } from '@payloadcms/ui'\nimport React, { Fragment } from 'react'\n\nimport './index.scss'\n\nconst baseClass = 'settings-menu-button'\n\nexport type SettingsMenuButtonProps = {\n  settingsMenu?: React.ReactNode[]\n}\n\nexport const SettingsMenuButton: React.FC<SettingsMenuButtonProps> = ({ settingsMenu }) => {\n  const { t } = useTranslation()\n\n  if (!settingsMenu || settingsMenu.length === 0) {\n    return null\n  }\n\n  return (\n    <Popup\n      button={<GearIcon ariaLabel={t('general:menu')} />}\n      className={baseClass}\n      horizontalAlign=\"left\"\n      id=\"settings-menu\"\n      size=\"small\"\n      verticalAlign=\"bottom\"\n    >\n      {settingsMenu.map((item, i) => (\n        <Fragment key={`settings-menu-item-${i}`}>{item}</Fragment>\n      ))}\n    </Popup>\n  )\n}\n"],"names":["c","_c","GearIcon","Popup","useTranslation","React","Fragment","baseClass","SettingsMenuButton","t0","$","settingsMenu","t","length","t1","_jsx","button","ariaLabel","id","size","verticalAlign","children","map","_temp","item","i"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 685, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/Nav/getNavPrefs.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/Nav/getNavPrefs.ts"],"sourcesContent":["import type { NavPreferences, PayloadRequest } from 'payload'\n\nimport { cache } from 'react'\n\nexport const getNavPrefs = cache(async (req: PayloadRequest): Promise<NavPreferences> => {\n  return req?.user?.collection\n    ? await req.payload\n        .find({\n          collection: 'payload-preferences',\n          depth: 0,\n          limit: 1,\n          pagination: false,\n          req,\n          where: {\n            and: [\n              {\n                key: {\n                  equals: 'nav',\n                },\n              },\n              {\n                'user.relationTo': {\n                  equals: req.user.collection,\n                },\n              },\n              {\n                'user.value': {\n                  equals: req?.user?.id,\n                },\n              },\n            ],\n          },\n        })\n        ?.then((res) => res?.docs?.[0]?.value)\n    : null\n})\n"],"names":["cache","getNavPrefs","req","user","collection","payload","find","depth","limit","pagination","where","and","key","equals","id","then","res","docs","value"],"mappings":";;;;AAEA,SAASA,KAAK,QAAQ;;AAEf,MAAMC,WAAA,OAAcD,8MAAA,EAAM,OAAOE,GAAA;IACtC,OAAOA,GAAA,EAAKC,IAAA,EAAMC,UAAA,GACd,MAAMF,GAAA,CAAIG,OAAO,CACdC,IAAI,CAAC;QACJF,UAAA,EAAY;QACZG,KAAA,EAAO;QACPC,KAAA,EAAO;QACPC,UAAA,EAAY;QACZP,GAAA;QACAQ,KAAA,EAAO;YACLC,GAAA,EAAK;gBACH;oBACEC,GAAA,EAAK;wBACHC,MAAA,EAAQ;oBACV;gBACF;gBACA;oBACE,mBAAmB;wBACjBA,MAAA,EAAQX,GAAA,CAAIC,IAAI,CAACC,UAAAA;oBACnB;gBACF;gBACA;oBACE,cAAc;wBACZS,MAAA,EAAQX,GAAA,EAAKC,IAAA,EAAMW;oBACrB;gBACF;aAAA;QAEJ;IACF,IACEC,IAAA,EAAMC,GAAA,GAAQA,GAAA,EAAKC,IAAA,EAAA,CAAO,EAAE,EAAEC,KAAA,IAClC;AACN","ignoreList":[]}},
    {"offset": {"line": 723, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/Nav/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DefaultNavClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call DefaultNavClient() from the server but DefaultNavClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/Nav/index.client.js <module evaluation>\",\n    \"DefaultNavClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,iGACA","ignoreList":[0]}},
    {"offset": {"line": 737, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/elements/Nav/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DefaultNavClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call DefaultNavClient() from the server but DefaultNavClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/elements/Nav/index.client.js\",\n    \"DefaultNavClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,6EACA","ignoreList":[0]}},
    {"offset": {"line": 751, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/Nav/index.client.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/Nav/index.client.tsx"],"sourcesContent":["'use client'\n\nimport type { groupNavItems } from '@payloadcms/ui/shared'\nimport type { NavPreferences } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { BrowseByFolderButton, Link, NavGroup, useConfig, useTranslation } from '@payloadcms/ui'\nimport { EntityType } from '@payloadcms/ui/shared'\nimport { usePathname } from 'next/navigation.js'\nimport { formatAdminURL } from 'payload/shared'\nimport React, { Fragment } from 'react'\n\nconst baseClass = 'nav'\n\n/**\n * @internal\n */\nexport const DefaultNavClient: React.FC<{\n  groups: ReturnType<typeof groupNavItems>\n  navPreferences: NavPreferences\n}> = ({ groups, navPreferences }) => {\n  const pathname = usePathname()\n\n  const {\n    config: {\n      admin: {\n        routes: { browseByFolder: foldersRoute },\n      },\n      folders,\n      routes: { admin: adminRoute },\n    },\n  } = useConfig()\n\n  const { i18n } = useTranslation()\n\n  const folderURL = formatAdminURL({\n    adminRoute,\n    path: foldersRoute,\n  })\n\n  const viewingRootFolderView = pathname.startsWith(folderURL)\n\n  return (\n    <Fragment>\n      {folders && folders.browseByFolder && <BrowseByFolderButton active={viewingRootFolderView} />}\n      {groups.map(({ entities, label }, key) => {\n        return (\n          <NavGroup isOpen={navPreferences?.groups?.[label]?.open} key={key} label={label}>\n            {entities.map(({ slug, type, label }, i) => {\n              let href: string\n              let id: string\n\n              if (type === EntityType.collection) {\n                href = formatAdminURL({ adminRoute, path: `/collections/${slug}` })\n                id = `nav-${slug}`\n              }\n\n              if (type === EntityType.global) {\n                href = formatAdminURL({ adminRoute, path: `/globals/${slug}` })\n                id = `nav-global-${slug}`\n              }\n\n              const isActive =\n                pathname.startsWith(href) && ['/', undefined].includes(pathname[href.length])\n\n              const Label = (\n                <>\n                  {isActive && <div className={`${baseClass}__link-indicator`} />}\n                  <span className={`${baseClass}__link-label`}>{getTranslation(label, i18n)}</span>\n                </>\n              )\n\n              // If the URL matches the link exactly\n              if (pathname === href) {\n                return (\n                  <div className={`${baseClass}__link`} id={id} key={i}>\n                    {Label}\n                  </div>\n                )\n              }\n\n              return (\n                <Link className={`${baseClass}__link`} href={href} id={id} key={i} prefetch={false}>\n                  {Label}\n                </Link>\n              )\n            })}\n          </NavGroup>\n        )\n      })}\n    </Fragment>\n  )\n}\n"],"names":["c","_c","getTranslation","BrowseByFolderButton","Link","NavGroup","useConfig","useTranslation","EntityType","usePathname","formatAdminURL","React","Fragment","baseClass","DefaultNavClient","t0","$","groups","navPreferences","pathname","config","t1","admin","t2","folders","routes","t3","t4","browseByFolder","foldersRoute","adminRoute","i18n","t5","folderURL","path","viewingRootFolderView","startsWith","t6","t7","key","entities","label","_jsx","isOpen","open","children","map","t8","i","slug","type","label_0","href","id","collection","global","isActive","undefined","includes","length","Label","_jsxs","_Fragment","className","prefetch","active"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 761, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/Nav/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/Nav/index.tsx"],"sourcesContent":["import type { EntityToGroup } from '@payloadcms/ui/shared'\nimport type { PayloadRequest, ServerProps } from 'payload'\n\nimport { Logout } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { EntityType, groupNavItems } from '@payloadcms/ui/shared'\nimport React from 'react'\n\nimport { NavHamburger } from './NavHamburger/index.js'\nimport { NavWrapper } from './NavWrapper/index.js'\nimport { SettingsMenuButton } from './SettingsMenuButton/index.js'\nimport './index.scss'\n\nconst baseClass = 'nav'\n\nimport { getNavPrefs } from './getNavPrefs.js'\nimport { DefaultNavClient } from './index.client.js'\n\nexport type NavProps = {\n  req?: PayloadRequest\n} & ServerProps\n\nexport const DefaultNav: React.FC<NavProps> = async (props) => {\n  const {\n    documentSubViewType,\n    i18n,\n    locale,\n    params,\n    payload,\n    permissions,\n    req,\n    searchParams,\n    user,\n    viewType,\n    visibleEntities,\n  } = props\n\n  if (!payload?.config) {\n    return null\n  }\n\n  const {\n    admin: {\n      components: { afterNavLinks, beforeNavLinks, logout, settingsMenu },\n    },\n    collections,\n    globals,\n  } = payload.config\n\n  const groups = groupNavItems(\n    [\n      ...collections\n        .filter(({ slug }) => visibleEntities.collections.includes(slug))\n        .map(\n          (collection) =>\n            ({\n              type: EntityType.collection,\n              entity: collection,\n            }) satisfies EntityToGroup,\n        ),\n      ...globals\n        .filter(({ slug }) => visibleEntities.globals.includes(slug))\n        .map(\n          (global) =>\n            ({\n              type: EntityType.global,\n              entity: global,\n            }) satisfies EntityToGroup,\n        ),\n    ],\n    permissions,\n    i18n,\n  )\n\n  const navPreferences = await getNavPrefs(req)\n\n  const LogoutComponent = RenderServerComponent({\n    clientProps: {\n      documentSubViewType,\n      viewType,\n    },\n    Component: logout?.Button,\n    Fallback: Logout,\n    importMap: payload.importMap,\n    serverProps: {\n      i18n,\n      locale,\n      params,\n      payload,\n      permissions,\n      searchParams,\n      user,\n    },\n  })\n\n  const renderedSettingsMenu =\n    settingsMenu && Array.isArray(settingsMenu)\n      ? settingsMenu.map((item, index) =>\n          RenderServerComponent({\n            clientProps: {\n              documentSubViewType,\n              viewType,\n            },\n            Component: item,\n            importMap: payload.importMap,\n            key: `settings-menu-item-${index}`,\n            serverProps: {\n              i18n,\n              locale,\n              params,\n              payload,\n              permissions,\n              searchParams,\n              user,\n            },\n          }),\n        )\n      : []\n\n  return (\n    <NavWrapper baseClass={baseClass}>\n      <nav className={`${baseClass}__wrap`}>\n        {RenderServerComponent({\n          clientProps: {\n            documentSubViewType,\n            viewType,\n          },\n          Component: beforeNavLinks,\n          importMap: payload.importMap,\n          serverProps: {\n            i18n,\n            locale,\n            params,\n            payload,\n            permissions,\n            searchParams,\n            user,\n          },\n        })}\n        <DefaultNavClient groups={groups} navPreferences={navPreferences} />\n        {RenderServerComponent({\n          clientProps: {\n            documentSubViewType,\n            viewType,\n          },\n          Component: afterNavLinks,\n          importMap: payload.importMap,\n          serverProps: {\n            i18n,\n            locale,\n            params,\n            payload,\n            permissions,\n            searchParams,\n            user,\n          },\n        })}\n        <div className={`${baseClass}__controls`}>\n          <SettingsMenuButton settingsMenu={renderedSettingsMenu} />\n          {LogoutComponent}\n        </div>\n      </nav>\n      <div className={`${baseClass}__header`}>\n        <div className={`${baseClass}__header-content`}>\n          <NavHamburger baseClass={baseClass} />\n        </div>\n      </div>\n    </NavWrapper>\n  )\n}\n"],"names":["Logout","RenderServerComponent","EntityType","groupNavItems","React","NavHamburger","NavWrapper","SettingsMenuButton","baseClass","getNavPrefs","DefaultNavClient","DefaultNav","props","documentSubViewType","i18n","locale","params","payload","permissions","req","searchParams","user","viewType","visibleEntities","config","admin","components","afterNavLinks","beforeNavLinks","logout","settingsMenu","collections","globals","groups","filter","slug","includes","map","collection","type","entity","global","navPreferences","LogoutComponent","clientProps","Component","Button","Fallback","importMap","serverProps","renderedSettingsMenu","Array","isArray","item","index","key","_jsxs","className","_jsx"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 916, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/templates/Default/NavHamburger/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const NavHamburger = registerClientReference(\n    function() { throw new Error(\"Attempted to call NavHamburger() from the server but NavHamburger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/templates/Default/NavHamburger/index.js <module evaluation>\",\n    \"NavHamburger\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,4GACA","ignoreList":[0]}},
    {"offset": {"line": 930, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/templates/Default/NavHamburger/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const NavHamburger = registerClientReference(\n    function() { throw new Error(\"Attempted to call NavHamburger() from the server but NavHamburger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/templates/Default/NavHamburger/index.js\",\n    \"NavHamburger\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,wFACA","ignoreList":[0]}},
    {"offset": {"line": 944, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/templates/Default/NavHamburger/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/templates/Default/NavHamburger/index.tsx"],"sourcesContent":["'use client'\nimport { Hamburger, useNav } from '@payloadcms/ui'\nimport React from 'react'\n\nexport const NavHamburger: React.FC = () => {\n  const { navOpen } = useNav()\n  return <Hamburger closeIcon=\"collapse\" isActive={navOpen} />\n}\n"],"names":["c","_c","Hamburger","useNav","React","NavHamburger","$","navOpen","t0","_jsx","closeIcon","isActive"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 952, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/templates/Default/Wrapper/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Wrapper = registerClientReference(\n    function() { throw new Error(\"Attempted to call Wrapper() from the server but Wrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/templates/Default/Wrapper/index.js <module evaluation>\",\n    \"Wrapper\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,UAAU,IAAA,wQAAuB,EAC1C;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,uGACA","ignoreList":[0]}},
    {"offset": {"line": 966, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/templates/Default/Wrapper/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Wrapper = registerClientReference(\n    function() { throw new Error(\"Attempted to call Wrapper() from the server but Wrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/templates/Default/Wrapper/index.js\",\n    \"Wrapper\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,UAAU,IAAA,wQAAuB,EAC1C;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,mFACA","ignoreList":[0]}},
    {"offset": {"line": 980, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/templates/Default/Wrapper/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/templates/Default/Wrapper/index.tsx"],"sourcesContent":["'use client'\nimport { useNav } from '@payloadcms/ui'\nimport React from 'react'\n\nimport './index.scss'\n\nexport const Wrapper: React.FC<{\n  baseClass?: string\n  children?: React.ReactNode\n  className?: string\n}> = (props) => {\n  const { baseClass, children, className } = props\n  const { hydrated, navOpen, shouldAnimate } = useNav()\n\n  return (\n    <div\n      className={[\n        baseClass,\n        className,\n        navOpen && `${baseClass}--nav-open`,\n        shouldAnimate && `${baseClass}--nav-animate`,\n        hydrated && `${baseClass}--nav-hydrated`,\n      ]\n        .filter(Boolean)\n        .join(' ')}\n    >\n      {children}\n    </div>\n  )\n}\n"],"names":["c","_c","useNav","React","Wrapper","props","$","baseClass","children","className","hydrated","navOpen","shouldAnimate","t0","t1","t2","t3","filter","Boolean","t4","join","t5","_jsx"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 990, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/templates/Default/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/templates/Default/index.tsx"],"sourcesContent":["import type {\n  CustomComponent,\n  DocumentSubViewTypes,\n  PayloadRequest,\n  ServerProps,\n  ViewTypes,\n  VisibleEntities,\n} from 'payload'\n\nimport {\n  ActionsProvider,\n  AppHeader,\n  BulkUploadProvider,\n  EntityVisibilityProvider,\n  NavToggler,\n} from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\n\nimport './index.scss'\n\nimport React from 'react'\n\nimport { DefaultNav } from '../../elements/Nav/index.js'\nimport { NavHamburger } from './NavHamburger/index.js'\nimport { Wrapper } from './Wrapper/index.js'\n\nconst baseClass = 'template-default'\n\nexport type DefaultTemplateProps = {\n  children?: React.ReactNode\n  className?: string\n  collectionSlug?: string\n  docID?: number | string\n  documentSubViewType?: DocumentSubViewTypes\n  globalSlug?: string\n  req?: PayloadRequest\n  viewActions?: CustomComponent[]\n  viewType?: ViewTypes\n  visibleEntities: VisibleEntities\n} & ServerProps\n\nexport const DefaultTemplate: React.FC<DefaultTemplateProps> = ({\n  children,\n  className,\n  collectionSlug,\n  docID,\n  documentSubViewType,\n  globalSlug,\n  i18n,\n  locale,\n  params,\n  payload,\n  permissions,\n  req,\n  searchParams,\n  user,\n  viewActions,\n  viewType,\n  visibleEntities,\n}) => {\n  const {\n    admin: {\n      avatar,\n      components,\n      components: { header: CustomHeader, Nav: CustomNav } = {\n        header: undefined,\n        Nav: undefined,\n      },\n    } = {},\n  } = payload.config || {}\n\n  const clientProps = {\n    documentSubViewType,\n    viewType,\n    visibleEntities,\n  }\n\n  const serverProps: {\n    collectionSlug: string\n    docID: number | string\n    globalSlug: string\n    req: PayloadRequest\n  } & ServerProps = {\n    collectionSlug,\n    docID,\n    globalSlug,\n    i18n,\n    locale,\n    params,\n    payload,\n    permissions,\n    req,\n    searchParams,\n    user,\n  }\n\n  const Actions: Record<string, React.ReactNode> = {}\n  for (const action of viewActions ?? []) {\n    if (!action) {\n      continue\n    }\n    const key = typeof action === 'object' ? action.path : action\n    Actions[key] = RenderServerComponent({\n      clientProps,\n      Component: action,\n      importMap: payload.importMap,\n      serverProps,\n    })\n  }\n\n  const NavComponent = RenderServerComponent({\n    clientProps,\n    Component: CustomNav,\n    Fallback: DefaultNav,\n    importMap: payload.importMap,\n    serverProps,\n  })\n\n  return (\n    <EntityVisibilityProvider visibleEntities={visibleEntities}>\n      <BulkUploadProvider drawerSlugPrefix={collectionSlug}>\n        <ActionsProvider Actions={Actions}>\n          {RenderServerComponent({\n            clientProps,\n            Component: CustomHeader,\n            importMap: payload.importMap,\n            serverProps,\n          })}\n          <div style={{ position: 'relative' }}>\n            <div className={`${baseClass}__nav-toggler-wrapper`} id=\"nav-toggler\">\n              <div className={`${baseClass}__nav-toggler-container`} id=\"nav-toggler\">\n                <NavToggler className={`${baseClass}__nav-toggler`}>\n                  <NavHamburger />\n                </NavToggler>\n              </div>\n            </div>\n            <Wrapper baseClass={baseClass} className={className}>\n              {NavComponent}\n              <div className={`${baseClass}__wrap`}>\n                <AppHeader\n                  CustomAvatar={\n                    avatar !== 'gravatar' && avatar !== 'default'\n                      ? RenderServerComponent({\n                          Component: avatar.Component,\n                          importMap: payload.importMap,\n                          serverProps,\n                        })\n                      : undefined\n                  }\n                  CustomIcon={\n                    components?.graphics?.Icon\n                      ? RenderServerComponent({\n                          Component: components.graphics.Icon,\n                          importMap: payload.importMap,\n                          serverProps,\n                        })\n                      : undefined\n                  }\n                />\n                {children}\n              </div>\n            </Wrapper>\n          </div>\n        </ActionsProvider>\n      </BulkUploadProvider>\n    </EntityVisibilityProvider>\n  )\n}\n"],"names":["ActionsProvider","AppHeader","BulkUploadProvider","EntityVisibilityProvider","NavToggler","RenderServerComponent","React","DefaultNav","NavHamburger","Wrapper","baseClass","DefaultTemplate","children","className","collectionSlug","docID","documentSubViewType","globalSlug","i18n","locale","params","payload","permissions","req","searchParams","user","viewActions","viewType","visibleEntities","admin","avatar","components","header","CustomHeader","Nav","CustomNav","undefined","config","clientProps","serverProps","Actions","action","key","path","Component","importMap","NavComponent","Fallback","_jsx","drawerSlugPrefix","_jsxs","style","position","id","CustomAvatar","CustomIcon","graphics","Icon"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1126, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/utilities/getNextRequestI18n.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/utilities/getNextRequestI18n.ts"],"sourcesContent":["import type { ClientTranslationsObject, I18nClient } from '@payloadcms/translations'\n\nimport { initI18n } from '@payloadcms/translations'\nimport { cookies, headers } from 'next/headers.js'\nimport { getRequestLanguage, type SanitizedConfig } from 'payload'\n\n/**\n * In the context of Next.js, this function initializes the i18n object for the current request.\n *\n * It must be called on the server side, and within the lifecycle of a request since it relies on the request headers and cookies.\n */\nexport const getNextRequestI18n = async <\n  // eslint-disable-next-line @typescript-eslint/no-empty-object-type\n  TAdditionalTranslations = {},\n  TAdditionalClientTranslationKeys extends string = never,\n>({\n  config,\n}: {\n  config: SanitizedConfig\n}): Promise<\n  [TAdditionalClientTranslationKeys] extends [never]\n    ? I18nClient\n    : TAdditionalTranslations extends object\n      ? I18nClient<TAdditionalTranslations, TAdditionalClientTranslationKeys>\n      : I18nClient<ClientTranslationsObject, TAdditionalClientTranslationKeys>\n> => {\n  return (await initI18n({\n    config: config.i18n,\n    context: 'client',\n    language: getRequestLanguage({ config, cookies: await cookies(), headers: await headers() }),\n  })) as any\n}\n"],"names":["initI18n","cookies","headers","getRequestLanguage","getNextRequestI18n","config","i18n","context","language"],"mappings":";;;;AAEA,SAASA,QAAQ,QAAQ;AACzB,SAASC,OAAO,EAAEC,OAAO,QAAQ;AACjC,SAASC,kBAAkB,QAA8B;;;;;;;;AAOlD,MAAMC,kBAAA,GAAqB,MAAAA,CAIhC,EACAC,MAAAA,EAGD;IAOC,OAAQ,UAAML,qLAAA,EAAS;QACrBK,MAAA,EAAQA,MAAA,CAAOC,IAAI;QACnBC,OAAA,EAAS;QACTC,QAAA,MAAUL,kLAAA,EAAmB;YAAEE,MAAA;YAAQJ,OAAA,EAAS,UAAMA,0IAAA;YAAWC,OAAA,EAAS,UAAMA,0IAAA;QAAU;IAC5F;AACF","ignoreList":[]}},
    {"offset": {"line": 1158, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/utilities/getRequestLocale.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/utilities/getRequestLocale.ts"],"sourcesContent":["import type { Locale, PayloadRequest } from 'payload'\n\nimport { upsertPreferences } from '@payloadcms/ui/rsc'\nimport { findLocaleFromCode } from '@payloadcms/ui/shared'\n\nimport { getPreferences } from './getPreferences.js'\n\ntype GetRequestLocalesArgs = {\n  req: PayloadRequest\n}\n\nexport async function getRequestLocale({ req }: GetRequestLocalesArgs): Promise<Locale> {\n  if (req.payload.config.localization) {\n    const localeFromParams = req.query.locale as string | undefined\n\n    if (req.user && localeFromParams) {\n      await upsertPreferences<Locale['code']>({ key: 'locale', req, value: localeFromParams })\n    }\n\n    return (\n      (req.user &&\n        findLocaleFromCode(\n          req.payload.config.localization,\n          localeFromParams ||\n            (\n              await getPreferences<Locale['code']>(\n                'locale',\n                req.payload,\n                req.user.id,\n                req.user.collection,\n              )\n            )?.value,\n        )) ||\n      findLocaleFromCode(\n        req.payload.config.localization,\n        req.payload.config.localization.defaultLocale || 'en',\n      )\n    )\n  }\n\n  return undefined\n}\n"],"names":["upsertPreferences","findLocaleFromCode","getPreferences","getRequestLocale","req","payload","config","localization","localeFromParams","query","locale","user","key","value","id","collection","defaultLocale","undefined"],"mappings":";;;;AAEA,SAASA,iBAAiB,QAAQ;AAClC,SAASC,kBAAkB,QAAQ;AAEnC,SAASC,cAAc,QAAQ;;;;;;;;AAMxB,eAAeC,iBAAiB,EAAEC,GAAAA,EAA4B;IACnE,IAAIA,GAAA,CAAIC,OAAO,CAACC,MAAM,CAACC,YAAY,EAAE;QACnC,MAAMC,gBAAA,GAAmBJ,GAAA,CAAIK,KAAK,CAACC,MAAM;QAEzC,IAAIN,GAAA,CAAIO,IAAI,IAAIH,gBAAA,EAAkB;YAChC,UAAMR,iMAAA,EAAkC;gBAAEY,GAAA,EAAK;gBAAUR,GAAA;gBAAKS,KAAA,EAAOL;YAAiB;QACxF;QAEA,OACEJ,GAAC,CAAIO,IAAI,QACPV,8MAAA,EACEG,GAAA,CAAIC,OAAO,CAACC,MAAM,CAACC,YAAY,EAC/BC,gBAAA,IAEI,CAAA,UAAMN,6LAAA,EACJ,UACAE,GAAA,CAAIC,OAAO,EACXD,GAAA,CAAIO,IAAI,CAACG,EAAE,EACXV,GAAA,CAAIO,IAAI,CAACI,UAAU,CACrB,GACCF,KAAA,SAETZ,8MAAA,EACEG,GAAA,CAAIC,OAAO,CAACC,MAAM,CAACC,YAAY,EAC/BH,GAAA,CAAIC,OAAO,CAACC,MAAM,CAACC,YAAY,CAACS,aAAa,IAAI;IAGvD;IAEA,OAAOC,SAAA;AACT","ignoreList":[]}},
    {"offset": {"line": 1191, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/utilities/selectiveCache.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/utilities/selectiveCache.ts"],"sourcesContent":["import { cache } from 'react'\n\ntype CachedValue = object\n\n// Module-scoped cache container that holds all cached, stable containers\n// - these may hold the stable value, or a promise to the stable value\nconst globalCacheContainer: Record<\n  string,\n  <TValue extends object = CachedValue>(\n    ...args: unknown[]\n  ) => {\n    value: null | Promise<TValue> | TValue\n  }\n> = {}\n\n/**\n * Creates a selective cache function that provides more control over React's request-level caching behavior.\n *\n * @param namespace - A namespace to group related cached values\n * @returns A function that manages cached values within the specified namespace\n */\nexport function selectiveCache<TValue extends object = CachedValue>(namespace: string) {\n  // Create a stable namespace container if it doesn't exist\n  if (!globalCacheContainer[namespace]) {\n    globalCacheContainer[namespace] = cache((...args) => ({\n      value: null,\n    }))\n  }\n\n  /**\n   * Gets or creates a cached value for a specific key within the namespace\n   *\n   * @param key - The key to identify the cached value\n   * @param factory - A function that produces the value if not cached\n   * @returns The cached or newly created value\n   */\n  const getCached = async (factory: () => Promise<TValue>, ...cacheArgs): Promise<TValue> => {\n    const stableObjectFn = globalCacheContainer[namespace]\n    const stableObject = stableObjectFn<TValue>(...cacheArgs)\n\n    if (\n      stableObject?.value &&\n      'then' in stableObject.value &&\n      typeof stableObject.value?.then === 'function'\n    ) {\n      return await stableObject.value\n    }\n\n    stableObject.value = factory()\n\n    return await stableObject.value\n  }\n\n  return {\n    get: getCached,\n  }\n}\n"],"names":["cache","globalCacheContainer","selectiveCache","namespace","args","value","getCached","factory","cacheArgs","stableObjectFn","stableObject","then","get"],"mappings":";;;;AAAA,SAASA,KAAK,QAAQ;;AAItB,yEAAA;AACA,sEAAA;AACA,MAAMC,oBAAA,GAOF,CAAC;AAQE,SAASC,eAAoDC,SAAiB;IACnF,0DAAA;IACA,IAAI,CAACF,oBAAoB,CAACE,SAAA,CAAU,EAAE;QACpCF,oBAAoB,CAACE,SAAA,CAAU,OAAGH,8MAAA,EAAM,CAAC,GAAGI,IAAA,GAAA,CAAU;gBACpDC,KAAA,EAAO;YACT,CAAA;IACF;IAEA;;;;;;KAOA,MAAMC,SAAA,GAAY,MAAAA,CAAOC,OAAA,EAAgC,GAAGC,SAAA;QAC1D,MAAMC,cAAA,GAAiBR,oBAAoB,CAACE,SAAA,CAAU;QACtD,MAAMO,YAAA,GAAeD,cAAA,IAA0BD,SAAA;QAE/C,IACEE,YAAA,EAAcL,KAAA,IACd,UAAUK,YAAA,CAAaL,KAAK,IAC5B,OAAOK,YAAA,CAAaL,KAAK,EAAEM,IAAA,KAAS,YACpC;YACA,OAAO,MAAMD,YAAA,CAAaL,KAAK;QACjC;QAEAK,YAAA,CAAaL,KAAK,GAAGE,OAAA;QAErB,OAAO,MAAMG,YAAA,CAAaL,KAAK;IACjC;IAEA,OAAO;QACLO,GAAA,EAAKN;IACP;AACF","ignoreList":[]}},
    {"offset": {"line": 1232, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/utilities/initReq.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/utilities/initReq.ts"],"sourcesContent":["import type { AcceptedLanguages, I18n, I18nClient } from '@payloadcms/translations'\nimport type {\n  ImportMap,\n  Locale,\n  Payload,\n  PayloadRequest,\n  SanitizedConfig,\n  SanitizedPermissions,\n  TypedUser,\n} from 'payload'\n\nimport { initI18n } from '@payloadcms/translations'\nimport { headers as getHeaders } from 'next/headers.js'\nimport {\n  createLocalReq,\n  executeAuthStrategies,\n  getAccessResults,\n  getPayload,\n  getRequestLanguage,\n  parseCookies,\n} from 'payload'\n\nimport { getRequestLocale } from './getRequestLocale.js'\nimport { selectiveCache } from './selectiveCache.js'\n\ntype Result = {\n  cookies: Map<string, string>\n  headers: Awaited<ReturnType<typeof getHeaders>>\n  languageCode: AcceptedLanguages\n  locale?: Locale\n  permissions: SanitizedPermissions\n  req: PayloadRequest\n}\n\ntype PartialResult = {\n  i18n: I18nClient\n  languageCode: AcceptedLanguages\n  payload: Payload\n  responseHeaders: Headers\n  user: null | TypedUser\n}\n\n// Create cache instances for different parts of our application\nconst partialReqCache = selectiveCache<PartialResult>('partialReq')\nconst reqCache = selectiveCache<Result>('req')\n\n/**\n * Initializes a full request object, including the `req` object and access control.\n * As access control and getting the request locale is dependent on the current URL and\n */\nexport const initReq = async function ({\n  canSetHeaders,\n  configPromise,\n  importMap,\n  key,\n  overrides,\n}: {\n  canSetHeaders?: boolean\n  configPromise: Promise<SanitizedConfig> | SanitizedConfig\n  importMap: ImportMap\n  key: string\n  overrides?: Parameters<typeof createLocalReq>[0]\n}): Promise<Result> {\n  const headers = await getHeaders()\n  const cookies = parseCookies(headers)\n\n  const partialResult = await partialReqCache.get(async () => {\n    const config = await configPromise\n    const payload = await getPayload({ config, cron: true, importMap })\n    const languageCode = getRequestLanguage({\n      config,\n      cookies,\n      headers,\n    })\n\n    const i18n: I18nClient = await initI18n({\n      config: config.i18n,\n      context: 'client',\n      language: languageCode,\n    })\n\n    const { responseHeaders, user } = await executeAuthStrategies({\n      canSetHeaders,\n      headers,\n      payload,\n    })\n\n    return {\n      i18n,\n      languageCode,\n      payload,\n      responseHeaders,\n      user,\n    }\n  }, 'global')\n\n  return reqCache\n    .get(async () => {\n      const { i18n, languageCode, payload, responseHeaders, user } = partialResult\n\n      const { req: reqOverrides, ...optionsOverrides } = overrides || {}\n\n      const req = await createLocalReq(\n        {\n          req: {\n            headers,\n            host: headers.get('host'),\n            i18n: i18n as I18n,\n            responseHeaders,\n            user,\n            ...(reqOverrides || {}),\n          },\n          ...(optionsOverrides || {}),\n        },\n        payload,\n      )\n\n      const locale = await getRequestLocale({\n        req,\n      })\n\n      req.locale = locale?.code\n\n      const permissions = await getAccessResults({\n        req,\n      })\n\n      return {\n        cookies,\n        headers,\n        languageCode,\n        locale,\n        permissions,\n        req,\n      }\n    }, key)\n    .then((result) => {\n      // CRITICAL: Create a shallow copy of req before returning to prevent\n      // mutations from propagating to the cached req object.\n      // This ensures parallel operations using the same cache key don't affect each other.\n      return {\n        ...result,\n        req: {\n          ...result.req,\n          ...(result.req?.context\n            ? {\n                context: { ...result.req.context },\n              }\n            : {}),\n        },\n      }\n    })\n}\n"],"names":["initI18n","headers","getHeaders","createLocalReq","executeAuthStrategies","getAccessResults","getPayload","getRequestLanguage","parseCookies","getRequestLocale","selectiveCache","partialReqCache","reqCache","initReq","canSetHeaders","configPromise","importMap","key","overrides","cookies","partialResult","get","config","payload","cron","languageCode","i18n","context","language","responseHeaders","user","req","reqOverrides","optionsOverrides","host","locale","code","permissions","then","result"],"mappings":";;;;AAWA,SAASA,QAAQ,QAAQ;AACzB,SAASC,OAAA,IAAWC,UAAU,QAAQ;AACtC,SACEC,cAAc,EACdC,qBAAqB,EACrBC,gBAAgB,EAChBC,UAAU,EACVC,kBAAkB,EAClBC,YAAY,QACP;AAEP,SAASC,gBAAgB,QAAQ;AACjC,SAASC,cAAc,QAAQ;;;;;;;;;;;AAmB/B,gEAAA;AACA,MAAMC,eAAA,OAAkBD,6LAAA,EAA8B;AACtD,MAAME,QAAA,OAAWF,6LAAA,EAAuB;AAMjC,MAAMG,OAAA,GAAU,eAAAA,AAAgB,EACrCC,aAAa,EACbC,aAAa,EACbC,SAAS,EACTC,GAAG,EACHC,SAAAA,EAOD;IACC,MAAMjB,OAAA,GAAU,UAAMC,0IAAA;IACtB,MAAMiB,OAAA,OAAUX,4KAAA,EAAaP,OAAA;IAE7B,MAAMmB,aAAA,GAAgB,MAAMT,eAAA,CAAgBU,GAAG,CAAC;QAC9C,MAAMC,MAAA,GAAS,MAAMP,aAAA;QACrB,MAAMQ,OAAA,GAAU,UAAMjB,0KAAA,EAAW;YAAEgB,MAAA;YAAQE,IAAA,EAAM;YAAMR;QAAU;QACjE,MAAMS,YAAA,OAAelB,kLAAA,EAAmB;YACtCe,MAAA;YACAH,OAAA;YACAlB;QACF;QAEA,MAAMyB,IAAA,GAAmB,UAAM1B,qLAAA,EAAS;YACtCsB,MAAA,EAAQA,MAAA,CAAOI,IAAI;YACnBC,OAAA,EAAS;YACTC,QAAA,EAAUH;QACZ;QAEA,MAAM,EAAEI,eAAe,EAAEC,IAAAA,EAAM,GAAG,UAAM1B,qLAAA,EAAsB;YAC5DU,aAAA;YACAb,OAAA;YACAsB;QACF;QAEA,OAAO;YACLG,IAAA;YACAD,YAAA;YACAF,OAAA;YACAM,eAAA;YACAC;QACF;IACF,GAAG;IAEH,OAAOlB,QAAA,CACJS,GAAG,CAAC;QACH,MAAM,EAAEK,IAAI,EAAED,YAAY,EAAEF,OAAO,EAAEM,eAAe,EAAEC,IAAAA,EAAM,GAAGV,aAAA;QAE/D,MAAM,EAAEW,GAAA,EAAKC,YAAY,EAAE,GAAGC,kBAAkB,GAAGf,SAAA,IAAa,CAAC;QAEjE,MAAMa,GAAA,GAAM,UAAM5B,8KAAA,EAChB;YACE4B,GAAA,EAAK;gBACH9B,OAAA;gBACAiC,IAAA,EAAMjC,OAAA,CAAQoB,GAAG,CAAC;gBAClBK,IAAA,EAAMA,IAAA;gBACNG,eAAA;gBACAC,IAAA;gBACA,GAAIE,YAAA,IAAgB,CAAC,CAAC;YACxB;YACA,GAAIC,gBAAA,IAAoB,CAAC,CAAC;QAC5B,GACAV,OAAA;QAGF,MAAMY,MAAA,GAAS,UAAM1B,iMAAA,EAAiB;YACpCsB;QACF;QAEAA,GAAA,CAAII,MAAM,GAAGA,MAAA,EAAQC,IAAA;QAErB,MAAMC,WAAA,GAAc,UAAMhC,gLAAA,EAAiB;YACzC0B;QACF;QAEA,OAAO;YACLZ,OAAA;YACAlB,OAAA;YACAwB,YAAA;YACAU,MAAA;YACAE,WAAA;YACAN;QACF;IACF,GAAGd,GAAA,EACFqB,IAAI,EAAEC,MAAA;QACL,qEAAA;QACA,uDAAA;QACA,qFAAA;QACA,OAAO;YACL,GAAGA,MAAM;YACTR,GAAA,EAAK;gBACH,GAAGQ,MAAA,CAAOR,GAAG;gBACb,GAAIQ,MAAA,CAAOR,GAAG,EAAEJ,OAAA,GACZ;oBACEA,OAAA,EAAS;wBAAE,GAAGY,MAAA,CAAOR,GAAG,CAACJ,OAAAA;oBAAQ;gBACnC,IACA,CAAC,CAAC;YACR;QACF;IACF;AACJ","ignoreList":[]}},
    {"offset": {"line": 1338, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/NotFound/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const NotFoundClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call NotFoundClient() from the server but NotFoundClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/NotFound/index.client.js <module evaluation>\",\n    \"NotFoundClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,iBAAiB,IAAA,wQAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,mGACA","ignoreList":[0]}},
    {"offset": {"line": 1352, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/NotFound/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const NotFoundClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call NotFoundClient() from the server but NotFoundClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/NotFound/index.client.js\",\n    \"NotFoundClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,iBAAiB,IAAA,wQAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,+EACA","ignoreList":[0]}},
    {"offset": {"line": 1366, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/NotFound/index.client.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/NotFound/index.client.tsx"],"sourcesContent":["'use client'\nimport { Button, Gutter, useConfig, useStepNav, useTranslation } from '@payloadcms/ui'\nimport React, { useEffect } from 'react'\n\nimport './index.scss'\n\nconst baseClass = 'not-found'\n\nexport const NotFoundClient: React.FC<{\n  marginTop?: 'large'\n}> = (props) => {\n  const { marginTop = 'large' } = props\n\n  const { setStepNav } = useStepNav()\n  const { t } = useTranslation()\n\n  const {\n    config: {\n      routes: { admin: adminRoute },\n    },\n  } = useConfig()\n\n  useEffect(() => {\n    setStepNav([\n      {\n        label: t('general:notFound'),\n      },\n    ])\n  }, [setStepNav, t])\n\n  return (\n    <div\n      className={[baseClass, marginTop && `${baseClass}--margin-top-${marginTop}`]\n        .filter(Boolean)\n        .join(' ')}\n    >\n      <Gutter className={`${baseClass}__wrap`}>\n        <div className={`${baseClass}__content`}>\n          <h1>{t('general:nothingFound')}</h1>\n          <p>{t('general:sorryNotFound')}</p>\n        </div>\n        <Button className={`${baseClass}__button`} el=\"link\" size=\"large\" to={adminRoute}>\n          {t('general:backToDashboard')}\n        </Button>\n      </Gutter>\n    </div>\n  )\n}\n"],"names":["c","_c","Button","Gutter","useConfig","useStepNav","useTranslation","React","useEffect","baseClass","NotFoundClient","props","$","marginTop","t0","undefined","setStepNav","t","config","t1","routes","t2","admin","adminRoute","t3","t4","label","t5","t6","filter","Boolean","t7","join","t8","_jsx","className","children","_jsxs","el","size","to"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 1376, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/NotFound/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/NotFound/index.tsx"],"sourcesContent":["import type { Metadata } from 'next'\nimport type { AdminViewServerProps, ImportMap, SanitizedConfig } from 'payload'\n\nimport { getVisibleEntities } from '@payloadcms/ui/shared'\nimport { formatAdminURL } from 'payload/shared'\nimport * as qs from 'qs-esm'\nimport React from 'react'\n\nimport { DefaultTemplate } from '../../templates/Default/index.js'\nimport { getNextRequestI18n } from '../../utilities/getNextRequestI18n.js'\nimport { initReq } from '../../utilities/initReq.js'\nimport { NotFoundClient } from './index.client.js'\n\nexport const generateNotFoundViewMetadata = async ({\n  config: configPromise,\n}: {\n  config: Promise<SanitizedConfig> | SanitizedConfig\n  params?: { [key: string]: string | string[] }\n}): Promise<Metadata> => {\n  const config = await configPromise\n\n  const i18n = await getNextRequestI18n({\n    config,\n  })\n\n  return {\n    title: i18n.t('general:notFound'),\n  }\n}\n\nexport const NotFoundPage = async ({\n  config: configPromise,\n  importMap,\n  params: paramsPromise,\n  searchParams: searchParamsPromise,\n}: {\n  config: Promise<SanitizedConfig>\n  importMap: ImportMap\n  params: Promise<{\n    segments: string[]\n  }>\n  searchParams: Promise<{\n    [key: string]: string | string[]\n  }>\n}) => {\n  const config = await configPromise\n  const { routes: { admin: adminRoute } = {} } = config\n\n  const searchParams = await searchParamsPromise\n  const queryString = `${qs.stringify(searchParams ?? {}, { addQueryPrefix: true })}`\n\n  const {\n    locale,\n    permissions,\n    req,\n    req: { payload },\n  } = await initReq({\n    configPromise: config,\n    importMap,\n    key: 'RootLayout',\n    overrides: {\n      fallbackLocale: false,\n      req: {\n        query: qs.parse(queryString, {\n          depth: 10,\n          ignoreQueryPrefix: true,\n        }),\n      },\n      // intentionally omit `serverURL` to keep URL relative\n      urlSuffix: `${formatAdminURL({ adminRoute, path: '/not-found' })}${searchParams ? queryString : ''}`,\n    },\n  })\n\n  if (!req.user || !permissions.canAccessAdmin) {\n    return <NotFoundClient />\n  }\n\n  const params = await paramsPromise\n  const visibleEntities = getVisibleEntities({ req })\n\n  return (\n    <DefaultTemplate\n      i18n={req.i18n}\n      locale={locale}\n      params={params}\n      payload={payload}\n      permissions={permissions}\n      searchParams={searchParams}\n      user={req.user}\n      visibleEntities={visibleEntities}\n    >\n      <NotFoundClient />\n    </DefaultTemplate>\n  )\n}\n\nexport function NotFoundView(props: AdminViewServerProps) {\n  return <NotFoundClient marginTop=\"large\" />\n}\n"],"names":["getVisibleEntities","formatAdminURL","qs","React","DefaultTemplate","getNextRequestI18n","initReq","NotFoundClient","generateNotFoundViewMetadata","config","configPromise","i18n","title","t","NotFoundPage","importMap","params","paramsPromise","searchParams","searchParamsPromise","routes","admin","adminRoute","queryString","stringify","addQueryPrefix","locale","permissions","req","payload","key","overrides","fallbackLocale","query","parse","depth","ignoreQueryPrefix","urlSuffix","path","user","canAccessAdmin","_jsx","visibleEntities","NotFoundView","props","marginTop"],"mappings":";;;;;;;;;AAGA,SAASA,kBAAkB,QAAQ;AACnC,SAASC,cAAc,QAAQ;;AAC/B,YAAYC,EAAA,MAAQ;AACpB,OAAOC,KAAA,MAAW;AAElB,SAASC,eAAe,QAAQ;AAChC,SAASC,kBAAkB,QAAQ;AACnC,SAASC,OAAO,QAAQ;AACxB,SAASC,cAAc,QAAQ;;;;;;;;;;;;;;;;;;AAExB,MAAMC,4BAAA,GAA+B,MAAAA,CAAO,EACjDC,MAAA,EAAQC,aAAAA,EAIT;IACC,MAAMD,MAAA,GAAS,MAAMC,aAAA;IAErB,MAAMC,IAAA,GAAO,UAAMN,qMAAA,EAAmB;QACpCI;IACF;IAEA,OAAO;QACLG,KAAA,EAAOD,IAAA,CAAKE,CAAC,CAAC;IAChB;AACF;AAEO,MAAMC,YAAA,GAAe,MAAAA,CAAO,EACjCL,MAAA,EAAQC,aAAa,EACrBK,SAAS,EACTC,MAAA,EAAQC,aAAa,EACrBC,YAAA,EAAcC,mBAAAA,EAUf;IACC,MAAMV,MAAA,GAAS,MAAMC,aAAA;IACrB,MAAM,EAAEU,MAAA,EAAQ,EAAEC,KAAA,EAAOC,UAAAA,EAAY,GAAG,CAAC,CAAA,EAAG,GAAGb,MAAA;IAE/C,MAAMS,YAAA,GAAe,MAAMC,mBAAA;IAC3B,MAAMI,WAAA,GAAc,GAAGrB,EAAA,CAAGsB,uJAAS,CAACN,YAAA,IAAgB,CAAC,GAAG;QAAEO,cAAA,EAAgB;IAAK,IAAI;IAEnF,MAAM,EACJC,MAAM,EACNC,WAAW,EACXC,GAAG,EACHA,GAAA,EAAK,EAAEC,OAAAA,EAAO,EACf,GAAG,UAAMvB,+KAAA,EAAQ;QAChBI,aAAA,EAAeD,MAAA;QACfM,SAAA;QACAe,GAAA,EAAK;QACLC,SAAA,EAAW;YACTC,cAAA,EAAgB;YAChBJ,GAAA,EAAK;gBACHK,KAAA,EAAO/B,EAAA,CAAGgC,+IAAK,CAACX,WAAA,EAAa;oBAC3BY,KAAA,EAAO;oBACPC,iBAAA,EAAmB;gBACrB;YACF;YACA,sDAAA;YACAC,SAAA,EAAW,OAAGpC,kMAAA,EAAe;gBAAEqB,UAAA;gBAAYgB,IAAA,EAAM;YAAa,KAAKpB,YAAA,GAAeK,WAAA,GAAc,IAAA;QAClG;IACF;IAEA,IAAI,CAACK,GAAA,CAAIW,IAAI,IAAI,CAACZ,WAAA,CAAYa,cAAc,EAAE;QAC5C,OAAA,WAAA,OAAOC,8NAAA,EAAClC,sMAAA,EAAA,CAAA;IACV;IAEA,MAAMS,MAAA,GAAS,MAAMC,aAAA;IACrB,MAAMyB,eAAA,OAAkB1C,8MAAA,EAAmB;QAAE4B;IAAI;IAEjD,OAAA,WAAA,OACEa,8NAAA,EAACrC,gMAAA,EAAA;QACCO,IAAA,EAAMiB,GAAA,CAAIjB,IAAI;QACde,MAAA,EAAQA,MAAA;QACRV,MAAA,EAAQA,MAAA;QACRa,OAAA,EAASA,OAAA;QACTF,WAAA,EAAaA,WAAA;QACbT,YAAA,EAAcA,YAAA;QACdqB,IAAA,EAAMX,GAAA,CAAIW,IAAI;QACdG,eAAA,EAAiBA,eAAA;kBAEjB,WAAA,OAAAD,8NAAA,EAAClC,sMAAA,EAAA,CAAA;;AAGP;AAEO,SAASoC,aAAaC,KAA2B;IACtD,OAAA,WAAA,OAAOH,8NAAA,EAAClC,sMAAA,EAAA;QAAesC,SAAA,EAAU;;AACnC","ignoreList":[]}},
    {"offset": {"line": 1477, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Document/getDocPreferences.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Document/getDocPreferences.ts"],"sourcesContent":["import type { DocumentPreferences, Payload, TypedUser } from 'payload'\n\nimport { sanitizeID } from '@payloadcms/ui/shared'\n\ntype Args = {\n  collectionSlug?: string\n  globalSlug?: string\n  id?: number | string\n  payload: Payload\n  user: TypedUser\n}\n\nexport const getDocPreferences = async ({\n  id,\n  collectionSlug,\n  globalSlug,\n  payload,\n  user,\n}: Args): Promise<DocumentPreferences> => {\n  let preferencesKey\n\n  if (collectionSlug && id) {\n    preferencesKey = `collection-${collectionSlug}-${id}`\n  }\n\n  if (globalSlug) {\n    preferencesKey = `global-${globalSlug}`\n  }\n\n  if (preferencesKey) {\n    const preferencesResult = (await payload.find({\n      collection: 'payload-preferences',\n      depth: 0,\n      limit: 1,\n      where: {\n        and: [\n          {\n            key: {\n              equals: preferencesKey,\n            },\n          },\n          {\n            'user.relationTo': {\n              equals: user.collection,\n            },\n          },\n          {\n            'user.value': {\n              equals: sanitizeID(user.id),\n            },\n          },\n        ],\n      },\n    })) as unknown as { docs: { value: DocumentPreferences }[] }\n\n    if (preferencesResult?.docs?.[0]?.value) {\n      return preferencesResult.docs[0].value\n    }\n  }\n\n  return { fields: {} }\n}\n"],"names":["sanitizeID","getDocPreferences","id","collectionSlug","globalSlug","payload","user","preferencesKey","preferencesResult","find","collection","depth","limit","where","and","key","equals","docs","value","fields"],"mappings":";;;;AAEA,SAASA,UAAU,QAAQ;;;;;;AAUpB,MAAMC,iBAAA,GAAoB,MAAAA,CAAO,EACtCC,EAAE,EACFC,cAAc,EACdC,UAAU,EACVC,OAAO,EACPC,IAAAA,EACK;IACL,IAAIC,cAAA;IAEJ,IAAIJ,cAAA,IAAkBD,EAAA,EAAI;QACxBK,cAAA,GAAiB,CAAA,WAAA,EAAcJ,cAAA,CAAA,CAAA,EAAkBD,EAAA,EAAI;IACvD;IAEA,IAAIE,UAAA,EAAY;QACdG,cAAA,GAAiB,CAAA,OAAA,EAAUH,UAAA,EAAY;IACzC;IAEA,IAAIG,cAAA,EAAgB;QAClB,MAAMC,iBAAA,GAAqB,MAAMH,OAAA,CAAQI,IAAI,CAAC;YAC5CC,UAAA,EAAY;YACZC,KAAA,EAAO;YACPC,KAAA,EAAO;YACPC,KAAA,EAAO;gBACLC,GAAA,EAAK;oBACH;wBACEC,GAAA,EAAK;4BACHC,MAAA,EAAQT;wBACV;oBACF;oBACA;wBACE,mBAAmB;4BACjBS,MAAA,EAAQV,IAAA,CAAKI,UAAAA;wBACf;oBACF;oBACA;wBACE,cAAc;4BACZM,MAAA,MAAQhB,sMAAA,EAAWM,IAAA,CAAKJ,EAAE;wBAC5B;oBACF;iBAAA;YAEJ;QACF;QAEA,IAAIM,iBAAA,EAAmBS,IAAA,EAAA,CAAO,EAAE,EAAEC,KAAA,EAAO;YACvC,OAAOV,iBAAA,CAAkBS,IAAI,CAAC,EAAE,CAACC,KAAK;QACxC;IACF;IAEA,OAAO;QAAEC,MAAA,EAAQ,CAAC;IAAE;AACtB","ignoreList":[]}},
    {"offset": {"line": 1535, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Document/getDocumentData.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Document/getDocumentData.ts"],"sourcesContent":["import { sanitizeID } from '@payloadcms/ui/shared'\nimport {\n  type Locale,\n  logError,\n  type Payload,\n  type PayloadRequest,\n  type TypedUser,\n  type TypeWithID,\n} from 'payload'\n\ntype Args = {\n  collectionSlug?: string\n  globalSlug?: string\n  id?: number | string\n  locale?: Locale\n  payload: Payload\n  req?: PayloadRequest\n  segments?: string[]\n  user?: TypedUser\n}\n\nexport const getDocumentData = async ({\n  id: idArg,\n  collectionSlug,\n  globalSlug,\n  locale,\n  payload,\n  req,\n  segments,\n  user,\n}: Args): Promise<null | Record<string, unknown> | TypeWithID> => {\n  const id = sanitizeID(idArg)\n  let resolvedData: Record<string, unknown> | TypeWithID = null\n  const { transactionID, ...rest } = req\n\n  const isTrashedDoc = segments?.[2] === 'trash' && typeof segments?.[3] === 'string' // id exists at segment 3\n\n  try {\n    if (collectionSlug && id) {\n      resolvedData = await payload.findByID({\n        id,\n        collection: collectionSlug,\n        depth: 0,\n        draft: true,\n        fallbackLocale: false,\n        locale: locale?.code,\n        overrideAccess: false,\n        req: {\n          ...rest,\n        },\n        trash: isTrashedDoc ? true : false,\n        user,\n      })\n    }\n\n    if (globalSlug) {\n      resolvedData = await payload.findGlobal({\n        slug: globalSlug,\n        depth: 0,\n        draft: true,\n        fallbackLocale: false,\n        locale: locale?.code,\n        overrideAccess: false,\n        req: {\n          ...rest,\n        },\n        user,\n      })\n    }\n  } catch (err) {\n    logError({ err, payload })\n  }\n\n  return resolvedData\n}\n"],"names":["sanitizeID","logError","getDocumentData","id","idArg","collectionSlug","globalSlug","locale","payload","req","segments","user","resolvedData","transactionID","rest","isTrashedDoc","findByID","collection","depth","draft","fallbackLocale","code","overrideAccess","trash","findGlobal","slug","err"],"mappings":";;;;AAAA,SAASA,UAAU,QAAQ;AAC3B,SAEEC,QAAQ,QAKH;;;;;;;;AAaA,MAAMC,eAAA,GAAkB,MAAAA,CAAO,EACpCC,EAAA,EAAIC,KAAK,EACTC,cAAc,EACdC,UAAU,EACVC,MAAM,EACNC,OAAO,EACPC,GAAG,EACHC,QAAQ,EACRC,IAAAA,EACK;IACL,MAAMR,EAAA,OAAKH,sMAAA,EAAWI,KAAA;IACtB,IAAIQ,YAAA,GAAqD;IACzD,MAAM,EAAEC,aAAa,EAAE,GAAGC,MAAM,GAAGL,GAAA;IAEnC,MAAMM,YAAA,GAAeL,QAAA,EAAA,CAAW,EAAE,KAAK,WAAW,OAAOA,QAAA,EAAA,CAAW,EAAE,KAAK,SAAS,yBAAA;;IAEpF,IAAI;QACF,IAAIL,cAAA,IAAkBF,EAAA,EAAI;YACxBS,YAAA,GAAe,MAAMJ,OAAA,CAAQQ,QAAQ,CAAC;gBACpCb,EAAA;gBACAc,UAAA,EAAYZ,cAAA;gBACZa,KAAA,EAAO;gBACPC,KAAA,EAAO;gBACPC,cAAA,EAAgB;gBAChBb,MAAA,EAAQA,MAAA,EAAQc,IAAA;gBAChBC,cAAA,EAAgB;gBAChBb,GAAA,EAAK;oBACH,GAAGK,IAAAA;gBACL;gBACAS,KAAA,EAAOR,YAAA,GAAe,OAAO;gBAC7BJ;YACF;QACF;QAEA,IAAIL,UAAA,EAAY;YACdM,YAAA,GAAe,MAAMJ,OAAA,CAAQgB,UAAU,CAAC;gBACtCC,IAAA,EAAMnB,UAAA;gBACNY,KAAA,EAAO;gBACPC,KAAA,EAAO;gBACPC,cAAA,EAAgB;gBAChBb,MAAA,EAAQA,MAAA,EAAQc,IAAA;gBAChBC,cAAA,EAAgB;gBAChBb,GAAA,EAAK;oBACH,GAAGK,IAAAA;gBACL;gBACAH;YACF;QACF;IACF,EAAE,OAAOe,GAAA,EAAK;YACZzB,wKAAA,EAAS;YAAEyB,GAAA;YAAKlB;QAAQ;IAC1B;IAEA,OAAOI,YAAA;AACT","ignoreList":[]}},
    {"offset": {"line": 1600, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Document/getDocumentPermissions.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Document/getDocumentPermissions.tsx"],"sourcesContent":["import type {\n  Data,\n  PayloadRequest,\n  SanitizedCollectionConfig,\n  SanitizedDocumentPermissions,\n  SanitizedGlobalConfig,\n} from 'payload'\n\nimport {\n  hasSavePermission as getHasSavePermission,\n  isEditing as getIsEditing,\n} from '@payloadcms/ui/shared'\nimport { docAccessOperation, docAccessOperationGlobal, logError } from 'payload'\nimport { hasDraftsEnabled } from 'payload/shared'\n\nexport const getDocumentPermissions = async (args: {\n  collectionConfig?: SanitizedCollectionConfig\n  data: Data\n  globalConfig?: SanitizedGlobalConfig\n  /**\n   * When called for creating a new document, id is not provided.\n   */\n  id?: number | string\n  req: PayloadRequest\n}): Promise<{\n  docPermissions: SanitizedDocumentPermissions\n  hasPublishPermission: boolean\n  hasSavePermission: boolean\n}> => {\n  const { id, collectionConfig, data = {}, globalConfig, req } = args\n\n  let docPermissions: SanitizedDocumentPermissions\n  let hasPublishPermission = false\n\n  if (collectionConfig) {\n    try {\n      docPermissions = await docAccessOperation({\n        id,\n        collection: {\n          config: collectionConfig,\n        },\n        data: {\n          ...data,\n          _status: 'draft',\n        },\n        req,\n      })\n\n      if (hasDraftsEnabled(collectionConfig)) {\n        hasPublishPermission = (\n          await docAccessOperation({\n            id,\n            collection: {\n              config: collectionConfig,\n            },\n            data: {\n              ...data,\n              _status: 'published',\n            },\n            req,\n          })\n        ).update\n      }\n    } catch (err) {\n      logError({ err, payload: req.payload })\n    }\n  }\n\n  if (globalConfig) {\n    try {\n      docPermissions = await docAccessOperationGlobal({\n        data,\n        globalConfig,\n        req,\n      })\n\n      if (hasDraftsEnabled(globalConfig)) {\n        hasPublishPermission = (\n          await docAccessOperationGlobal({\n            data: {\n              ...data,\n              _status: 'published',\n            },\n            globalConfig,\n            req,\n          })\n        ).update\n      }\n    } catch (err) {\n      logError({ err, payload: req.payload })\n    }\n  }\n\n  const hasSavePermission = getHasSavePermission({\n    collectionSlug: collectionConfig?.slug,\n    docPermissions,\n    globalSlug: globalConfig?.slug,\n    isEditing: getIsEditing({\n      id,\n      collectionSlug: collectionConfig?.slug,\n      globalSlug: globalConfig?.slug,\n    }),\n  })\n\n  return {\n    docPermissions,\n    hasPublishPermission,\n    hasSavePermission,\n  }\n}\n"],"names":["hasSavePermission","getHasSavePermission","isEditing","getIsEditing","docAccessOperation","docAccessOperationGlobal","logError","hasDraftsEnabled","getDocumentPermissions","args","id","collectionConfig","data","globalConfig","req","docPermissions","hasPublishPermission","collection","config","_status","update","err","payload","collectionSlug","slug","globalSlug"],"mappings":";;;;AAQA,SACEA,iBAAA,IAAqBC,oBAAoB,EACzCC,SAAA,IAAaC,YAAY,QACpB;AACP,SAASC,kBAAkB,EAAEC,wBAAwB,EAAEC,QAAQ,QAAQ;AACvE,SAASC,gBAAgB,QAAQ;;;;;;;;;;AAE1B,MAAMC,sBAAA,GAAyB,OAAOC,IAAA;IAc3C,MAAM,EAAEC,EAAE,EAAEC,gBAAgB,EAAEC,IAAA,GAAO,CAAC,CAAC,EAAEC,YAAY,EAAEC,GAAAA,EAAK,GAAGL,IAAA;IAE/D,IAAIM,cAAA;IACJ,IAAIC,oBAAA,GAAuB;IAE3B,IAAIL,gBAAA,EAAkB;QACpB,IAAI;YACFI,cAAA,GAAiB,UAAMX,kLAAA,EAAmB;gBACxCM,EAAA;gBACAO,UAAA,EAAY;oBACVC,MAAA,EAAQP;gBACV;gBACAC,IAAA,EAAM;oBACJ,GAAGA,IAAI;oBACPO,OAAA,EAAS;gBACX;gBACAL;YACF;YAEA,QAAIP,oMAAA,EAAiBI,gBAAA,GAAmB;gBACtCK,oBAAA,GAAuB,CACrB,UAAMZ,kLAAA,EAAmB;oBACvBM,EAAA;oBACAO,UAAA,EAAY;wBACVC,MAAA,EAAQP;oBACV;oBACAC,IAAA,EAAM;wBACJ,GAAGA,IAAI;wBACPO,OAAA,EAAS;oBACX;oBACAL;gBACF,EAAC,EACDM,MAAM;YACV;QACF,EAAE,OAAOC,GAAA,EAAK;gBACZf,wKAAA,EAAS;gBAAEe,GAAA;gBAAKC,OAAA,EAASR,GAAA,CAAIQ,OAAAA;YAAQ;QACvC;IACF;IAEA,IAAIT,YAAA,EAAc;QAChB,IAAI;YACFE,cAAA,GAAiB,UAAMV,wLAAA,EAAyB;gBAC9CO,IAAA;gBACAC,YAAA;gBACAC;YACF;YAEA,QAAIP,oMAAA,EAAiBM,YAAA,GAAe;gBAClCG,oBAAA,GAAuB,CACrB,UAAMX,wLAAA,EAAyB;oBAC7BO,IAAA,EAAM;wBACJ,GAAGA,IAAI;wBACPO,OAAA,EAAS;oBACX;oBACAN,YAAA;oBACAC;gBACF,EAAC,EACDM,MAAM;YACV;QACF,EAAE,OAAOC,GAAA,EAAK;gBACZf,wKAAA,EAAS;gBAAEe,GAAA;gBAAKC,OAAA,EAASR,GAAA,CAAIQ,OAAAA;YAAQ;QACvC;IACF;IAEA,MAAMtB,iBAAA,OAAoBC,6MAAA,EAAqB;QAC7CsB,cAAA,EAAgBZ,gBAAA,EAAkBa,IAAA;QAClCT,cAAA;QACAU,UAAA,EAAYZ,YAAA,EAAcW,IAAA;QAC1BtB,SAAA,MAAWC,qMAAA,EAAa;YACtBO,EAAA;YACAa,cAAA,EAAgBZ,gBAAA,EAAkBa,IAAA;YAClCC,UAAA,EAAYZ,YAAA,EAAcW;QAC5B;IACF;IAEA,OAAO;QACLT,cAAA;QACAC,oBAAA;QACAhB;IACF;AACF","ignoreList":[]}},
    {"offset": {"line": 1698, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/API/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const APIViewClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call APIViewClient() from the server but APIViewClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/API/index.client.js <module evaluation>\",\n    \"APIViewClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,gBAAgB,IAAA,wQAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,8FACA","ignoreList":[0]}},
    {"offset": {"line": 1712, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/API/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const APIViewClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call APIViewClient() from the server but APIViewClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/API/index.client.js\",\n    \"APIViewClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,gBAAgB,IAAA,wQAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,0EACA","ignoreList":[0]}},
    {"offset": {"line": 1726, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/API/index.client.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/API/index.client.tsx"],"sourcesContent":["'use client'\n\nimport {\n  CheckboxField,\n  CopyToClipboard,\n  Form,\n  Gutter,\n  MinimizeMaximizeIcon,\n  NumberField,\n  SetDocumentStepNav,\n  toast,\n  useConfig,\n  useDocumentInfo,\n  useLocale,\n  useTranslation,\n} from '@payloadcms/ui'\nimport { useSearchParams } from 'next/navigation.js'\n\nimport './index.scss'\n\nimport { formatAdminURL, hasDraftsEnabled } from 'payload/shared'\nimport * as React from 'react'\n\nimport { LocaleSelector } from './LocaleSelector/index.js'\nimport { RenderJSON } from './RenderJSON/index.js'\n\nconst baseClass = 'query-inspector'\n\nexport const APIViewClient: React.FC = () => {\n  const { id, collectionSlug, globalSlug, initialData, isTrashed } = useDocumentInfo()\n\n  const searchParams = useSearchParams()\n  const { i18n, t } = useTranslation()\n  const { code } = useLocale()\n\n  const {\n    config: {\n      defaultDepth,\n      localization,\n      routes: { api: apiRoute },\n      serverURL,\n    },\n    getEntityConfig,\n  } = useConfig()\n\n  const collectionConfig = getEntityConfig({ collectionSlug })\n  const globalConfig = getEntityConfig({ globalSlug })\n\n  const localeOptions =\n    localization &&\n    localization.locales.map((locale) => ({ label: locale.label, value: locale.code }))\n\n  let draftsEnabled: boolean = false\n  let docEndpoint: `/${string}` = undefined\n\n  if (collectionConfig) {\n    draftsEnabled = hasDraftsEnabled(collectionConfig)\n    docEndpoint = `/${collectionSlug}/${id}`\n  }\n\n  if (globalConfig) {\n    draftsEnabled = hasDraftsEnabled(globalConfig)\n    docEndpoint = `/globals/${globalSlug}`\n  }\n\n  const [data, setData] = React.useState<any>(initialData)\n  const [draft, setDraft] = React.useState<boolean>(searchParams.get('draft') === 'true')\n  const [locale, setLocale] = React.useState<string>(searchParams?.get('locale') || code)\n  const [depth, setDepth] = React.useState<string>(\n    searchParams.get('depth') || defaultDepth.toString(),\n  )\n  const [authenticated, setAuthenticated] = React.useState<boolean>(true)\n  const [fullscreen, setFullscreen] = React.useState<boolean>(false)\n\n  const trashParam = typeof initialData?.deletedAt === 'string'\n\n  const params = new URLSearchParams({\n    depth,\n    draft: String(draft),\n    locale,\n    trash: trashParam ? 'true' : 'false',\n  }).toString()\n\n  const fetchURL = formatAdminURL({\n    apiRoute,\n    path: `${docEndpoint}?${params}`,\n    serverURL: serverURL || window.location.origin,\n  })\n\n  React.useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const res = await fetch(fetchURL, {\n          credentials: authenticated ? 'include' : 'omit',\n          headers: {\n            'Accept-Language': i18n.language,\n          },\n          method: 'GET',\n        })\n\n        try {\n          const json = await res.json()\n          setData(json)\n        } catch (error) {\n          toast.error('Error parsing response')\n          console.error(error) // eslint-disable-line no-console\n        }\n      } catch (error) {\n        toast.error('Error making request')\n        console.error(error) // eslint-disable-line no-console\n      }\n    }\n\n    void fetchData()\n  }, [i18n.language, fetchURL, authenticated])\n\n  return (\n    <Gutter\n      className={[baseClass, fullscreen && `${baseClass}--fullscreen`].filter(Boolean).join(' ')}\n      right={false}\n    >\n      <SetDocumentStepNav\n        collectionSlug={collectionSlug}\n        globalLabel={globalConfig?.label}\n        globalSlug={globalSlug}\n        id={id}\n        isTrashed={isTrashed}\n        pluralLabel={collectionConfig ? collectionConfig?.labels?.plural : undefined}\n        useAsTitle={collectionConfig ? collectionConfig?.admin?.useAsTitle : undefined}\n        view=\"API\"\n      />\n      <div className={`${baseClass}__configuration`}>\n        <div className={`${baseClass}__api-url`}>\n          <span className={`${baseClass}__label`}>\n            API URL <CopyToClipboard value={fetchURL} />\n          </span>\n          <a href={fetchURL} rel=\"noopener noreferrer\" target=\"_blank\">\n            {fetchURL}\n          </a>\n        </div>\n        <Form\n          initialState={{\n            authenticated: {\n              initialValue: authenticated || false,\n              valid: true,\n              value: authenticated || false,\n            },\n            depth: {\n              initialValue: Number(depth || 0),\n              valid: true,\n              value: Number(depth || 0),\n            },\n            draft: {\n              initialValue: draft || false,\n              valid: true,\n              value: draft || false,\n            },\n            locale: {\n              initialValue: locale,\n              valid: true,\n              value: locale,\n            },\n          }}\n        >\n          <div className={`${baseClass}__form-fields`}>\n            <div className={`${baseClass}__filter-query-checkboxes`}>\n              {draftsEnabled && (\n                <CheckboxField\n                  field={{\n                    name: 'draft',\n                    label: t('version:draft'),\n                  }}\n                  onChange={() => setDraft(!draft)}\n                  path=\"draft\"\n                />\n              )}\n              <CheckboxField\n                field={{\n                  name: 'authenticated',\n                  label: t('authentication:authenticated'),\n                }}\n                onChange={() => setAuthenticated(!authenticated)}\n                path=\"authenticated\"\n              />\n            </div>\n            {localeOptions && <LocaleSelector localeOptions={localeOptions} onChange={setLocale} />}\n            <NumberField\n              field={{\n                name: 'depth',\n                admin: {\n                  step: 1,\n                },\n                label: t('general:depth'),\n                max: 10,\n                min: 0,\n              }}\n              onChange={(value) => setDepth(value?.toString())}\n              path=\"depth\"\n            />\n          </div>\n        </Form>\n      </div>\n      <div className={`${baseClass}__results-wrapper`}>\n        <div className={`${baseClass}__toggle-fullscreen-button-container`}>\n          <button\n            aria-label=\"toggle fullscreen\"\n            className={`${baseClass}__toggle-fullscreen-button`}\n            onClick={() => setFullscreen(!fullscreen)}\n            type=\"button\"\n          >\n            <MinimizeMaximizeIcon isMinimized={!fullscreen} />\n          </button>\n        </div>\n        <div className={`${baseClass}__results`}>\n          <RenderJSON object={data} />\n        </div>\n      </div>\n    </Gutter>\n  )\n}\n"],"names":["CheckboxField","CopyToClipboard","Form","Gutter","MinimizeMaximizeIcon","NumberField","SetDocumentStepNav","toast","useConfig","useDocumentInfo","useLocale","useTranslation","useSearchParams","formatAdminURL","hasDraftsEnabled","React","LocaleSelector","RenderJSON","baseClass","APIViewClient","id","collectionSlug","globalSlug","initialData","isTrashed","searchParams","i18n","t","code","config","defaultDepth","localization","routes","api","apiRoute","serverURL","getEntityConfig","collectionConfig","globalConfig","localeOptions","locales","map","locale","label","value","draftsEnabled","docEndpoint","undefined","data","setData","useState","draft","setDraft","get","setLocale","depth","setDepth","toString","authenticated","setAuthenticated","fullscreen","setFullscreen","trashParam","deletedAt","params","URLSearchParams","String","trash","fetchURL","path","window","location","origin","useEffect","fetchData","res","fetch","credentials","headers","language","method","json","error","console","_jsxs","className","filter","Boolean","join","right","_jsx","globalLabel","pluralLabel","labels","plural","useAsTitle","admin","view","href","rel","target","initialState","initialValue","valid","Number","field","name","onChange","step","max","min","onClick","type","isMinimized","object"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 1734, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/API/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/API/index.tsx"],"sourcesContent":["import type { DocumentViewServerProps } from 'payload'\n\nimport React from 'react'\n\nimport { APIViewClient } from './index.client.js'\n\nexport function APIView(props: DocumentViewServerProps) {\n  return <APIViewClient />\n}\n"],"names":["React","APIViewClient","APIView","props","_jsx"],"mappings":";;;;;AAEA,OAAOA,KAAA,MAAW;AAElB,SAASC,aAAa,QAAQ;;;;AAEvB,SAASC,QAAQC,KAA8B;IACpD,OAAA,WAAA,OAAOC,8NAAA,EAACH,gMAAA,EAAA,CAAA;AACV","ignoreList":[]}},
    {"offset": {"line": 1751, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Edit/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const EditView = registerClientReference(\n    function() { throw new Error(\"Attempted to call EditView() from the server but EditView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Edit/index.js <module evaluation>\",\n    \"EditView\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,WAAW,IAAA,wQAAuB,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,wFACA","ignoreList":[0]}},
    {"offset": {"line": 1765, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Edit/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const EditView = registerClientReference(\n    function() { throw new Error(\"Attempted to call EditView() from the server but EditView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Edit/index.js\",\n    \"EditView\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,WAAW,IAAA,wQAAuB,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,oEACA","ignoreList":[0]}},
    {"offset": {"line": 1779, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Edit/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Edit/index.tsx"],"sourcesContent":["'use client'\n\nimport type { DocumentViewClientProps } from 'payload'\n\nimport { DefaultEditView } from '@payloadcms/ui'\nimport React from 'react'\n\nexport const EditView: React.FC<DocumentViewClientProps> = (props) => {\n  return <DefaultEditView {...props} />\n}\n"],"names":["DefaultEditView","React","EditView","props","_jsx"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 1787, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/elements/FormHeader/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/elements/FormHeader/index.tsx"],"sourcesContent":["import React from 'react'\n\nimport './index.scss'\n\nconst baseClass = 'form-header'\n\ntype Props = {\n  description?: React.ReactNode | string\n  heading: string\n}\nexport function FormHeader({ description, heading }: Props) {\n  if (!heading) {\n    return null\n  }\n\n  return (\n    <div className={baseClass}>\n      <h1>{heading}</h1>\n      {Boolean(description) && <p>{description}</p>}\n    </div>\n  )\n}\n"],"names":["React","baseClass","FormHeader","description","heading","_jsxs","className","_jsx","Boolean"],"mappings":";;;;;AAAA,OAAOA,KAAA,MAAW;;;AAIlB,MAAMC,SAAA,GAAY;AAMX,SAASC,WAAW,EAAEC,WAAW,EAAEC,OAAAA,EAAgB;IACxD,IAAI,CAACA,OAAA,EAAS;QACZ,OAAO;IACT;IAEA,OAAA,WAAA,OACEC,+NAAA,EAAC,OAAA;QAAIC,SAAA,EAAWL,SAAA;;8BACdM,8NAAA,EAAC,MAAA;0BAAIH;;YACJI,OAAA,CAAQL,WAAA,KAAA,WAAA,OAAgBI,8NAAA,EAAC,KAAA;0BAAGJ;;;;AAGnC","ignoreList":[]}},
    {"offset": {"line": 1818, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Unauthorized/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Unauthorized/index.tsx"],"sourcesContent":["import type { AdminViewServerProps } from 'payload'\n\nimport { Button, Gutter } from '@payloadcms/ui'\nimport { formatAdminURL } from 'payload/shared'\nimport React from 'react'\n\nimport { FormHeader } from '../../elements/FormHeader/index.js'\nimport './index.scss'\n\nconst baseClass = 'unauthorized'\n\nexport function UnauthorizedView({ initPageResult }: AdminViewServerProps) {\n  const {\n    permissions,\n    req: {\n      i18n,\n      payload: {\n        config: {\n          admin: {\n            routes: { logout: logoutRoute },\n          },\n          routes: { admin: adminRoute },\n        },\n      },\n      user,\n    },\n  } = initPageResult\n\n  return (\n    <div className={baseClass}>\n      <FormHeader\n        description={i18n.t('error:notAllowedToAccessPage')}\n        heading={i18n.t(\n          user && !permissions.canAccessAdmin ? 'error:unauthorizedAdmin' : 'error:unauthorized',\n        )}\n      />\n      <Button\n        className={`${baseClass}__button`}\n        el=\"link\"\n        size=\"large\"\n        to={formatAdminURL({\n          adminRoute,\n          path: logoutRoute,\n        })}\n      >\n        {i18n.t('authentication:logOut')}\n      </Button>\n    </div>\n  )\n}\n\nexport const UnauthorizedViewWithGutter = (props: AdminViewServerProps) => {\n  return (\n    <Gutter className={[baseClass, `${baseClass}--with-gutter`].join(' ')}>\n      <UnauthorizedView {...props} />\n    </Gutter>\n  )\n}\n"],"names":["Button","Gutter","formatAdminURL","React","FormHeader","baseClass","UnauthorizedView","initPageResult","permissions","req","i18n","payload","config","admin","routes","logout","logoutRoute","adminRoute","user","_jsxs","className","_jsx","description","t","heading","canAccessAdmin","el","size","to","path","UnauthorizedViewWithGutter","props","join"],"mappings":";;;;;;;AAEA,SAASA,MAAM,EAAEC,MAAM,QAAQ;AAC/B,SAASC,cAAc,QAAQ;AAC/B,OAAOC,KAAA,MAAW;AAElB,SAASC,UAAU,QAAQ;;;;;;;;;;AAG3B,MAAMC,SAAA,GAAY;AAEX,SAASC,iBAAiB,EAAEC,cAAAA,EAAsC;IACvE,MAAM,EACJC,WAAW,EACXC,GAAA,EAAK,EACHC,IAAI,EACJC,OAAA,EAAS,EACPC,MAAA,EAAQ,EACNC,KAAA,EAAO,EACLC,MAAA,EAAQ,EAAEC,MAAA,EAAQC,WAAAA,EAAW,EAC9B,EACDF,MAAA,EAAQ,EAAED,KAAA,EAAOI,UAAAA,EAAU,EAAE,EAEhC,EACDC,IAAAA,EAAI,EAEP,GAAGX,cAAA;IAEJ,OAAA,WAAA,OACEY,+NAAA,EAAC,OAAA;QAAIC,SAAA,EAAWf,SAAA;;8BACdgB,8NAAA,EAACjB,6LAAA,EAAA;gBACCkB,WAAA,EAAaZ,IAAA,CAAKa,CAAC,CAAC;gBACpBC,OAAA,EAASd,IAAA,CAAKa,CAAC,CACbL,IAAA,IAAQ,CAACV,WAAA,CAAYiB,cAAc,GAAG,4BAA4B;;8BAGtEJ,8NAAA,EAACrB,kLAAA,EAAA;gBACCoB,SAAA,EAAW,GAAGf,SAAA,CAAA,QAAA,CAAmB;gBACjCqB,EAAA,EAAG;gBACHC,IAAA,EAAK;gBACLC,EAAA,MAAI1B,kMAAA,EAAe;oBACjBe,UAAA;oBACAY,IAAA,EAAMb;gBACR;0BAECN,IAAA,CAAKa,CAAC,CAAC;;;;AAIhB;AAEO,MAAMO,0BAAA,IAA8BC,KAAA;IACzC,OAAA,WAAA,OACEV,8NAAA,EAACpB,kLAAA,EAAA;QAAOmB,SAAA,EAAW;YAACf,SAAA;YAAW,GAAGA,SAAA,CAAA,aAAA,CAAwB;SAAC,CAAC2B,IAAI,CAAC;kBAC/D,WAAA,OAAAX,8NAAA,EAACf,gBAAA,EAAA;YAAkB,GAAGyB,KAAAA;;;AAG5B","ignoreList":[]}},
    {"offset": {"line": 1877, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/Default/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DefaultVersionView = registerClientReference(\n    function() { throw new Error(\"Attempted to call DefaultVersionView() from the server but DefaultVersionView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/Default/index.js <module evaluation>\",\n    \"DefaultVersionView\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,qBAAqB,IAAA,wQAAuB,EACrD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,mGACA","ignoreList":[0]}},
    {"offset": {"line": 1891, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/Default/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DefaultVersionView = registerClientReference(\n    function() { throw new Error(\"Attempted to call DefaultVersionView() from the server but DefaultVersionView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/Default/index.js\",\n    \"DefaultVersionView\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,qBAAqB,IAAA,wQAAuB,EACrD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,+EACA","ignoreList":[0]}},
    {"offset": {"line": 1905, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/Default/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/Default/index.tsx"],"sourcesContent":["'use client'\n\nimport {\n  CheckboxInput,\n  ChevronIcon,\n  formatTimeToNow,\n  Gutter,\n  Pill,\n  type SelectablePill,\n  useConfig,\n  useDocumentInfo,\n  useLocale,\n  useRouteTransition,\n  useTranslation,\n} from '@payloadcms/ui'\nimport { usePathname, useRouter, useSearchParams } from 'next/navigation.js'\nimport React, { type FormEventHandler, useCallback, useEffect, useMemo, useState } from 'react'\n\nimport type { CompareOption, DefaultVersionsViewProps } from './types.js'\n\nimport { Restore } from '../Restore/index.js'\nimport './index.scss'\nimport { SelectComparison } from '../SelectComparison/index.js'\nimport { type SelectedLocaleOnChange, SelectLocales } from '../SelectLocales/index.js'\nimport { SelectedLocalesContext } from './SelectedLocalesContext.js'\nimport { SetStepNav } from './SetStepNav.js'\n\nconst baseClass = 'view-version'\n\nexport const DefaultVersionView: React.FC<DefaultVersionsViewProps> = ({\n  canUpdate,\n  modifiedOnly: modifiedOnlyProp,\n  RenderedDiff,\n  selectedLocales: selectedLocalesFromProps,\n  versionFromCreatedAt,\n  versionFromID,\n  versionFromOptions,\n  versionToCreatedAt,\n  versionToCreatedAtFormatted,\n  VersionToCreatedAtLabel,\n  versionToID,\n  versionToStatus,\n}) => {\n  const { config, getEntityConfig } = useConfig()\n  const { code } = useLocale()\n  const { i18n, t } = useTranslation()\n\n  const [locales, setLocales] = useState<SelectablePill[]>([])\n  const [localeSelectorOpen, setLocaleSelectorOpen] = React.useState(false)\n\n  useEffect(() => {\n    if (config.localization) {\n      const updatedLocales = config.localization.locales.map((locale) => {\n        let label = locale.label\n        if (typeof locale.label !== 'string' && locale.label[code]) {\n          label = locale.label[code]\n        }\n\n        return {\n          name: locale.code,\n          Label: label,\n          selected: selectedLocalesFromProps.includes(locale.code),\n        } as SelectablePill\n      })\n      setLocales(updatedLocales)\n    }\n  }, [code, config.localization, selectedLocalesFromProps])\n\n  const { id: originalDocID, collectionSlug, globalSlug, isTrashed } = useDocumentInfo()\n  const { startRouteTransition } = useRouteTransition()\n\n  const { collectionConfig, globalConfig } = useMemo(() => {\n    return {\n      collectionConfig: getEntityConfig({ collectionSlug }),\n      globalConfig: getEntityConfig({ globalSlug }),\n    }\n  }, [collectionSlug, globalSlug, getEntityConfig])\n\n  const router = useRouter()\n  const pathname = usePathname()\n  const searchParams = useSearchParams()\n  const [modifiedOnly, setModifiedOnly] = useState(modifiedOnlyProp)\n\n  const updateSearchParams = useCallback(\n    (args: {\n      modifiedOnly?: boolean\n      selectedLocales?: SelectablePill[]\n      versionFromID?: string\n    }) => {\n      // If the selected comparison doc or locales change, update URL params so that version page\n      // This is so that RSC can update the version comparison state\n      const current = new URLSearchParams(Array.from(searchParams.entries()))\n\n      if (args?.versionFromID) {\n        current.set('versionFrom', args?.versionFromID)\n      }\n\n      if (args?.selectedLocales) {\n        if (!args.selectedLocales.length) {\n          current.delete('localeCodes')\n        } else {\n          const selectedLocaleCodes: string[] = []\n          for (const locale of args.selectedLocales) {\n            if (locale.selected) {\n              selectedLocaleCodes.push(locale.name)\n            }\n          }\n          current.set('localeCodes', JSON.stringify(selectedLocaleCodes))\n        }\n      }\n\n      if (args?.modifiedOnly === false) {\n        current.set('modifiedOnly', 'false')\n      } else if (args?.modifiedOnly === true) {\n        current.delete('modifiedOnly')\n      }\n\n      const search = current.toString()\n      const query = search ? `?${search}` : ''\n\n      startRouteTransition(() => router.push(`${pathname}${query}`))\n    },\n    [pathname, router, searchParams, startRouteTransition],\n  )\n\n  const onToggleModifiedOnly: FormEventHandler<HTMLInputElement> = useCallback(\n    (event) => {\n      const newModified = (event.target as HTMLInputElement).checked\n      setModifiedOnly(newModified)\n      updateSearchParams({\n        modifiedOnly: newModified,\n      })\n    },\n    [updateSearchParams],\n  )\n\n  const onChangeSelectedLocales: SelectedLocaleOnChange = useCallback(\n    ({ locales }) => {\n      setLocales(locales)\n      updateSearchParams({\n        selectedLocales: locales,\n      })\n    },\n    [updateSearchParams],\n  )\n\n  const onChangeVersionFrom: (val: CompareOption) => void = useCallback(\n    (val) => {\n      updateSearchParams({\n        versionFromID: val.value,\n      })\n    },\n    [updateSearchParams],\n  )\n\n  const { localization } = config\n\n  const versionToTimeAgo = useMemo(\n    () =>\n      t('version:versionAgo', {\n        distance: formatTimeToNow({\n          date: versionToCreatedAt,\n          i18n,\n        }),\n      }),\n    [versionToCreatedAt, i18n, t],\n  )\n\n  const versionFromTimeAgo = useMemo(\n    () =>\n      versionFromCreatedAt\n        ? t('version:versionAgo', {\n            distance: formatTimeToNow({\n              date: versionFromCreatedAt,\n              i18n,\n            }),\n          })\n        : undefined,\n    [versionFromCreatedAt, i18n, t],\n  )\n\n  return (\n    <main className={baseClass}>\n      <Gutter className={`${baseClass}-controls-top`}>\n        <div className={`${baseClass}-controls-top__wrapper`}>\n          <h2>{i18n.t('version:compareVersions')}</h2>\n          <div className={`${baseClass}-controls-top__wrapper-actions`}>\n            <span className={`${baseClass}__modifiedCheckBox`}>\n              <CheckboxInput\n                checked={modifiedOnly}\n                id={'modifiedOnly'}\n                label={i18n.t('version:modifiedOnly')}\n                onToggle={onToggleModifiedOnly}\n              />\n            </span>\n            {localization && (\n              <Pill\n                aria-controls={`${baseClass}-locales`}\n                aria-expanded={localeSelectorOpen}\n                className={`${baseClass}__toggle-locales`}\n                icon={<ChevronIcon direction={localeSelectorOpen ? 'up' : 'down'} />}\n                onClick={() => setLocaleSelectorOpen((localeSelectorOpen) => !localeSelectorOpen)}\n                pillStyle=\"light\"\n                size=\"small\"\n              >\n                <span className={`${baseClass}__toggle-locales-label`}>\n                  {t('general:locales')}:{' '}\n                </span>\n                <span className={`${baseClass}__toggle-locales-list`}>\n                  {locales\n                    .filter((locale) => locale.selected)\n                    .map((locale) => locale.name)\n                    .join(', ')}\n                </span>\n              </Pill>\n            )}\n          </div>\n        </div>\n\n        {localization && (\n          <SelectLocales\n            locales={locales}\n            localeSelectorOpen={localeSelectorOpen}\n            onChange={onChangeSelectedLocales}\n          />\n        )}\n      </Gutter>\n      <Gutter className={`${baseClass}-controls-bottom`}>\n        <div className={`${baseClass}-controls-bottom__wrapper`}>\n          <div className={`${baseClass}__version-from`}>\n            <div className={`${baseClass}__version-from-labels`}>\n              <span>{t('version:comparingAgainst')}</span>\n              {versionFromTimeAgo && (\n                <span className={`${baseClass}__time-elapsed`}>{versionFromTimeAgo}</span>\n              )}\n            </div>\n            <SelectComparison\n              collectionSlug={collectionSlug}\n              docID={originalDocID}\n              globalSlug={globalSlug}\n              onChange={onChangeVersionFrom}\n              versionFromID={versionFromID}\n              versionFromOptions={versionFromOptions}\n            />\n          </div>\n\n          <div className={`${baseClass}__version-to`}>\n            <div className={`${baseClass}__version-to-labels`}>\n              <span>{t('version:currentlyViewing')}</span>\n              <span className={`${baseClass}__time-elapsed`}>{versionToTimeAgo}</span>\n            </div>\n            <div className={`${baseClass}__version-to-version`}>\n              {VersionToCreatedAtLabel}\n              {canUpdate && !isTrashed && (\n                <Restore\n                  className={`${baseClass}__restore`}\n                  collectionConfig={collectionConfig}\n                  globalConfig={globalConfig}\n                  label={collectionConfig?.labels.singular || globalConfig?.label}\n                  originalDocID={originalDocID}\n                  status={versionToStatus}\n                  versionDateFormatted={versionToCreatedAtFormatted}\n                  versionID={versionToID}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </Gutter>\n      <SetStepNav\n        collectionConfig={collectionConfig}\n        globalConfig={globalConfig}\n        id={originalDocID}\n        isTrashed={isTrashed}\n        versionToCreatedAtFormatted={versionToCreatedAtFormatted}\n        versionToID={versionToID}\n      />\n      <Gutter className={`${baseClass}__diff-wrap`}>\n        <SelectedLocalesContext value={{ selectedLocales: locales.map((locale) => locale.name) }}>\n          {versionToCreatedAt && RenderedDiff}\n        </SelectedLocalesContext>\n      </Gutter>\n    </main>\n  )\n}\n"],"names":["CheckboxInput","ChevronIcon","formatTimeToNow","Gutter","Pill","useConfig","useDocumentInfo","useLocale","useRouteTransition","useTranslation","usePathname","useRouter","useSearchParams","React","useCallback","useEffect","useMemo","useState","Restore","SelectComparison","SelectLocales","SelectedLocalesContext","SetStepNav","baseClass","DefaultVersionView","canUpdate","modifiedOnly","modifiedOnlyProp","RenderedDiff","selectedLocales","selectedLocalesFromProps","versionFromCreatedAt","versionFromID","versionFromOptions","versionToCreatedAt","versionToCreatedAtFormatted","VersionToCreatedAtLabel","versionToID","versionToStatus","config","getEntityConfig","code","i18n","t","locales","setLocales","localeSelectorOpen","setLocaleSelectorOpen","localization","updatedLocales","map","locale","label","name","Label","selected","includes","id","originalDocID","collectionSlug","globalSlug","isTrashed","startRouteTransition","collectionConfig","globalConfig","router","pathname","searchParams","setModifiedOnly","updateSearchParams","args","current","URLSearchParams","Array","from","entries","set","length","delete","selectedLocaleCodes","push","JSON","stringify","search","toString","query","onToggleModifiedOnly","event","newModified","target","checked","onChangeSelectedLocales","onChangeVersionFrom","val","value","versionToTimeAgo","distance","date","versionFromTimeAgo","undefined","_jsxs","className","_jsx","onToggle","icon","direction","onClick","pillStyle","size","filter","join","onChange","docID","labels","singular","status","versionDateFormatted","versionID"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 1915, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/fetchVersions.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/fetchVersions.ts"],"sourcesContent":["import {\n  logError,\n  type PaginatedDocs,\n  type PayloadRequest,\n  type SelectType,\n  type Sort,\n  type TypedUser,\n  type TypeWithVersion,\n  type Where,\n} from 'payload'\n\nexport const fetchVersion = async <TVersionData extends object = object>({\n  id,\n  collectionSlug,\n  depth,\n  globalSlug,\n  locale,\n  overrideAccess,\n  req,\n  select,\n  user,\n}: {\n  collectionSlug?: string\n  depth?: number\n  globalSlug?: string\n  id: number | string\n  locale?: 'all' | ({} & string)\n  overrideAccess?: boolean\n  req: PayloadRequest\n  select?: SelectType\n  user?: TypedUser\n}): Promise<null | TypeWithVersion<TVersionData>> => {\n  try {\n    if (collectionSlug) {\n      return (await req.payload.findVersionByID({\n        id: String(id),\n        collection: collectionSlug,\n        depth,\n        locale,\n        overrideAccess,\n        req,\n        select,\n        user,\n      })) as TypeWithVersion<TVersionData>\n    } else if (globalSlug) {\n      return (await req.payload.findGlobalVersionByID({\n        id: String(id),\n        slug: globalSlug,\n        depth,\n        locale,\n        overrideAccess,\n        req,\n        select,\n        user,\n      })) as TypeWithVersion<TVersionData>\n    }\n  } catch (err) {\n    logError({ err, payload: req.payload })\n    return null\n  }\n}\n\nexport const fetchVersions = async <TVersionData extends object = object>({\n  collectionSlug,\n  depth,\n  draft,\n  globalSlug,\n  limit,\n  locale,\n  overrideAccess,\n  page,\n  parentID,\n  req,\n  select,\n  sort,\n  user,\n  where: whereFromArgs,\n}: {\n  collectionSlug?: string\n  depth?: number\n  draft?: boolean\n  globalSlug?: string\n  limit?: number\n  locale?: 'all' | ({} & string)\n  overrideAccess?: boolean\n  page?: number\n  parentID?: number | string\n  req: PayloadRequest\n  select?: SelectType\n  sort?: Sort\n  user?: TypedUser\n  where?: Where\n}): Promise<null | PaginatedDocs<TypeWithVersion<TVersionData>>> => {\n  const where: Where = { and: [...(whereFromArgs ? [whereFromArgs] : [])] }\n\n  try {\n    if (collectionSlug) {\n      if (parentID) {\n        where.and.push({\n          parent: {\n            equals: parentID,\n          },\n        })\n      }\n      return (await req.payload.findVersions({\n        collection: collectionSlug,\n        depth,\n        draft,\n        limit,\n        locale,\n        overrideAccess,\n        page,\n        req,\n        select,\n        sort,\n        user,\n        where,\n      })) as PaginatedDocs<TypeWithVersion<TVersionData>>\n    } else if (globalSlug) {\n      return (await req.payload.findGlobalVersions({\n        slug: globalSlug,\n        depth,\n        limit,\n        locale,\n        overrideAccess,\n        page,\n        req,\n        select,\n        sort,\n        user,\n        where,\n      })) as PaginatedDocs<TypeWithVersion<TVersionData>>\n    }\n  } catch (err) {\n    logError({ err, payload: req.payload })\n\n    return null\n  }\n}\n\nexport const fetchLatestVersion = async <TVersionData extends object = object>({\n  collectionSlug,\n  depth,\n  globalSlug,\n  locale,\n  overrideAccess,\n  parentID,\n  req,\n  select,\n  status,\n  user,\n  where,\n}: {\n  collectionSlug?: string\n  depth?: number\n  globalSlug?: string\n  locale?: 'all' | ({} & string)\n  overrideAccess?: boolean\n  parentID?: number | string\n  req: PayloadRequest\n  select?: SelectType\n  status: 'draft' | 'published'\n  user?: TypedUser\n  where?: Where\n}): Promise<null | TypeWithVersion<TVersionData>> => {\n  // Get the entity config to check if drafts are enabled\n  const entityConfig = collectionSlug\n    ? req.payload.collections[collectionSlug]?.config\n    : globalSlug\n      ? req.payload.globals[globalSlug]?.config\n      : undefined\n\n  // Only query by _status if drafts are enabled (since _status field only exists with drafts)\n  const draftsEnabled = entityConfig?.versions?.drafts\n\n  const and: Where[] = [\n    ...(draftsEnabled\n      ? [\n          {\n            'version._status': {\n              equals: status,\n            },\n          },\n        ]\n      : []),\n    ...(where ? [where] : []),\n  ]\n\n  const latest = await fetchVersions({\n    collectionSlug,\n    depth,\n    draft: true,\n    globalSlug,\n    limit: 1,\n    locale,\n    overrideAccess,\n    parentID,\n    req,\n    select,\n    sort: '-updatedAt',\n    user,\n    where: { and },\n  })\n\n  return latest?.docs?.length ? (latest.docs[0] as TypeWithVersion<TVersionData>) : null\n}\n"],"names":["logError","fetchVersion","id","collectionSlug","depth","globalSlug","locale","overrideAccess","req","select","user","payload","findVersionByID","String","collection","findGlobalVersionByID","slug","err","fetchVersions","draft","limit","page","parentID","sort","where","whereFromArgs","and","push","parent","equals","findVersions","findGlobalVersions","fetchLatestVersion","status","entityConfig","collections","config","globals","undefined","draftsEnabled","versions","drafts","latest","docs","length"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2057, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Collapsible/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Collapsible = registerClientReference(\n    function() { throw new Error(\"Attempted to call Collapsible() from the server but Collapsible is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Collapsible/index.js <module evaluation>\",\n    \"Collapsible\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,iIACA","ignoreList":[0]}},
    {"offset": {"line": 2071, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Collapsible/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Collapsible = registerClientReference(\n    function() { throw new Error(\"Attempted to call Collapsible() from the server but Collapsible is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Collapsible/index.js\",\n    \"Collapsible\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,6GACA","ignoreList":[0]}},
    {"offset": {"line": 2085, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Collapsible/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/Collapsible/index.tsx"],"sourcesContent":["'use client'\nimport type { CollapsibleFieldDiffClientComponent } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { useTranslation } from '@payloadcms/ui'\nimport React from 'react'\n\nimport { useSelectedLocales } from '../../../Default/SelectedLocalesContext.js'\nimport { DiffCollapser } from '../../DiffCollapser/index.js'\nimport { RenderVersionFieldsToDiff } from '../../RenderVersionFieldsToDiff.js'\n\nconst baseClass = 'collapsible-diff'\n\nexport const Collapsible: CollapsibleFieldDiffClientComponent = ({\n  baseVersionField,\n  comparisonValue: valueFrom,\n  field,\n  parentIsLocalized,\n  versionValue: valueTo,\n}) => {\n  const { i18n } = useTranslation()\n  const { selectedLocales } = useSelectedLocales()\n\n  if (!baseVersionField.fields?.length) {\n    return null\n  }\n\n  return (\n    <div className={baseClass}>\n      <DiffCollapser\n        fields={field.fields}\n        Label={\n          'label' in field &&\n          field.label &&\n          typeof field.label !== 'function' && <span>{getTranslation(field.label, i18n)}</span>\n        }\n        locales={selectedLocales}\n        parentIsLocalized={parentIsLocalized || field.localized}\n        valueFrom={valueFrom}\n        valueTo={valueTo}\n      >\n        <RenderVersionFieldsToDiff versionFields={baseVersionField.fields} />\n      </DiffCollapser>\n    </div>\n  )\n}\n"],"names":["c","_c","getTranslation","useTranslation","React","useSelectedLocales","DiffCollapser","RenderVersionFieldsToDiff","baseClass","Collapsible","t0","$","baseVersionField","comparisonValue","valueFrom","field","parentIsLocalized","versionValue","valueTo","i18n","selectedLocales","fields","length","t1","_jsx","className","children","Label","label","localized","versionFields"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 2093, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Date/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DateDiffComponent = registerClientReference(\n    function() { throw new Error(\"Attempted to call DateDiffComponent() from the server but DateDiffComponent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Date/index.js <module evaluation>\",\n    \"DateDiffComponent\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,oBAAoB,IAAA,wQAAuB,EACpD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,0HACA","ignoreList":[0]}},
    {"offset": {"line": 2107, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Date/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DateDiffComponent = registerClientReference(\n    function() { throw new Error(\"Attempted to call DateDiffComponent() from the server but DateDiffComponent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Date/index.js\",\n    \"DateDiffComponent\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,oBAAoB,IAAA,wQAAuB,EACpD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,sGACA","ignoreList":[0]}},
    {"offset": {"line": 2121, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Date/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/Date/index.tsx"],"sourcesContent":["'use client'\nimport type { DateFieldDiffClientComponent } from 'payload'\n\nimport {\n  FieldDiffContainer,\n  getHTMLDiffComponents,\n  useConfig,\n  useTranslation,\n} from '@payloadcms/ui'\nimport { formatDate } from '@payloadcms/ui/shared'\n\nimport './index.scss'\n\nimport React from 'react'\n\nconst baseClass = 'date-diff'\n\nexport const DateDiffComponent: DateFieldDiffClientComponent = ({\n  comparisonValue: valueFrom,\n  field,\n  locale,\n  nestingLevel,\n  versionValue: valueTo,\n}) => {\n  const { i18n } = useTranslation()\n  const {\n    config: {\n      admin: { dateFormat },\n    },\n  } = useConfig()\n\n  const formattedFromDate = valueFrom\n    ? formatDate({\n        date: typeof valueFrom === 'string' ? new Date(valueFrom) : (valueFrom as Date),\n        i18n,\n        pattern: dateFormat,\n      })\n    : ''\n\n  const formattedToDate = valueTo\n    ? formatDate({\n        date: typeof valueTo === 'string' ? new Date(valueTo) : (valueTo as Date),\n        i18n,\n        pattern: dateFormat,\n      })\n    : ''\n\n  const { From, To } = getHTMLDiffComponents({\n    fromHTML:\n      `<div class=\"${baseClass}\" data-enable-match=\"true\" data-date=\"${formattedFromDate}\"><p>` +\n      formattedFromDate +\n      '</p></div>',\n    toHTML:\n      `<div class=\"${baseClass}\" data-enable-match=\"true\" data-date=\"${formattedToDate}\"><p>` +\n      formattedToDate +\n      '</p></div>',\n    tokenizeByCharacter: false,\n  })\n\n  return (\n    <FieldDiffContainer\n      className={baseClass}\n      From={From}\n      i18n={i18n}\n      label={{\n        label: field.label,\n        locale,\n      }}\n      nestingLevel={nestingLevel}\n      To={To}\n    />\n  )\n}\n"],"names":["c","_c","FieldDiffContainer","getHTMLDiffComponents","useConfig","useTranslation","formatDate","React","baseClass","DateDiffComponent","t0","$","comparisonValue","valueFrom","field","locale","nestingLevel","versionValue","valueTo","i18n","config","t1","admin","t2","dateFormat","formattedFromDate","date","Date","pattern","formattedToDate","t3","t4","t5","label","From","To","fromHTML","toHTML","tokenizeByCharacter","_jsx","className"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 2129, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Group/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Group = registerClientReference(\n    function() { throw new Error(\"Attempted to call Group() from the server but Group is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Group/index.js <module evaluation>\",\n    \"Group\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,QAAQ,IAAA,wQAAuB,EACxC;IAAa,MAAM,IAAI,MAAM;AAA0N,GACvP,2HACA","ignoreList":[0]}},
    {"offset": {"line": 2143, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Group/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Group = registerClientReference(\n    function() { throw new Error(\"Attempted to call Group() from the server but Group is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Group/index.js\",\n    \"Group\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,QAAQ,IAAA,wQAAuB,EACxC;IAAa,MAAM,IAAI,MAAM;AAA0N,GACvP,uGACA","ignoreList":[0]}},
    {"offset": {"line": 2157, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Group/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/Group/index.tsx"],"sourcesContent":["'use client'\nimport type { GroupFieldDiffClientComponent } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\n\nimport './index.scss'\n\nimport { useTranslation } from '@payloadcms/ui'\nimport React from 'react'\n\nimport { useSelectedLocales } from '../../../Default/SelectedLocalesContext.js'\nimport { DiffCollapser } from '../../DiffCollapser/index.js'\nimport { RenderVersionFieldsToDiff } from '../../RenderVersionFieldsToDiff.js'\n\nconst baseClass = 'group-diff'\n\nexport const Group: GroupFieldDiffClientComponent = ({\n  baseVersionField,\n  comparisonValue: valueFrom,\n  field,\n  locale,\n  parentIsLocalized,\n  versionValue: valueTo,\n}) => {\n  const { i18n } = useTranslation()\n  const { selectedLocales } = useSelectedLocales()\n\n  return (\n    <div className={baseClass}>\n      <DiffCollapser\n        fields={field.fields}\n        Label={\n          'label' in field && field.label && typeof field.label !== 'function' ? (\n            <span>\n              {locale && <span className={`${baseClass}__locale-label`}>{locale}</span>}\n              {getTranslation(field.label, i18n)}\n            </span>\n          ) : (\n            <span className={`${baseClass}__locale-label ${baseClass}__locale-label--no-label`}>\n              &lt;{i18n.t('version:noLabelGroup')}&gt;\n            </span>\n          )\n        }\n        locales={selectedLocales}\n        parentIsLocalized={parentIsLocalized || field.localized}\n        valueFrom={valueFrom}\n        valueTo={valueTo}\n      >\n        <RenderVersionFieldsToDiff versionFields={baseVersionField.fields} />\n      </DiffCollapser>\n    </div>\n  )\n}\n"],"names":["c","_c","getTranslation","useTranslation","React","useSelectedLocales","DiffCollapser","RenderVersionFieldsToDiff","baseClass","Group","t0","$","baseVersionField","comparisonValue","valueFrom","field","locale","parentIsLocalized","versionValue","valueTo","i18n","selectedLocales","t1","fields","_jsx","className","children","Label","label","_jsxs","t","localized","versionFields"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 2165, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Iterable/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Iterable = registerClientReference(\n    function() { throw new Error(\"Attempted to call Iterable() from the server but Iterable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Iterable/index.js <module evaluation>\",\n    \"Iterable\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,WAAW,IAAA,wQAAuB,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,8HACA","ignoreList":[0]}},
    {"offset": {"line": 2179, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Iterable/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Iterable = registerClientReference(\n    function() { throw new Error(\"Attempted to call Iterable() from the server but Iterable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Iterable/index.js\",\n    \"Iterable\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,WAAW,IAAA,wQAAuB,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,0GACA","ignoreList":[0]}},
    {"offset": {"line": 2193, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Iterable/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/Iterable/index.tsx"],"sourcesContent":["'use client'\n\nimport type { FieldDiffClientProps } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { useConfig, useTranslation } from '@payloadcms/ui'\n\nimport './index.scss'\n\nimport { fieldIsArrayType, fieldIsBlockType } from 'payload/shared'\nimport React from 'react'\n\nimport { useSelectedLocales } from '../../../Default/SelectedLocalesContext.js'\nimport { DiffCollapser } from '../../DiffCollapser/index.js'\nimport { RenderVersionFieldsToDiff } from '../../RenderVersionFieldsToDiff.js'\nimport { getFieldsForRowComparison } from '../../utilities/getFieldsForRowComparison.js'\n\nconst baseClass = 'iterable-diff'\n\nexport const Iterable: React.FC<FieldDiffClientProps> = ({\n  baseVersionField,\n  comparisonValue: valueFrom,\n  field,\n  locale,\n  parentIsLocalized,\n  versionValue: valueTo,\n}) => {\n  const { i18n, t } = useTranslation()\n  const { selectedLocales } = useSelectedLocales()\n  const { config } = useConfig()\n\n  if (!fieldIsArrayType(field) && !fieldIsBlockType(field)) {\n    throw new Error(`Expected field to be an array or blocks type but got: ${field.type}`)\n  }\n\n  const valueToRowCount = Array.isArray(valueTo) ? valueTo.length : 0\n  const valueFromRowCount = Array.isArray(valueFrom) ? valueFrom.length : 0\n  const maxRows = Math.max(valueToRowCount, valueFromRowCount)\n\n  return (\n    <div className={baseClass}>\n      <DiffCollapser\n        field={field}\n        isIterable\n        Label={\n          'label' in field &&\n          field.label &&\n          typeof field.label !== 'function' && (\n            <span>\n              {locale && <span className={`${baseClass}__locale-label`}>{locale}</span>}\n              {getTranslation(field.label, i18n)}\n            </span>\n          )\n        }\n        locales={selectedLocales}\n        parentIsLocalized={parentIsLocalized}\n        valueFrom={valueFrom}\n        valueTo={valueTo}\n      >\n        {maxRows > 0 && (\n          <div className={`${baseClass}__rows`}>\n            {Array.from({ length: maxRows }, (_, i) => {\n              const valueToRow = valueTo?.[i] || {}\n              const valueFromRow = valueFrom?.[i] || {}\n\n              const { fields, versionFields } = getFieldsForRowComparison({\n                baseVersionField,\n                config,\n                field,\n                row: i,\n                valueFromRow,\n                valueToRow,\n              })\n\n              if (!versionFields?.length) {\n                // Rows without a diff create \"holes\" in the baseVersionField.rows (=versionFields) array - this is to maintain the correct row indexes.\n                // It does mean that this row has no diff and should not be rendered => skip it.\n                return null\n              }\n\n              const rowNumber = String(i + 1).padStart(2, '0')\n              const rowLabel = fieldIsArrayType(field)\n                ? `${t('general:item')} ${rowNumber}`\n                : `${t('fields:block')} ${rowNumber}`\n\n              return (\n                <div className={`${baseClass}__row`} key={i}>\n                  <DiffCollapser\n                    fields={fields}\n                    hideGutter={true}\n                    Label={\n                      <div className={`${baseClass}-label-container`}>\n                        <div className={`${baseClass}-label-prefix`}></div>\n                        <span className={`${baseClass}__label`}>{rowLabel}</span>\n                      </div>\n                    }\n                    locales={selectedLocales}\n                    parentIsLocalized={parentIsLocalized || field.localized}\n                    valueFrom={valueFromRow}\n                    valueTo={valueToRow}\n                  >\n                    <RenderVersionFieldsToDiff versionFields={versionFields} />\n                  </DiffCollapser>\n                </div>\n              )\n            })}\n          </div>\n        )}\n        {maxRows === 0 && (\n          <div className={`${baseClass}__no-rows`}>\n            {i18n.t('version:noRowsFound', {\n              label:\n                'labels' in field && field.labels?.plural\n                  ? getTranslation(field.labels.plural, i18n)\n                  : i18n.t('general:rows'),\n            })}\n          </div>\n        )}\n      </DiffCollapser>\n    </div>\n  )\n}\n"],"names":["c","_c","getTranslation","useConfig","useTranslation","fieldIsArrayType","fieldIsBlockType","React","useSelectedLocales","DiffCollapser","RenderVersionFieldsToDiff","getFieldsForRowComparison","baseClass","Iterable","t0","$","baseVersionField","comparisonValue","valueFrom","field","locale","parentIsLocalized","versionValue","valueTo","i18n","t","selectedLocales","config","Error","type","valueToRowCount","Array","isArray","length","valueFromRowCount","maxRows","Math","max","t1","_jsx","className","children","_jsxs","isIterable","Label","label","from","_","i","valueToRow","valueFromRow","fields","versionFields","row","rowNumber","String","padStart","rowLabel","hideGutter","localized","labels","plural"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 2203, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Relationship/generateLabelFromValue.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/Relationship/generateLabelFromValue.ts"],"sourcesContent":["import type { PayloadRequest, RelationshipField, TypeWithID } from 'payload'\n\nimport {\n  fieldAffectsData,\n  fieldIsPresentationalOnly,\n  fieldShouldBeLocalized,\n  flattenTopLevelFields,\n} from 'payload/shared'\n\nimport type { RelationshipValue } from './index.js'\n\nexport const generateLabelFromValue = async ({\n  field,\n  locale,\n  parentIsLocalized,\n  req,\n  value,\n}: {\n  field: RelationshipField\n  locale: string\n  parentIsLocalized: boolean\n  req: PayloadRequest\n  value: RelationshipValue\n}): Promise<string> => {\n  let relatedDoc: number | string | TypeWithID\n  let relationTo: string = field.relationTo as string\n  let valueToReturn: string = ''\n\n  if (typeof value === 'object' && 'relationTo' in value) {\n    relatedDoc = value.value\n    relationTo = value.relationTo\n  } else {\n    // Non-polymorphic relationship or deleted document\n    relatedDoc = value\n  }\n\n  const relatedCollection = req.payload.collections[relationTo].config\n\n  const useAsTitle = relatedCollection?.admin?.useAsTitle\n\n  const flattenedRelatedCollectionFields = flattenTopLevelFields(relatedCollection.fields, {\n    moveSubFieldsToTop: true,\n  })\n\n  const useAsTitleField = flattenedRelatedCollectionFields.find(\n    (f) => fieldAffectsData(f) && !fieldIsPresentationalOnly(f) && f.name === useAsTitle,\n  )\n  let titleFieldIsLocalized = false\n\n  if (useAsTitleField && fieldAffectsData(useAsTitleField)) {\n    titleFieldIsLocalized = fieldShouldBeLocalized({ field: useAsTitleField, parentIsLocalized })\n  }\n\n  if (typeof relatedDoc?.[useAsTitle] !== 'undefined') {\n    valueToReturn = relatedDoc[useAsTitle]\n  } else if (typeof relatedDoc === 'string' || typeof relatedDoc === 'number') {\n    // When relatedDoc is just an ID (due to maxDepth: 0), fetch the document to get the title\n    try {\n      const fetchedDoc = await req.payload.findByID({\n        id: relatedDoc,\n        collection: relationTo,\n        depth: 0,\n        locale: titleFieldIsLocalized ? locale : undefined,\n        req,\n        select: {\n          [useAsTitle]: true,\n        },\n      })\n\n      if (fetchedDoc?.[useAsTitle]) {\n        valueToReturn = fetchedDoc[useAsTitle]\n      } else {\n        valueToReturn = `${req.i18n.t('general:untitled')} - ID: ${relatedDoc}`\n      }\n    } catch (error) {\n      // Document might have been deleted or user doesn't have access\n      valueToReturn = `${req.i18n.t('general:untitled')} - ID: ${relatedDoc}`\n    }\n  } else {\n    valueToReturn = String(typeof relatedDoc === 'object' ? relatedDoc.id : relatedDoc)\n  }\n\n  if (\n    typeof valueToReturn === 'object' &&\n    valueToReturn &&\n    titleFieldIsLocalized &&\n    valueToReturn?.[locale]\n  ) {\n    valueToReturn = valueToReturn[locale]\n  }\n\n  if (\n    (valueToReturn && typeof valueToReturn === 'object' && valueToReturn !== null) ||\n    typeof valueToReturn !== 'string'\n  ) {\n    valueToReturn = JSON.stringify(valueToReturn)\n  }\n\n  return valueToReturn\n}\n"],"names":["fieldAffectsData","fieldIsPresentationalOnly","fieldShouldBeLocalized","flattenTopLevelFields","generateLabelFromValue","field","locale","parentIsLocalized","req","value","relatedDoc","relationTo","valueToReturn","relatedCollection","payload","collections","config","useAsTitle","admin","flattenedRelatedCollectionFields","fields","moveSubFieldsToTop","useAsTitleField","find","f","name","titleFieldIsLocalized","fetchedDoc","findByID","id","collection","depth","undefined","select","i18n","t","error","String","JSON","stringify"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2279, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Relationship/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/Relationship/index.tsx"],"sourcesContent":["import type {\n  PayloadRequest,\n  RelationshipField,\n  RelationshipFieldDiffServerComponent,\n  TypeWithID,\n} from 'payload'\n\nimport { getTranslation, type I18nClient } from '@payloadcms/translations'\nimport { FieldDiffContainer, getHTMLDiffComponents } from '@payloadcms/ui/rsc'\n\nimport './index.scss'\n\nimport React from 'react'\n\nimport { generateLabelFromValue } from './generateLabelFromValue.js'\n\nconst baseClass = 'relationship-diff'\n\nexport type RelationshipValue =\n  | { relationTo: string; value: number | string | TypeWithID }\n  | (number | string | TypeWithID)\n\nexport const Relationship: RelationshipFieldDiffServerComponent = ({\n  comparisonValue: valueFrom,\n  field,\n  i18n,\n  locale,\n  nestingLevel,\n  parentIsLocalized,\n  req,\n  versionValue: valueTo,\n}) => {\n  const hasMany = 'hasMany' in field && field.hasMany\n  const polymorphic = Array.isArray(field.relationTo)\n\n  if (hasMany) {\n    return (\n      <ManyRelationshipDiff\n        field={field}\n        i18n={i18n}\n        locale={locale}\n        nestingLevel={nestingLevel}\n        parentIsLocalized={parentIsLocalized}\n        polymorphic={polymorphic}\n        req={req}\n        valueFrom={valueFrom as RelationshipValue[] | undefined}\n        valueTo={valueTo as RelationshipValue[] | undefined}\n      />\n    )\n  }\n\n  return (\n    <SingleRelationshipDiff\n      field={field}\n      i18n={i18n}\n      locale={locale}\n      nestingLevel={nestingLevel}\n      parentIsLocalized={parentIsLocalized}\n      polymorphic={polymorphic}\n      req={req}\n      valueFrom={valueFrom as RelationshipValue}\n      valueTo={valueTo as RelationshipValue}\n    />\n  )\n}\n\nexport const SingleRelationshipDiff: React.FC<{\n  field: RelationshipField\n  i18n: I18nClient\n  locale: string\n  nestingLevel?: number\n  parentIsLocalized: boolean\n  polymorphic: boolean\n  req: PayloadRequest\n  valueFrom: RelationshipValue\n  valueTo: RelationshipValue\n}> = async (args) => {\n  const {\n    field,\n    i18n,\n    locale,\n    nestingLevel,\n    parentIsLocalized,\n    polymorphic,\n    req,\n    valueFrom,\n    valueTo,\n  } = args\n\n  const ReactDOMServer = (await import('react-dom/server')).default\n\n  const localeToUse =\n    locale ??\n    (req.payload.config?.localization && req.payload.config?.localization?.defaultLocale) ??\n    'en'\n\n  // Generate titles asynchronously before creating components\n  const [titleFrom, titleTo] = await Promise.all([\n    valueFrom\n      ? generateLabelFromValue({\n          field,\n          locale: localeToUse,\n          parentIsLocalized,\n          req,\n          value: valueFrom,\n        })\n      : Promise.resolve(null),\n    valueTo\n      ? generateLabelFromValue({\n          field,\n          locale: localeToUse,\n          parentIsLocalized,\n          req,\n          value: valueTo,\n        })\n      : Promise.resolve(null),\n  ])\n\n  const FromComponent = valueFrom ? (\n    <RelationshipDocumentDiff\n      field={field}\n      i18n={i18n}\n      locale={locale}\n      parentIsLocalized={parentIsLocalized}\n      polymorphic={polymorphic}\n      relationTo={\n        polymorphic\n          ? (valueFrom as { relationTo: string; value: TypeWithID }).relationTo\n          : (field.relationTo as string)\n      }\n      req={req}\n      showPill={true}\n      title={titleFrom}\n      value={valueFrom}\n    />\n  ) : null\n  const ToComponent = valueTo ? (\n    <RelationshipDocumentDiff\n      field={field}\n      i18n={i18n}\n      locale={locale}\n      parentIsLocalized={parentIsLocalized}\n      polymorphic={polymorphic}\n      relationTo={\n        polymorphic\n          ? (valueTo as { relationTo: string; value: TypeWithID }).relationTo\n          : (field.relationTo as string)\n      }\n      req={req}\n      showPill={true}\n      title={titleTo}\n      value={valueTo}\n    />\n  ) : null\n\n  const fromHTML = FromComponent ? ReactDOMServer.renderToStaticMarkup(FromComponent) : `<p></p>`\n  const toHTML = ToComponent ? ReactDOMServer.renderToStaticMarkup(ToComponent) : `<p></p>`\n\n  const diff = getHTMLDiffComponents({\n    fromHTML,\n    toHTML,\n    tokenizeByCharacter: false,\n  })\n\n  return (\n    <FieldDiffContainer\n      className={`${baseClass}-container ${baseClass}-container--hasOne`}\n      From={diff.From}\n      i18n={i18n}\n      label={{ label: field.label, locale }}\n      nestingLevel={nestingLevel}\n      To={diff.To}\n    />\n  )\n}\n\nconst ManyRelationshipDiff: React.FC<{\n  field: RelationshipField\n  i18n: I18nClient\n  locale: string\n  nestingLevel?: number\n  parentIsLocalized: boolean\n  polymorphic: boolean\n  req: PayloadRequest\n  valueFrom: RelationshipValue[] | undefined\n  valueTo: RelationshipValue[] | undefined\n}> = async ({\n  field,\n  i18n,\n  locale,\n  nestingLevel,\n  parentIsLocalized,\n  polymorphic,\n  req,\n  valueFrom,\n  valueTo,\n}) => {\n  const ReactDOMServer = (await import('react-dom/server')).default\n\n  const fromArr = Array.isArray(valueFrom) ? valueFrom : []\n  const toArr = Array.isArray(valueTo) ? valueTo : []\n\n  const localeToUse =\n    locale ??\n    (req.payload.config?.localization && req.payload.config?.localization?.defaultLocale) ??\n    'en'\n\n  // Generate all titles asynchronously before creating components\n  const [titlesFrom, titlesTo] = await Promise.all([\n    Promise.all(\n      fromArr.map((val) =>\n        generateLabelFromValue({\n          field,\n          locale: localeToUse,\n          parentIsLocalized,\n          req,\n          value: val,\n        }),\n      ),\n    ),\n    Promise.all(\n      toArr.map((val) =>\n        generateLabelFromValue({\n          field,\n          locale: localeToUse,\n          parentIsLocalized,\n          req,\n          value: val,\n        }),\n      ),\n    ),\n  ])\n\n  const makeNodes = (list: RelationshipValue[], titles: string[]) =>\n    list.map((val, idx) => (\n      <RelationshipDocumentDiff\n        field={field}\n        i18n={i18n}\n        key={idx}\n        locale={locale}\n        parentIsLocalized={parentIsLocalized}\n        polymorphic={polymorphic}\n        relationTo={\n          polymorphic\n            ? (val as { relationTo: string; value: TypeWithID }).relationTo\n            : (field.relationTo as string)\n        }\n        req={req}\n        showPill={polymorphic}\n        title={titles[idx]}\n        value={val}\n      />\n    ))\n\n  const fromNodes =\n    fromArr.length > 0 ? makeNodes(fromArr, titlesFrom) : <p className={`${baseClass}__empty`}></p>\n\n  const toNodes =\n    toArr.length > 0 ? makeNodes(toArr, titlesTo) : <p className={`${baseClass}__empty`}></p>\n\n  const fromHTML = ReactDOMServer.renderToStaticMarkup(fromNodes)\n  const toHTML = ReactDOMServer.renderToStaticMarkup(toNodes)\n\n  const diff = getHTMLDiffComponents({\n    fromHTML,\n    toHTML,\n    tokenizeByCharacter: false,\n  })\n\n  return (\n    <FieldDiffContainer\n      className={`${baseClass}-container ${baseClass}-container--hasMany`}\n      From={diff.From}\n      i18n={i18n}\n      label={{ label: field.label, locale }}\n      nestingLevel={nestingLevel}\n      To={diff.To}\n    />\n  )\n}\n\nconst RelationshipDocumentDiff = ({\n  field,\n  i18n,\n  locale,\n  parentIsLocalized,\n  polymorphic,\n  relationTo,\n  req,\n  showPill = false,\n  title,\n  value,\n}: {\n  field: RelationshipField\n  i18n: I18nClient\n  locale: string\n  parentIsLocalized: boolean\n  polymorphic: boolean\n  relationTo: string\n  req: PayloadRequest\n  showPill?: boolean\n  title: null | string\n  value: RelationshipValue\n}) => {\n  let pillLabel: null | string = null\n  if (showPill) {\n    const collectionConfig = req.payload.collections[relationTo].config\n    pillLabel = collectionConfig.labels?.singular\n      ? getTranslation(collectionConfig.labels.singular, i18n)\n      : collectionConfig.slug\n  }\n\n  return (\n    <div\n      className={`${baseClass}`}\n      data-enable-match=\"true\"\n      data-id={\n        polymorphic\n          ? (value as { relationTo: string; value: TypeWithID }).value.id\n          : (value as TypeWithID).id\n      }\n      data-relation-to={relationTo}\n    >\n      {pillLabel && (\n        <span className={`${baseClass}__pill`} data-enable-match=\"false\">\n          {pillLabel}\n        </span>\n      )}\n      <strong className={`${baseClass}__info`} data-enable-match=\"false\">\n        {title}\n      </strong>\n    </div>\n  )\n}\n"],"names":["getTranslation","FieldDiffContainer","getHTMLDiffComponents","React","generateLabelFromValue","baseClass","Relationship","comparisonValue","valueFrom","field","i18n","locale","nestingLevel","parentIsLocalized","req","versionValue","valueTo","hasMany","polymorphic","Array","isArray","relationTo","_jsx","ManyRelationshipDiff","SingleRelationshipDiff","args","ReactDOMServer","default","localeToUse","payload","config","localization","defaultLocale","titleFrom","titleTo","Promise","all","value","resolve","FromComponent","RelationshipDocumentDiff","showPill","title","ToComponent","fromHTML","renderToStaticMarkup","toHTML","diff","tokenizeByCharacter","className","From","label","To","fromArr","toArr","titlesFrom","titlesTo","map","val","makeNodes","list","titles","idx","fromNodes","length","toNodes","pillLabel","collectionConfig","collections","labels","singular","slug","_jsxs","id"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2482, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Row/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Row = registerClientReference(\n    function() { throw new Error(\"Attempted to call Row() from the server but Row is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Row/index.js <module evaluation>\",\n    \"Row\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,MAAM,IAAA,wQAAuB,EACtC;IAAa,MAAM,IAAI,MAAM;AAAsN,GACnP,yHACA","ignoreList":[0]}},
    {"offset": {"line": 2496, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Row/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Row = registerClientReference(\n    function() { throw new Error(\"Attempted to call Row() from the server but Row is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Row/index.js\",\n    \"Row\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,MAAM,IAAA,wQAAuB,EACtC;IAAa,MAAM,IAAI,MAAM;AAAsN,GACnP,qGACA","ignoreList":[0]}},
    {"offset": {"line": 2510, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Row/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/Row/index.tsx"],"sourcesContent":["'use client'\nimport type { RowFieldDiffClientComponent } from 'payload'\n\nimport React from 'react'\n\nimport { RenderVersionFieldsToDiff } from '../../RenderVersionFieldsToDiff.js'\n\nconst baseClass = 'row-diff'\n\nexport const Row: RowFieldDiffClientComponent = ({ baseVersionField }) => {\n  return (\n    <div className={baseClass}>\n      <RenderVersionFieldsToDiff versionFields={baseVersionField.fields} />\n    </div>\n  )\n}\n"],"names":["React","RenderVersionFieldsToDiff","baseClass","Row","baseVersionField","_jsx","className","versionFields","fields"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 2518, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Select/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Select = registerClientReference(\n    function() { throw new Error(\"Attempted to call Select() from the server but Select is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Select/index.js <module evaluation>\",\n    \"Select\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,SAAS,IAAA,wQAAuB,EACzC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,4HACA","ignoreList":[0]}},
    {"offset": {"line": 2532, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Select/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Select = registerClientReference(\n    function() { throw new Error(\"Attempted to call Select() from the server but Select is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Select/index.js\",\n    \"Select\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,SAAS,IAAA,wQAAuB,EACzC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,wGACA","ignoreList":[0]}},
    {"offset": {"line": 2546, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Select/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/Select/index.tsx"],"sourcesContent":["'use client'\nimport type { I18nClient } from '@payloadcms/translations'\nimport type { Option, SelectField, SelectFieldDiffClientComponent } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { FieldDiffContainer, getHTMLDiffComponents, useTranslation } from '@payloadcms/ui'\nimport React from 'react'\n\nimport './index.scss'\n\nconst baseClass = 'select-diff'\n\nconst getOptionsToRender = (\n  value: string,\n  options: SelectField['options'],\n  hasMany: boolean,\n): Option | Option[] => {\n  if (hasMany && Array.isArray(value)) {\n    return value.map(\n      (val) =>\n        options.find((option) => (typeof option === 'string' ? option : option.value) === val) ||\n        String(val),\n    )\n  }\n  return (\n    options.find((option) => (typeof option === 'string' ? option : option.value) === value) ||\n    String(value)\n  )\n}\n\n/**\n * Translates option labels while ensuring they are strings.\n * If `options.label` is a JSX element, it falls back to `options.value` because `DiffViewer`\n * expects all values to be strings.\n */\nconst getTranslatedOptions = (options: Option | Option[], i18n: I18nClient): string => {\n  if (Array.isArray(options)) {\n    return options\n      .map((option) => {\n        if (typeof option === 'string') {\n          return option\n        }\n        const translatedLabel = getTranslation(option.label, i18n)\n\n        // Ensure the result is a string, otherwise use option.value\n        return typeof translatedLabel === 'string' ? translatedLabel : option.value\n      })\n      .join(', ')\n  }\n\n  if (typeof options === 'string') {\n    return options\n  }\n\n  const translatedLabel = getTranslation(options.label, i18n)\n\n  return typeof translatedLabel === 'string' ? translatedLabel : options.value\n}\n\nexport const Select: SelectFieldDiffClientComponent = ({\n  comparisonValue: valueFrom,\n  diffMethod,\n  field,\n  locale,\n  nestingLevel,\n  versionValue: valueTo,\n}) => {\n  const { i18n } = useTranslation()\n\n  const options = 'options' in field && field.options\n\n  const renderedValueFrom =\n    typeof valueFrom !== 'undefined'\n      ? getTranslatedOptions(\n          getOptionsToRender(\n            typeof valueFrom === 'string' ? valueFrom : JSON.stringify(valueFrom),\n            options,\n            field.hasMany,\n          ),\n          i18n,\n        )\n      : ''\n\n  const renderedValueTo =\n    typeof valueTo !== 'undefined'\n      ? getTranslatedOptions(\n          getOptionsToRender(\n            typeof valueTo === 'string' ? valueTo : JSON.stringify(valueTo),\n            options,\n            field.hasMany,\n          ),\n          i18n,\n        )\n      : ''\n\n  const { From, To } = getHTMLDiffComponents({\n    fromHTML: '<p>' + renderedValueFrom + '</p>',\n    toHTML: '<p>' + renderedValueTo + '</p>',\n    tokenizeByCharacter: true,\n  })\n\n  return (\n    <FieldDiffContainer\n      className={baseClass}\n      From={From}\n      i18n={i18n}\n      label={{\n        label: field.label,\n        locale,\n      }}\n      nestingLevel={nestingLevel}\n      To={To}\n    />\n  )\n}\n"],"names":["c","_c","getTranslation","FieldDiffContainer","getHTMLDiffComponents","useTranslation","React","baseClass","getOptionsToRender","value","options","hasMany","Array","isArray","map","val","find","option","String","getTranslatedOptions","i18n","translatedLabel","label","join","Select","t0","$","comparisonValue","valueFrom","field","locale","nestingLevel","versionValue","valueTo","renderedValueFrom","JSON","stringify","renderedValueTo","t1","t2","t3","From","To","fromHTML","toHTML","tokenizeByCharacter","_jsx","className"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 2554, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Tabs/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Tabs = registerClientReference(\n    function() { throw new Error(\"Attempted to call Tabs() from the server but Tabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Tabs/index.js <module evaluation>\",\n    \"Tabs\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,OAAO,IAAA,wQAAuB,EACvC;IAAa,MAAM,IAAI,MAAM;AAAwN,GACrP,0HACA","ignoreList":[0]}},
    {"offset": {"line": 2568, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Tabs/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Tabs = registerClientReference(\n    function() { throw new Error(\"Attempted to call Tabs() from the server but Tabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Tabs/index.js\",\n    \"Tabs\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,OAAO,IAAA,wQAAuB,EACvC;IAAa,MAAM,IAAI,MAAM;AAAwN,GACrP,sGACA","ignoreList":[0]}},
    {"offset": {"line": 2582, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Tabs/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/Tabs/index.tsx"],"sourcesContent":["'use client'\nimport type {\n  ClientTab,\n  FieldDiffClientProps,\n  TabsFieldClient,\n  TabsFieldDiffClientComponent,\n  VersionTab,\n} from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { useTranslation } from '@payloadcms/ui'\nimport React from 'react'\n\nimport './index.scss'\nimport { useSelectedLocales } from '../../../Default/SelectedLocalesContext.js'\nimport { DiffCollapser } from '../../DiffCollapser/index.js'\nimport { RenderVersionFieldsToDiff } from '../../RenderVersionFieldsToDiff.js'\n\nconst baseClass = 'tabs-diff'\n\nexport const Tabs: TabsFieldDiffClientComponent = (props) => {\n  const { baseVersionField, comparisonValue: valueFrom, field, versionValue: valueTo } = props\n  const { selectedLocales } = useSelectedLocales()\n\n  return (\n    <div className={baseClass}>\n      {baseVersionField.tabs.map((tab, i) => {\n        if (!tab?.fields?.length) {\n          return null\n        }\n        const fieldTab = field.tabs?.[i]\n        return (\n          <div className={`${baseClass}__tab`} key={i}>\n            {(() => {\n              if ('name' in fieldTab && selectedLocales && fieldTab.localized) {\n                // Named localized tab\n                return selectedLocales.map((locale, index) => {\n                  const localizedTabProps: TabProps = {\n                    ...props,\n                    comparisonValue: valueFrom?.[tab.name]?.[locale],\n                    fieldTab,\n                    locale,\n                    tab,\n                    versionValue: valueTo?.[tab.name]?.[locale],\n                  }\n                  return (\n                    <div className={`${baseClass}__tab-locale`} key={[locale, index].join('-')}>\n                      <div className={`${baseClass}__tab-locale-value`}>\n                        <Tab key={locale} {...localizedTabProps} />\n                      </div>\n                    </div>\n                  )\n                })\n              } else if ('name' in tab && tab.name) {\n                // Named tab\n                const namedTabProps: TabProps = {\n                  ...props,\n                  comparisonValue: valueFrom?.[tab.name],\n                  fieldTab,\n                  tab,\n                  versionValue: valueTo?.[tab.name],\n                }\n                return <Tab key={i} {...namedTabProps} />\n              } else {\n                // Unnamed tab\n                return <Tab fieldTab={fieldTab} key={i} {...props} tab={tab} />\n              }\n            })()}\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\ntype TabProps = {\n  fieldTab: ClientTab\n  tab: VersionTab\n} & FieldDiffClientProps<TabsFieldClient>\n\nconst Tab: React.FC<TabProps> = ({\n  comparisonValue: valueFrom,\n  fieldTab,\n  locale,\n  parentIsLocalized,\n  tab,\n  versionValue: valueTo,\n}) => {\n  const { i18n } = useTranslation()\n  const { selectedLocales } = useSelectedLocales()\n\n  if (!tab.fields?.length) {\n    return null\n  }\n\n  return (\n    <DiffCollapser\n      fields={fieldTab.fields}\n      Label={\n        'label' in tab &&\n        tab.label &&\n        typeof tab.label !== 'function' && (\n          <span>\n            {locale && <span className={`${baseClass}__locale-label`}>{locale}</span>}\n            {getTranslation(tab.label, i18n)}\n          </span>\n        )\n      }\n      locales={selectedLocales}\n      parentIsLocalized={parentIsLocalized || fieldTab.localized}\n      valueFrom={valueFrom}\n      valueTo={valueTo}\n    >\n      <RenderVersionFieldsToDiff versionFields={tab.fields} />\n    </DiffCollapser>\n  )\n}\n"],"names":["c","_c","getTranslation","useTranslation","React","useSelectedLocales","DiffCollapser","RenderVersionFieldsToDiff","baseClass","Tabs","props","$","baseVersionField","comparisonValue","valueFrom","field","versionValue","valueTo","selectedLocales","t0","tabs","t1","tab","i","fields","length","fieldTab","_jsx","className","children","localized","map","locale","index","localizedTabProps","name","Tab","join","namedTabProps","parentIsLocalized","i18n","Label","label","_jsxs","versionFields"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 2590, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Text/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Text = registerClientReference(\n    function() { throw new Error(\"Attempted to call Text() from the server but Text is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Text/index.js <module evaluation>\",\n    \"Text\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,OAAO,IAAA,wQAAuB,EACvC;IAAa,MAAM,IAAI,MAAM;AAAwN,GACrP,0HACA","ignoreList":[0]}},
    {"offset": {"line": 2604, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Text/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Text = registerClientReference(\n    function() { throw new Error(\"Attempted to call Text() from the server but Text is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Text/index.js\",\n    \"Text\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,OAAO,IAAA,wQAAuB,EACvC;IAAa,MAAM,IAAI,MAAM;AAAwN,GACrP,sGACA","ignoreList":[0]}},
    {"offset": {"line": 2618, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Text/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/Text/index.tsx"],"sourcesContent":["'use client'\nimport type { TextFieldDiffClientComponent } from 'payload'\n\nimport { FieldDiffContainer, getHTMLDiffComponents, useTranslation } from '@payloadcms/ui'\n\nimport './index.scss'\n\nimport React from 'react'\n\nconst baseClass = 'text-diff'\n\nfunction formatValue(value: unknown): {\n  tokenizeByCharacter: boolean\n  value: string\n} {\n  if (typeof value === 'string') {\n    return { tokenizeByCharacter: true, value }\n  }\n  if (typeof value === 'number') {\n    return {\n      tokenizeByCharacter: true,\n      value: String(value),\n    }\n  }\n  if (typeof value === 'boolean') {\n    return {\n      tokenizeByCharacter: false,\n      value: String(value),\n    }\n  }\n\n  if (value && typeof value === 'object') {\n    return {\n      tokenizeByCharacter: false,\n      value: `<pre>${JSON.stringify(value, null, 2)}</pre>`,\n    }\n  }\n\n  return {\n    tokenizeByCharacter: true,\n    value: undefined,\n  }\n}\n\nexport const Text: TextFieldDiffClientComponent = ({\n  comparisonValue: valueFrom,\n  field,\n  locale,\n  nestingLevel,\n  versionValue: valueTo,\n}) => {\n  const { i18n } = useTranslation()\n\n  let placeholder = ''\n\n  if (valueTo == valueFrom) {\n    placeholder = `<span class=\"html-diff-no-value\"><span>`\n  }\n\n  const formattedValueFrom = formatValue(valueFrom)\n  const formattedValueTo = formatValue(valueTo)\n\n  let tokenizeByCharacter = true\n  if (formattedValueFrom.value?.length) {\n    tokenizeByCharacter = formattedValueFrom.tokenizeByCharacter\n  } else if (formattedValueTo.value?.length) {\n    tokenizeByCharacter = formattedValueTo.tokenizeByCharacter\n  }\n\n  const renderedValueFrom = formattedValueFrom.value ?? placeholder\n  const renderedValueTo: string = formattedValueTo.value ?? placeholder\n\n  const { From, To } = getHTMLDiffComponents({\n    fromHTML: '<p>' + renderedValueFrom + '</p>',\n    toHTML: '<p>' + renderedValueTo + '</p>',\n    tokenizeByCharacter,\n  })\n\n  return (\n    <FieldDiffContainer\n      className={baseClass}\n      From={From}\n      i18n={i18n}\n      label={{\n        label: field.label,\n        locale,\n      }}\n      nestingLevel={nestingLevel}\n      To={To}\n    />\n  )\n}\n"],"names":["c","_c","FieldDiffContainer","getHTMLDiffComponents","useTranslation","React","baseClass","formatValue","value","tokenizeByCharacter","String","JSON","stringify","undefined","Text","t0","$","comparisonValue","valueFrom","field","locale","nestingLevel","versionValue","valueTo","i18n","placeholder","t1","label","formattedValueFrom","formattedValueTo","length","renderedValueFrom","renderedValueTo","From","To","fromHTML","toHTML","_jsx","className"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 2626, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Upload/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/Upload/index.tsx"],"sourcesContent":["import type {\n  FileData,\n  PayloadRequest,\n  TypeWithID,\n  UploadField,\n  UploadFieldDiffServerComponent,\n} from 'payload'\n\nimport { getTranslation, type I18nClient } from '@payloadcms/translations'\nimport { FieldDiffContainer, File, getHTMLDiffComponents } from '@payloadcms/ui/rsc'\n\nimport './index.scss'\n\nimport React from 'react'\n\nconst baseClass = 'upload-diff'\n\ntype NonPolyUploadDoc = (FileData & TypeWithID) | number | string\ntype PolyUploadDoc = { relationTo: string; value: (FileData & TypeWithID) | number | string }\n\ntype UploadDoc = NonPolyUploadDoc | PolyUploadDoc\n\nexport const Upload: UploadFieldDiffServerComponent = (args) => {\n  const {\n    comparisonValue: valueFrom,\n    field,\n    i18n,\n    locale,\n    nestingLevel,\n    req,\n    versionValue: valueTo,\n  } = args\n  const hasMany = 'hasMany' in field && field.hasMany && Array.isArray(valueTo)\n  const polymorphic = Array.isArray(field.relationTo)\n\n  if (hasMany) {\n    return (\n      <HasManyUploadDiff\n        field={field}\n        i18n={i18n}\n        locale={locale}\n        nestingLevel={nestingLevel}\n        polymorphic={polymorphic}\n        req={req}\n        valueFrom={valueFrom as UploadDoc[]}\n        valueTo={valueTo as UploadDoc[]}\n      />\n    )\n  }\n\n  return (\n    <SingleUploadDiff\n      field={field}\n      i18n={i18n}\n      locale={locale}\n      nestingLevel={nestingLevel}\n      polymorphic={polymorphic}\n      req={req}\n      valueFrom={valueFrom as UploadDoc}\n      valueTo={valueTo as UploadDoc}\n    />\n  )\n}\n\nexport const HasManyUploadDiff: React.FC<{\n  field: UploadField\n  i18n: I18nClient\n  locale: string\n  nestingLevel?: number\n  polymorphic: boolean\n  req: PayloadRequest\n  valueFrom: Array<UploadDoc>\n  valueTo: Array<UploadDoc>\n}> = async (args) => {\n  const { field, i18n, locale, nestingLevel, polymorphic, req, valueFrom, valueTo } = args\n  const ReactDOMServer = (await import('react-dom/server')).default\n\n  let From: React.ReactNode = ''\n  let To: React.ReactNode = ''\n\n  const showCollectionSlug = Array.isArray(field.relationTo)\n\n  const getUploadDocKey = (uploadDoc: UploadDoc): number | string => {\n    if (typeof uploadDoc === 'object' && 'relationTo' in uploadDoc) {\n      // Polymorphic case\n      const value = uploadDoc.value\n      return typeof value === 'object' ? value.id : value\n    }\n    // Non-polymorphic case\n    return typeof uploadDoc === 'object' ? uploadDoc.id : uploadDoc\n  }\n\n  const FromComponents = valueFrom\n    ? valueFrom.map((uploadDoc) => (\n        <UploadDocumentDiff\n          i18n={i18n}\n          key={getUploadDocKey(uploadDoc)}\n          polymorphic={polymorphic}\n          relationTo={field.relationTo}\n          req={req}\n          showCollectionSlug={showCollectionSlug}\n          uploadDoc={uploadDoc}\n        />\n      ))\n    : null\n  const ToComponents = valueTo\n    ? valueTo.map((uploadDoc) => (\n        <UploadDocumentDiff\n          i18n={i18n}\n          key={getUploadDocKey(uploadDoc)}\n          polymorphic={polymorphic}\n          relationTo={field.relationTo}\n          req={req}\n          showCollectionSlug={showCollectionSlug}\n          uploadDoc={uploadDoc}\n        />\n      ))\n    : null\n\n  const diffResult = getHTMLDiffComponents({\n    fromHTML:\n      `<div class=\"${baseClass}-hasMany\">` +\n      (FromComponents\n        ? FromComponents.map(\n            (component) => `<div>${ReactDOMServer.renderToStaticMarkup(component)}</div>`,\n          ).join('')\n        : '') +\n      '</div>',\n    toHTML:\n      `<div class=\"${baseClass}-hasMany\">` +\n      (ToComponents\n        ? ToComponents.map(\n            (component) => `<div>${ReactDOMServer.renderToStaticMarkup(component)}</div>`,\n          ).join('')\n        : '') +\n      '</div>',\n    tokenizeByCharacter: false,\n  })\n  From = diffResult.From\n  To = diffResult.To\n\n  return (\n    <FieldDiffContainer\n      className={`${baseClass}-container ${baseClass}-container--hasMany`}\n      From={From}\n      i18n={i18n}\n      label={{\n        label: field.label,\n        locale,\n      }}\n      nestingLevel={nestingLevel}\n      To={To}\n    />\n  )\n}\n\nexport const SingleUploadDiff: React.FC<{\n  field: UploadField\n  i18n: I18nClient\n  locale: string\n  nestingLevel?: number\n  polymorphic: boolean\n  req: PayloadRequest\n  valueFrom: UploadDoc\n  valueTo: UploadDoc\n}> = async (args) => {\n  const { field, i18n, locale, nestingLevel, polymorphic, req, valueFrom, valueTo } = args\n\n  const ReactDOMServer = (await import('react-dom/server')).default\n\n  let From: React.ReactNode = ''\n  let To: React.ReactNode = ''\n\n  const showCollectionSlug = Array.isArray(field.relationTo)\n\n  const FromComponent = valueFrom ? (\n    <UploadDocumentDiff\n      i18n={i18n}\n      polymorphic={polymorphic}\n      relationTo={field.relationTo}\n      req={req}\n      showCollectionSlug={showCollectionSlug}\n      uploadDoc={valueFrom}\n    />\n  ) : null\n  const ToComponent = valueTo ? (\n    <UploadDocumentDiff\n      i18n={i18n}\n      polymorphic={polymorphic}\n      relationTo={field.relationTo}\n      req={req}\n      showCollectionSlug={showCollectionSlug}\n      uploadDoc={valueTo}\n    />\n  ) : null\n\n  const fromHtml = FromComponent\n    ? ReactDOMServer.renderToStaticMarkup(FromComponent)\n    : '<p>' + '' + '</p>'\n  const toHtml = ToComponent\n    ? ReactDOMServer.renderToStaticMarkup(ToComponent)\n    : '<p>' + '' + '</p>'\n\n  const diffResult = getHTMLDiffComponents({\n    fromHTML: fromHtml,\n    toHTML: toHtml,\n    tokenizeByCharacter: false,\n  })\n  From = diffResult.From\n  To = diffResult.To\n\n  return (\n    <FieldDiffContainer\n      className={`${baseClass}-container ${baseClass}-container--hasOne`}\n      From={From}\n      i18n={i18n}\n      label={{\n        label: field.label,\n        locale,\n      }}\n      nestingLevel={nestingLevel}\n      To={To}\n    />\n  )\n}\n\nconst UploadDocumentDiff = (args: {\n  i18n: I18nClient\n  polymorphic: boolean\n  relationTo: string | string[]\n  req: PayloadRequest\n  showCollectionSlug?: boolean\n  uploadDoc: UploadDoc\n}) => {\n  const { i18n, polymorphic, relationTo, req, showCollectionSlug, uploadDoc } = args\n\n  let thumbnailSRC: string = ''\n\n  const value = polymorphic\n    ? (uploadDoc as { relationTo: string; value: FileData & TypeWithID }).value\n    : (uploadDoc as FileData & TypeWithID)\n\n  if (value && typeof value === 'object' && 'thumbnailURL' in value) {\n    thumbnailSRC =\n      (typeof value.thumbnailURL === 'string' && value.thumbnailURL) ||\n      (typeof value.url === 'string' && value.url) ||\n      ''\n  }\n\n  let filename: string\n  if (value && typeof value === 'object') {\n    filename = value.filename\n  } else {\n    filename = `${i18n.t('general:untitled')} - ID: ${uploadDoc as number | string}`\n  }\n\n  let pillLabel: null | string = null\n\n  if (showCollectionSlug) {\n    let collectionSlug: string\n    if (polymorphic && typeof uploadDoc === 'object' && 'relationTo' in uploadDoc) {\n      collectionSlug = uploadDoc.relationTo\n    } else {\n      collectionSlug = typeof relationTo === 'string' ? relationTo : relationTo[0]\n    }\n    const uploadConfig = req.payload.collections[collectionSlug].config\n    pillLabel = uploadConfig.labels?.singular\n      ? getTranslation(uploadConfig.labels.singular, i18n)\n      : uploadConfig.slug\n  }\n\n  let id: number | string | undefined\n  if (polymorphic && typeof uploadDoc === 'object' && 'relationTo' in uploadDoc) {\n    const polyValue = uploadDoc.value\n    id = typeof polyValue === 'object' ? polyValue.id : polyValue\n  } else if (typeof uploadDoc === 'object' && 'id' in uploadDoc) {\n    id = uploadDoc.id\n  } else if (typeof uploadDoc === 'string' || typeof uploadDoc === 'number') {\n    id = uploadDoc\n  }\n\n  const alt =\n    (value && typeof value === 'object' && (value as { alt?: string }).alt) || filename || ''\n\n  return (\n    <div\n      className={`${baseClass}`}\n      data-enable-match=\"true\"\n      data-id={id}\n      data-relation-to={relationTo}\n    >\n      <div className={`${baseClass}__card`}>\n        <div className={`${baseClass}__thumbnail`}>\n          {thumbnailSRC?.length ? <img alt={alt} src={thumbnailSRC} /> : <File />}\n        </div>\n        {pillLabel && (\n          <div className={`${baseClass}__pill`} data-enable-match=\"false\">\n            <span>{pillLabel}</span>\n          </div>\n        )}\n        <div className={`${baseClass}__info`} data-enable-match=\"false\">\n          <strong>{filename}</strong>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":["getTranslation","FieldDiffContainer","File","getHTMLDiffComponents","React","baseClass","Upload","args","comparisonValue","valueFrom","field","i18n","locale","nestingLevel","req","versionValue","valueTo","hasMany","Array","isArray","polymorphic","relationTo","_jsx","HasManyUploadDiff","SingleUploadDiff","ReactDOMServer","default","From","To","showCollectionSlug","getUploadDocKey","uploadDoc","value","id","FromComponents","map","UploadDocumentDiff","ToComponents","diffResult","fromHTML","component","renderToStaticMarkup","join","toHTML","tokenizeByCharacter","className","label","FromComponent","ToComponent","fromHtml","toHtml","thumbnailSRC","thumbnailURL","url","filename","t","pillLabel","collectionSlug","uploadConfig","payload","collections","config","labels","singular","slug","polyValue","alt","_jsxs","length","src"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2838, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/index.ts"],"sourcesContent":["import type { FieldDiffClientProps, FieldDiffServerProps, FieldTypes } from 'payload'\n\nimport { Collapsible } from './Collapsible/index.js'\nimport { DateDiffComponent } from './Date/index.js'\nimport { Group } from './Group/index.js'\nimport { Iterable } from './Iterable/index.js'\nimport { Relationship } from './Relationship/index.js'\nimport { Row } from './Row/index.js'\nimport { Select } from './Select/index.js'\nimport { Tabs } from './Tabs/index.js'\nimport { Text } from './Text/index.js'\nimport { Upload } from './Upload/index.js'\n\nexport const diffComponents: Record<\n  FieldTypes,\n  React.ComponentType<FieldDiffClientProps | FieldDiffServerProps>\n> = {\n  array: Iterable,\n  blocks: Iterable,\n  checkbox: Text,\n  code: Text,\n  collapsible: Collapsible,\n  date: DateDiffComponent,\n  email: Text,\n  group: Group,\n  join: null,\n  json: Text,\n  number: Text,\n  point: Text,\n  radio: Select,\n  relationship: Relationship,\n  richText: Text,\n  row: Row,\n  select: Select,\n  tabs: Tabs,\n  text: Text,\n  textarea: Text,\n  ui: null,\n  upload: Upload,\n}\n"],"names":["Collapsible","DateDiffComponent","Group","Iterable","Relationship","Row","Select","Tabs","Text","Upload","diffComponents","array","blocks","checkbox","code","collapsible","date","email","group","join","json","number","point","radio","relationship","richText","row","select","tabs","text","textarea","ui","upload"],"mappings":";;;;AAEA,SAASA,WAAW,QAAQ;AAC5B,SAASC,iBAAiB,QAAQ;AAClC,SAASC,KAAK,QAAQ;AACtB,SAASC,QAAQ,QAAQ;AACzB,SAASC,YAAY,QAAQ;AAC7B,SAASC,GAAG,QAAQ;AACpB,SAASC,MAAM,QAAQ;AACvB,SAASC,IAAI,QAAQ;AACrB,SAASC,IAAI,QAAQ;AACrB,SAASC,MAAM,QAAQ;;;;;;;;;;;;;;;AAEhB,MAAMC,cAAA,GAGT;IACFC,KAAA,EAAOR,iOAAA;IACPS,MAAA,EAAQT,iOAAA;IACRU,QAAA,EAAUL,yNAAA;IACVM,IAAA,EAAMN,yNAAA;IACNO,WAAA,EAAaf,uOAAA;IACbgB,IAAA,EAAMf,sOAAA;IACNgB,KAAA,EAAOT,yNAAA;IACPU,KAAA,EAAOhB,2NAAA;IACPiB,IAAA,EAAM;IACNC,IAAA,EAAMZ,yNAAA;IACNa,MAAA,EAAQb,yNAAA;IACRc,KAAA,EAAOd,yNAAA;IACPe,KAAA,EAAOjB,6NAAA;IACPkB,YAAA,EAAcpB,yOAAA;IACdqB,QAAA,EAAUjB,yNAAA;IACVkB,GAAA,EAAKrB,uNAAA;IACLsB,MAAA,EAAQrB,6NAAA;IACRsB,IAAA,EAAMrB,yNAAA;IACNsB,IAAA,EAAMrB,yNAAA;IACNsB,QAAA,EAAUtB,yNAAA;IACVuB,EAAA,EAAI;IACJC,MAAA,EAAQvB,6NAAAA;AACV","ignoreList":[]}},
    {"offset": {"line": 2897, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/buildVersionFields.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/buildVersionFields.tsx"],"sourcesContent":["import type { I18nClient } from '@payloadcms/translations'\n\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { dequal } from 'dequal/lite'\nimport {\n  type BaseVersionField,\n  type ClientField,\n  type ClientFieldSchemaMap,\n  type Field,\n  type FieldDiffClientProps,\n  type FieldDiffServerProps,\n  type FieldTypes,\n  type FlattenedBlock,\n  MissingEditorProp,\n  type PayloadComponent,\n  type PayloadRequest,\n  type SanitizedFieldPermissions,\n  type SanitizedFieldsPermissions,\n  type VersionField,\n} from 'payload'\nimport {\n  fieldIsID,\n  fieldShouldBeLocalized,\n  getFieldPaths,\n  getUniqueListBy,\n  tabHasName,\n} from 'payload/shared'\n\nimport { diffComponents } from './fields/index.js'\n\nexport type BuildVersionFieldsArgs = {\n  clientSchemaMap: ClientFieldSchemaMap\n  customDiffComponents: Partial<\n    Record<FieldTypes, PayloadComponent<FieldDiffServerProps, FieldDiffClientProps>>\n  >\n  entitySlug: string\n  fields: Field[]\n  fieldsPermissions: SanitizedFieldsPermissions\n  i18n: I18nClient\n  modifiedOnly: boolean\n  nestingLevel?: number\n  parentIndexPath: string\n  parentIsLocalized: boolean\n  parentPath: string\n  parentSchemaPath: string\n  req: PayloadRequest\n  selectedLocales: string[]\n  versionFromSiblingData: object\n  versionToSiblingData: object\n}\n\n/**\n * Build up an object that contains rendered diff components for each field.\n * This is then sent to the client to be rendered.\n *\n * Here, the server is responsible for traversing through the document data and building up this\n * version state object.\n */\nexport const buildVersionFields = ({\n  clientSchemaMap,\n  customDiffComponents,\n  entitySlug,\n  fields,\n  fieldsPermissions,\n  i18n,\n  modifiedOnly,\n  nestingLevel = 0,\n  parentIndexPath,\n  parentIsLocalized,\n  parentPath,\n  parentSchemaPath,\n  req,\n  selectedLocales,\n  versionFromSiblingData,\n  versionToSiblingData,\n}: BuildVersionFieldsArgs): {\n  versionFields: VersionField[]\n} => {\n  const versionFields: VersionField[] = []\n  let fieldIndex = -1\n\n  for (const field of fields) {\n    fieldIndex++\n\n    if (fieldIsID(field)) {\n      continue\n    }\n\n    const { indexPath, path, schemaPath } = getFieldPaths({\n      field,\n      index: fieldIndex,\n      parentIndexPath,\n      parentPath,\n      parentSchemaPath,\n    })\n\n    const clientField = clientSchemaMap.get(entitySlug + '.' + schemaPath)\n\n    if (!clientField) {\n      req.payload.logger.error({\n        clientFieldKey: entitySlug + '.' + schemaPath,\n        clientSchemaMapKeys: Array.from(clientSchemaMap.keys()),\n        msg: 'No client field found for ' + entitySlug + '.' + schemaPath,\n        parentPath,\n        parentSchemaPath,\n        path,\n        schemaPath,\n      })\n      throw new Error('No client field found for ' + entitySlug + '.' + schemaPath)\n    }\n\n    const versionField: VersionField = {}\n    const isLocalized = fieldShouldBeLocalized({ field, parentIsLocalized })\n\n    const fieldName: null | string = 'name' in field ? field.name : null\n\n    const valueFrom = fieldName ? versionFromSiblingData?.[fieldName] : versionFromSiblingData\n    const valueTo = fieldName ? versionToSiblingData?.[fieldName] : versionToSiblingData\n\n    if (isLocalized) {\n      versionField.fieldByLocale = {}\n\n      for (const locale of selectedLocales) {\n        const localizedVersionField = buildVersionField({\n          clientField: clientField as ClientField,\n          clientSchemaMap,\n          customDiffComponents,\n          entitySlug,\n          field,\n          i18n,\n          indexPath,\n          locale,\n          modifiedOnly,\n          nestingLevel,\n          parentFieldsPermissions: fieldsPermissions,\n          parentIsLocalized: true,\n          parentPath,\n          parentSchemaPath,\n          path,\n          req,\n          schemaPath,\n          selectedLocales,\n          valueFrom: valueFrom?.[locale],\n          valueTo: valueTo?.[locale],\n        })\n        if (localizedVersionField) {\n          versionField.fieldByLocale[locale] = localizedVersionField\n        }\n      }\n    } else {\n      const baseVersionField = buildVersionField({\n        clientField: clientField as ClientField,\n        clientSchemaMap,\n        customDiffComponents,\n        entitySlug,\n        field,\n        i18n,\n        indexPath,\n        modifiedOnly,\n        nestingLevel,\n        parentFieldsPermissions: fieldsPermissions,\n        parentIsLocalized: parentIsLocalized || ('localized' in field && field.localized),\n        parentPath,\n        parentSchemaPath,\n        path,\n        req,\n        schemaPath,\n        selectedLocales,\n        valueFrom,\n        valueTo,\n      })\n\n      if (baseVersionField) {\n        versionField.field = baseVersionField\n      }\n    }\n\n    if (\n      versionField.field ||\n      (versionField.fieldByLocale && Object.keys(versionField.fieldByLocale).length)\n    ) {\n      versionFields.push(versionField)\n    }\n  }\n\n  return {\n    versionFields,\n  }\n}\n\nconst buildVersionField = ({\n  clientField,\n  clientSchemaMap,\n  customDiffComponents,\n  entitySlug,\n  field,\n  i18n,\n  indexPath,\n  locale,\n  modifiedOnly,\n  nestingLevel,\n  parentFieldsPermissions,\n  parentIsLocalized,\n  parentPath,\n  parentSchemaPath,\n  path,\n  req,\n  schemaPath,\n  selectedLocales,\n  valueFrom,\n  valueTo,\n}: {\n  clientField: ClientField\n  field: Field\n  indexPath: string\n  locale?: string\n  modifiedOnly?: boolean\n  nestingLevel: number\n  parentFieldsPermissions: SanitizedFieldsPermissions\n  parentIsLocalized: boolean\n  path: string\n  schemaPath: string\n  valueFrom: unknown\n  valueTo: unknown\n} & Omit<\n  BuildVersionFieldsArgs,\n  | 'fields'\n  | 'fieldsPermissions'\n  | 'parentIndexPath'\n  | 'versionFromSiblingData'\n  | 'versionToSiblingData'\n>): BaseVersionField | null => {\n  let hasReadPermission: boolean = false\n  let fieldPermissions: SanitizedFieldPermissions | undefined = undefined\n\n  if (typeof parentFieldsPermissions === 'boolean') {\n    hasReadPermission = parentFieldsPermissions\n    fieldPermissions = parentFieldsPermissions\n  } else {\n    if ('name' in field) {\n      fieldPermissions = parentFieldsPermissions?.[field.name]\n      if (typeof fieldPermissions === 'boolean') {\n        hasReadPermission = fieldPermissions\n      } else if (typeof fieldPermissions?.read === 'boolean') {\n        hasReadPermission = fieldPermissions.read\n      }\n    } else {\n      // If the field is unnamed and parentFieldsPermissions is an object, its sub-fields will decide their read permissions state.\n      // As far as this field is concerned, we are allowed to read it, as we need to reach its sub-fields to determine their read permissions.\n      hasReadPermission = true\n    }\n  }\n\n  if (!hasReadPermission) {\n    // HasReadPermission is only valid if the field has a name. E.g. for a tabs field it would incorrectly return `false`.\n    return null\n  }\n\n  if (modifiedOnly && dequal(valueFrom, valueTo)) {\n    return null\n  }\n\n  let CustomComponent = customDiffComponents?.[field.type]\n  if (field?.type === 'richText') {\n    if (!field?.editor) {\n      throw new MissingEditorProp(field) // while we allow disabling editor functionality, you should not have any richText fields defined if you do not have an editor\n    }\n\n    if (typeof field?.editor === 'function') {\n      throw new Error('Attempted to access unsanitized rich text editor.')\n    }\n\n    if (field.editor.CellComponent) {\n      CustomComponent = field.editor.DiffComponent\n    }\n  }\n  if (field?.admin?.components?.Diff) {\n    CustomComponent = field.admin.components.Diff\n  }\n\n  const DefaultComponent = diffComponents?.[field.type]\n\n  const baseVersionField: BaseVersionField = {\n    type: field.type,\n    fields: [],\n    path,\n    schemaPath,\n  }\n\n  if (field.type === 'tabs' && 'tabs' in field) {\n    baseVersionField.tabs = []\n    let tabIndex = -1\n    for (const tab of field.tabs) {\n      tabIndex++\n      const isNamedTab = tabHasName(tab)\n\n      const tabAsField = { ...tab, type: 'tab' }\n\n      const {\n        indexPath: tabIndexPath,\n        path: tabPath,\n        schemaPath: tabSchemaPath,\n      } = getFieldPaths({\n        field: tabAsField,\n        index: tabIndex,\n        parentIndexPath: indexPath,\n        parentPath: path,\n        parentSchemaPath: schemaPath,\n      })\n\n      let tabFieldsPermissions: SanitizedFieldsPermissions = undefined\n\n      // The tabs field does not have its own permissions as it's unnamed => use parentFieldsPermissions\n      if (typeof parentFieldsPermissions === 'boolean') {\n        tabFieldsPermissions = parentFieldsPermissions\n      } else {\n        if ('name' in tab) {\n          const tabPermissions = parentFieldsPermissions?.[tab.name]\n          if (typeof tabPermissions === 'boolean') {\n            tabFieldsPermissions = tabPermissions\n          } else {\n            tabFieldsPermissions = tabPermissions?.fields\n          }\n        } else {\n          tabFieldsPermissions = parentFieldsPermissions\n        }\n      }\n\n      const tabVersion = {\n        name: 'name' in tab ? tab.name : null,\n        fields: buildVersionFields({\n          clientSchemaMap,\n          customDiffComponents,\n          entitySlug,\n          fields: tab.fields,\n          fieldsPermissions: tabFieldsPermissions,\n          i18n,\n          modifiedOnly,\n          nestingLevel: nestingLevel + 1,\n          parentIndexPath: isNamedTab ? '' : tabIndexPath,\n          parentIsLocalized: parentIsLocalized || tab.localized,\n          parentPath: isNamedTab ? tabPath : 'name' in field ? path : parentPath,\n          parentSchemaPath: tabSchemaPath,\n          req,\n          selectedLocales,\n          versionFromSiblingData: 'name' in tab ? valueFrom?.[tab.name] : valueFrom,\n          versionToSiblingData: 'name' in tab ? valueTo?.[tab.name] : valueTo,\n        }).versionFields,\n        label: typeof tab.label === 'function' ? tab.label({ i18n, t: i18n.t }) : tab.label,\n      }\n      if (tabVersion?.fields?.length) {\n        baseVersionField.tabs.push(tabVersion)\n      }\n    }\n\n    if (modifiedOnly && !baseVersionField.tabs.length) {\n      return null\n    }\n  } // At this point, we are dealing with a `row`, `collapsible`, array`, etc\n  else if ('fields' in field) {\n    let subFieldsPermissions: SanitizedFieldsPermissions = undefined\n\n    if ('name' in field && typeof fieldPermissions !== 'undefined') {\n      // Named fields like arrays\n      subFieldsPermissions =\n        typeof fieldPermissions === 'boolean' ? fieldPermissions : fieldPermissions.fields\n    } else {\n      // Unnamed fields like collapsible and row inherit directly from parent permissions\n      subFieldsPermissions = parentFieldsPermissions\n    }\n\n    if (field.type === 'array' && (valueTo || valueFrom)) {\n      const maxLength = Math.max(\n        Array.isArray(valueTo) ? valueTo.length : 0,\n        Array.isArray(valueFrom) ? valueFrom.length : 0,\n      )\n      baseVersionField.rows = []\n\n      for (let i = 0; i < maxLength; i++) {\n        const fromRow = (Array.isArray(valueFrom) && valueFrom?.[i]) || {}\n        const toRow = (Array.isArray(valueTo) && valueTo?.[i]) || {}\n\n        const versionFields = buildVersionFields({\n          clientSchemaMap,\n          customDiffComponents,\n          entitySlug,\n          fields: field.fields,\n          fieldsPermissions: subFieldsPermissions,\n          i18n,\n          modifiedOnly,\n          nestingLevel: nestingLevel + 1,\n          parentIndexPath: 'name' in field ? '' : indexPath,\n          parentIsLocalized: parentIsLocalized || field.localized,\n          parentPath: ('name' in field ? path : parentPath) + '.' + i,\n          parentSchemaPath: schemaPath,\n          req,\n          selectedLocales,\n          versionFromSiblingData: fromRow,\n          versionToSiblingData: toRow,\n        }).versionFields\n\n        if (versionFields?.length) {\n          baseVersionField.rows[i] = versionFields\n        }\n      }\n\n      if (!baseVersionField.rows?.length && modifiedOnly) {\n        return null\n      }\n    } else {\n      baseVersionField.fields = buildVersionFields({\n        clientSchemaMap,\n        customDiffComponents,\n        entitySlug,\n        fields: field.fields,\n        fieldsPermissions: subFieldsPermissions,\n        i18n,\n        modifiedOnly,\n        nestingLevel: field.type !== 'row' ? nestingLevel + 1 : nestingLevel,\n        parentIndexPath: 'name' in field ? '' : indexPath,\n        parentIsLocalized: parentIsLocalized || ('localized' in field && field.localized),\n        parentPath: 'name' in field ? path : parentPath,\n        parentSchemaPath: schemaPath,\n        req,\n        selectedLocales,\n        versionFromSiblingData: valueFrom as object,\n        versionToSiblingData: valueTo as object,\n      }).versionFields\n\n      if (modifiedOnly && !baseVersionField.fields?.length) {\n        return null\n      }\n    }\n  } else if (field.type === 'blocks') {\n    baseVersionField.rows = []\n\n    const maxLength = Math.max(\n      Array.isArray(valueTo) ? valueTo.length : 0,\n      Array.isArray(valueFrom) ? valueFrom.length : 0,\n    )\n\n    for (let i = 0; i < maxLength; i++) {\n      const fromRow = (Array.isArray(valueFrom) && valueFrom?.[i]) || {}\n      const toRow = (Array.isArray(valueTo) && valueTo?.[i]) || {}\n\n      const blockSlugToMatch: string = toRow?.blockType ?? fromRow?.blockType\n      const toBlock =\n        req.payload.blocks[blockSlugToMatch] ??\n        ((field.blockReferences ?? field.blocks).find(\n          (block) => typeof block !== 'string' && block.slug === blockSlugToMatch,\n        ) as FlattenedBlock | undefined)\n\n      let fields = []\n\n      if (toRow.blockType === fromRow.blockType) {\n        fields = toBlock.fields\n      } else {\n        const fromBlockSlugToMatch: string = toRow?.blockType ?? fromRow?.blockType\n\n        const fromBlock =\n          req.payload.blocks[fromBlockSlugToMatch] ??\n          ((field.blockReferences ?? field.blocks).find(\n            (block) => typeof block !== 'string' && block.slug === fromBlockSlugToMatch,\n          ) as FlattenedBlock | undefined)\n\n        if (fromBlock) {\n          fields = getUniqueListBy<Field>([...toBlock.fields, ...fromBlock.fields], 'name')\n        } else {\n          fields = toBlock.fields\n        }\n      }\n\n      let blockFieldsPermissions: SanitizedFieldsPermissions = undefined\n\n      // fieldPermissions will be set here, as the blocks field has a name\n      if (typeof fieldPermissions === 'boolean') {\n        blockFieldsPermissions = fieldPermissions\n      } else if (typeof fieldPermissions?.blocks === 'boolean') {\n        blockFieldsPermissions = fieldPermissions.blocks\n      } else {\n        const permissionsBlockSpecific = fieldPermissions?.blocks?.[blockSlugToMatch]\n        if (typeof permissionsBlockSpecific === 'boolean') {\n          blockFieldsPermissions = permissionsBlockSpecific\n        } else {\n          blockFieldsPermissions = permissionsBlockSpecific?.fields\n        }\n      }\n\n      const versionFields = buildVersionFields({\n        clientSchemaMap,\n        customDiffComponents,\n        entitySlug,\n        fields,\n        fieldsPermissions: blockFieldsPermissions,\n        i18n,\n        modifiedOnly,\n        nestingLevel: nestingLevel + 1,\n        parentIndexPath: 'name' in field ? '' : indexPath,\n        parentIsLocalized: parentIsLocalized || ('localized' in field && field.localized),\n        parentPath: ('name' in field ? path : parentPath) + '.' + i,\n        parentSchemaPath: schemaPath + '.' + toBlock.slug,\n        req,\n        selectedLocales,\n        versionFromSiblingData: fromRow,\n        versionToSiblingData: toRow,\n      }).versionFields\n\n      if (versionFields?.length) {\n        baseVersionField.rows[i] = versionFields\n      }\n    }\n\n    if (!baseVersionField.rows?.length && modifiedOnly) {\n      return null\n    }\n  }\n\n  const clientDiffProps: FieldDiffClientProps = {\n    baseVersionField: {\n      ...baseVersionField,\n      CustomComponent: undefined,\n    },\n    /**\n     * TODO: Change to valueFrom in 4.0\n     */\n    comparisonValue: valueFrom,\n    /**\n     * @deprecated remove in 4.0. Each field should handle its own diffing logic\n     */\n    diffMethod: 'diffWordsWithSpace',\n    field: clientField,\n    fieldPermissions:\n      typeof fieldPermissions === 'undefined' ? parentFieldsPermissions : fieldPermissions,\n    parentIsLocalized,\n\n    nestingLevel: nestingLevel ? nestingLevel : undefined,\n    /**\n     * TODO: Change to valueTo in 4.0\n     */\n    versionValue: valueTo,\n  }\n  if (locale) {\n    clientDiffProps.locale = locale\n  }\n\n  const serverDiffProps: FieldDiffServerProps = {\n    ...clientDiffProps,\n    clientField,\n    field,\n    i18n,\n    req,\n    selectedLocales,\n  }\n\n  baseVersionField.CustomComponent = RenderServerComponent({\n    clientProps: clientDiffProps,\n    Component: CustomComponent,\n    Fallback: DefaultComponent,\n    importMap: req.payload.importMap,\n    key: 'diff component',\n    serverProps: serverDiffProps,\n  })\n\n  return baseVersionField\n}\n"],"names":["RenderServerComponent","dequal","MissingEditorProp","fieldIsID","fieldShouldBeLocalized","getFieldPaths","getUniqueListBy","tabHasName","diffComponents","buildVersionFields","clientSchemaMap","customDiffComponents","entitySlug","fields","fieldsPermissions","i18n","modifiedOnly","nestingLevel","parentIndexPath","parentIsLocalized","parentPath","parentSchemaPath","req","selectedLocales","versionFromSiblingData","versionToSiblingData","versionFields","fieldIndex","field","indexPath","path","schemaPath","index","clientField","get","payload","logger","error","clientFieldKey","clientSchemaMapKeys","Array","from","keys","msg","Error","versionField","isLocalized","fieldName","name","valueFrom","valueTo","fieldByLocale","locale","localizedVersionField","buildVersionField","parentFieldsPermissions","baseVersionField","localized","Object","length","push","hasReadPermission","fieldPermissions","undefined","read","CustomComponent","type","editor","CellComponent","DiffComponent","admin","components","Diff","DefaultComponent","tabs","tabIndex","tab","isNamedTab","tabAsField","tabIndexPath","tabPath","tabSchemaPath","tabFieldsPermissions","tabPermissions","tabVersion","label","t","subFieldsPermissions","maxLength","Math","max","isArray","rows","i","fromRow","toRow","blockSlugToMatch","blockType","toBlock","blocks","blockReferences","find","block","slug","fromBlockSlugToMatch","fromBlock","blockFieldsPermissions","permissionsBlockSpecific","clientDiffProps","comparisonValue","diffMethod","versionValue","serverDiffProps","clientProps","Component","Fallback","importMap","key","serverProps"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 3303, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/RenderVersionFieldsToDiff.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const RenderVersionFieldsToDiff = registerClientReference(\n    function() { throw new Error(\"Attempted to call RenderVersionFieldsToDiff() from the server but RenderVersionFieldsToDiff is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/RenderVersionFieldsToDiff.js <module evaluation>\",\n    \"RenderVersionFieldsToDiff\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,4BAA4B,IAAA,wQAAuB,EAC5D;IAAa,MAAM,IAAI,MAAM;AAAkQ,GAC/R,kIACA","ignoreList":[0]}},
    {"offset": {"line": 3317, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/RenderVersionFieldsToDiff.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const RenderVersionFieldsToDiff = registerClientReference(\n    function() { throw new Error(\"Attempted to call RenderVersionFieldsToDiff() from the server but RenderVersionFieldsToDiff is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/RenderVersionFieldsToDiff.js\",\n    \"RenderVersionFieldsToDiff\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,4BAA4B,IAAA,wQAAuB,EAC5D;IAAa,MAAM,IAAI,MAAM;AAAkQ,GAC/R,8GACA","ignoreList":[0]}},
    {"offset": {"line": 3331, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/RenderVersionFieldsToDiff.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/RenderVersionFieldsToDiff.tsx"],"sourcesContent":["'use client'\nconst baseClass = 'render-field-diffs'\nimport type { VersionField } from 'payload'\n\nimport './index.scss'\n\nimport { ShimmerEffect } from '@payloadcms/ui'\nimport React, { Fragment, useEffect } from 'react'\n\nexport const RenderVersionFieldsToDiff = ({\n  parent = false,\n  versionFields,\n}: {\n  /**\n   * If true, this is the parent render version fields component, not one nested in\n   * a field with children (e.g. group)\n   */\n  parent?: boolean\n  versionFields: VersionField[]\n}): React.ReactNode => {\n  const [hasMounted, setHasMounted] = React.useState(false)\n\n  // defer rendering until after the first mount as the CSS is loaded with Emotion\n  // this will ensure that the CSS is loaded before rendering the diffs and prevent CLS\n  useEffect(() => {\n    setHasMounted(true)\n  }, [])\n\n  return (\n    <div className={`${baseClass}${parent ? ` ${baseClass}--parent` : ''}`}>\n      {!hasMounted ? (\n        <Fragment>\n          <ShimmerEffect height=\"8rem\" width=\"100%\" />\n        </Fragment>\n      ) : (\n        versionFields?.map((field, fieldIndex) => {\n          if (field.fieldByLocale) {\n            const LocaleComponents: React.ReactNode[] = []\n            for (const [locale, baseField] of Object.entries(field.fieldByLocale)) {\n              LocaleComponents.push(\n                <div\n                  className={`${baseClass}__locale`}\n                  data-field-path={baseField.path}\n                  data-locale={locale}\n                  key={[locale, fieldIndex].join('-')}\n                >\n                  <div className={`${baseClass}__locale-value`}>{baseField.CustomComponent}</div>\n                </div>,\n              )\n            }\n            return (\n              <div className={`${baseClass}__field`} key={fieldIndex}>\n                {LocaleComponents}\n              </div>\n            )\n          } else if (field.field) {\n            return (\n              <div\n                className={`${baseClass}__field field__${field.field.type}`}\n                data-field-path={field.field.path}\n                key={fieldIndex}\n              >\n                {field.field.CustomComponent}\n              </div>\n            )\n          }\n\n          return null\n        })\n      )}\n    </div>\n  )\n}\n"],"names":["c","_c","baseClass","ShimmerEffect","React","Fragment","useEffect","RenderVersionFieldsToDiff","t0","$","parent","t1","versionFields","undefined","hasMounted","setHasMounted","useState","t2","t3","Symbol","for","t4","t5","_jsx","className","children","height","width","map","_temp","field","fieldIndex","fieldByLocale","LocaleComponents","locale","baseField","Object","entries","push","path","CustomComponent","join","type"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 3341, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/index.tsx"],"sourcesContent":["import { buildVersionFields, type BuildVersionFieldsArgs } from './buildVersionFields.js'\nimport { RenderVersionFieldsToDiff } from './RenderVersionFieldsToDiff.js'\n\nexport const RenderDiff = (args: BuildVersionFieldsArgs): React.ReactNode => {\n  const { versionFields } = buildVersionFields(args)\n\n  return <RenderVersionFieldsToDiff parent={true} versionFields={versionFields} />\n}\n"],"names":["buildVersionFields","RenderVersionFieldsToDiff","RenderDiff","args","versionFields","_jsx","parent"],"mappings":";;;;;AAAA,SAASA,kBAAkB,QAAqC;AAChE,SAASC,yBAAyB,QAAQ;;;;;;;;AAEnC,MAAMC,UAAA,IAAcC,IAAA;IACzB,MAAM,EAAEC,aAAAA,EAAe,OAAGJ,kOAAA,EAAmBG,IAAA;IAE7C,OAAA,WAAA,OAAOE,8NAAA,EAACJ,gPAAA,EAAA;QAA0BK,MAAA,EAAQ;QAAMF,aAAA,EAAeA;;AACjE","ignoreList":[]}},
    {"offset": {"line": 3367, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/VersionPillLabel/getVersionLabel.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/VersionPillLabel/getVersionLabel.ts"],"sourcesContent":["import type { TFunction } from '@payloadcms/translations'\nimport type { Pill } from '@payloadcms/ui'\n\ntype Args = {\n  currentLocale?: string\n  currentlyPublishedVersion?: {\n    id: number | string\n    publishedLocale?: string\n    updatedAt: string\n    version: {\n      updatedAt: string\n    }\n  }\n  latestDraftVersion?: {\n    id: number | string\n    updatedAt: string\n  }\n  t: TFunction\n  version: {\n    id: number | string\n    publishedLocale?: string\n    version: { _status?: 'draft' | 'published'; updatedAt: string }\n  }\n}\n\n/**\n * Gets the appropriate version label and version pill styling\n * given existing versions and the current version status.\n */\nexport function getVersionLabel({\n  currentLocale,\n  currentlyPublishedVersion,\n  latestDraftVersion,\n  t,\n  version,\n}: Args): {\n  label: string\n  name: 'currentDraft' | 'currentlyPublished' | 'draft' | 'previouslyPublished' | 'published'\n  pillStyle: Parameters<typeof Pill>[0]['pillStyle']\n} {\n  const status = version.version._status\n\n  if (status === 'draft') {\n    const publishedNewerThanDraft =\n      currentlyPublishedVersion?.updatedAt > latestDraftVersion?.updatedAt\n\n    if (publishedNewerThanDraft) {\n      return {\n        name: 'draft',\n        label: t('version:draft'),\n        pillStyle: 'light',\n      }\n    }\n\n    const isCurrentDraft = version.id === latestDraftVersion?.id\n\n    return {\n      name: isCurrentDraft ? 'currentDraft' : 'draft',\n      label: isCurrentDraft ? t('version:currentDraft') : t('version:draft'),\n      pillStyle: 'light',\n    }\n  }\n\n  const publishedInAnotherLocale =\n    status === 'published' && version.publishedLocale && currentLocale !== version.publishedLocale\n\n  if (publishedInAnotherLocale) {\n    return {\n      name: 'currentDraft',\n      label: t('version:currentDraft'),\n      pillStyle: 'light',\n    }\n  }\n\n  const isCurrentlyPublished =\n    currentlyPublishedVersion && version.id === currentlyPublishedVersion.id\n\n  return {\n    name: isCurrentlyPublished ? 'currentlyPublished' : 'previouslyPublished',\n    label: isCurrentlyPublished\n      ? t('version:currentlyPublished')\n      : t('version:previouslyPublished'),\n    pillStyle: isCurrentlyPublished ? 'success' : 'light',\n  }\n}\n"],"names":["getVersionLabel","currentLocale","currentlyPublishedVersion","latestDraftVersion","t","version","status","_status","publishedNewerThanDraft","updatedAt","name","label","pillStyle","isCurrentDraft","id","publishedInAnotherLocale","publishedLocale","isCurrentlyPublished"],"mappings":"AAyBA;;;GAIA;;;;AAAO,SAASA,gBAAgB,EAC9BC,aAAa,EACbC,yBAAyB,EACzBC,kBAAkB,EAClBC,CAAC,EACDC,OAAAA,EACK;IAKL,MAAMC,MAAA,GAASD,OAAA,CAAQA,OAAO,CAACE,OAAO;IAEtC,IAAID,MAAA,KAAW,SAAS;QACtB,MAAME,uBAAA,GACJN,yBAAA,EAA2BO,SAAA,GAAYN,kBAAA,EAAoBM,SAAA;QAE7D,IAAID,uBAAA,EAAyB;YAC3B,OAAO;gBACLE,IAAA,EAAM;gBACNC,KAAA,EAAOP,CAAA,CAAE;gBACTQ,SAAA,EAAW;YACb;QACF;QAEA,MAAMC,cAAA,GAAiBR,OAAA,CAAQS,EAAE,KAAKX,kBAAA,EAAoBW,EAAA;QAE1D,OAAO;YACLJ,IAAA,EAAMG,cAAA,GAAiB,iBAAiB;YACxCF,KAAA,EAAOE,cAAA,GAAiBT,CAAA,CAAE,0BAA0BA,CAAA,CAAE;YACtDQ,SAAA,EAAW;QACb;IACF;IAEA,MAAMG,wBAAA,GACJT,MAAA,KAAW,eAAeD,OAAA,CAAQW,eAAe,IAAIf,aAAA,KAAkBI,OAAA,CAAQW,eAAe;IAEhG,IAAID,wBAAA,EAA0B;QAC5B,OAAO;YACLL,IAAA,EAAM;YACNC,KAAA,EAAOP,CAAA,CAAE;YACTQ,SAAA,EAAW;QACb;IACF;IAEA,MAAMK,oBAAA,GACJf,yBAAA,IAA6BG,OAAA,CAAQS,EAAE,KAAKZ,yBAAA,CAA0BY,EAAE;IAE1E,OAAO;QACLJ,IAAA,EAAMO,oBAAA,GAAuB,uBAAuB;QACpDN,KAAA,EAAOM,oBAAA,GACHb,CAAA,CAAE,gCACFA,CAAA,CAAE;QACNQ,SAAA,EAAWK,oBAAA,GAAuB,YAAY;IAChD;AACF","ignoreList":[]}},
    {"offset": {"line": 3411, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/VersionPillLabel/VersionPillLabel.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const VersionPillLabel = registerClientReference(\n    function() { throw new Error(\"Attempted to call VersionPillLabel() from the server but VersionPillLabel is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/VersionPillLabel/VersionPillLabel.js <module evaluation>\",\n    \"VersionPillLabel\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,uHACA","ignoreList":[0]}},
    {"offset": {"line": 3425, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/VersionPillLabel/VersionPillLabel.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const VersionPillLabel = registerClientReference(\n    function() { throw new Error(\"Attempted to call VersionPillLabel() from the server but VersionPillLabel is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/VersionPillLabel/VersionPillLabel.js\",\n    \"VersionPillLabel\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,mGACA","ignoreList":[0]}},
    {"offset": {"line": 3439, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/VersionPillLabel/VersionPillLabel.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/VersionPillLabel/VersionPillLabel.tsx"],"sourcesContent":["'use client'\n\nimport type { TypeWithVersion } from 'payload'\n\nimport { Pill, useConfig, useLocale, useTranslation } from '@payloadcms/ui'\nimport { formatDate } from '@payloadcms/ui/shared'\nimport React from 'react'\n\nimport './index.scss'\nimport { getVersionLabel } from './getVersionLabel.js'\n\nconst baseClass = 'version-pill-label'\n\nconst renderPill = (label: React.ReactNode, pillStyle: Parameters<typeof Pill>[0]['pillStyle']) => {\n  return (\n    <Pill pillStyle={pillStyle} size=\"small\">\n      {label}\n    </Pill>\n  )\n}\n\nexport const VersionPillLabel: React.FC<{\n  currentlyPublishedVersion?: TypeWithVersion<any>\n  disableDate?: boolean\n\n  doc: {\n    [key: string]: unknown\n    id: number | string\n    publishedLocale?: string\n    updatedAt?: string\n    version: {\n      [key: string]: unknown\n      _status: 'draft' | 'published'\n      updatedAt: string\n    }\n  }\n  /**\n   * By default, the date is displayed first, followed by the version label.\n   * @default false\n   */\n  labelFirst?: boolean\n  labelOverride?: React.ReactNode\n  /**\n   * @default 'pill'\n   */\n  labelStyle?: 'pill' | 'text'\n  labelSuffix?: React.ReactNode\n  latestDraftVersion?: TypeWithVersion<any>\n}> = ({\n  currentlyPublishedVersion,\n  disableDate = false,\n  doc,\n  labelFirst = false,\n  labelOverride,\n  labelStyle = 'pill',\n  labelSuffix,\n  latestDraftVersion,\n}) => {\n  const {\n    config: {\n      admin: { dateFormat },\n      localization,\n    },\n  } = useConfig()\n  const { i18n, t } = useTranslation()\n  const { code: currentLocale } = useLocale()\n\n  const { label, pillStyle } = getVersionLabel({\n    currentLocale,\n    currentlyPublishedVersion,\n    latestDraftVersion,\n    t,\n    version: doc,\n  })\n  const labelText: React.ReactNode = (\n    <span>\n      {labelOverride || label}\n      {labelSuffix}\n    </span>\n  )\n\n  const showDate = !disableDate && doc.updatedAt\n  const formattedDate = showDate\n    ? formatDate({ date: doc.updatedAt, i18n, pattern: dateFormat })\n    : null\n\n  const localeCode = Array.isArray(doc.publishedLocale)\n    ? doc.publishedLocale[0]\n    : doc.publishedLocale\n\n  const locale =\n    localization && localization?.locales\n      ? localization.locales.find((loc) => loc.code === localeCode)\n      : null\n  const localeLabel = locale ? locale?.label?.[i18n?.language] || locale?.label : null\n\n  return (\n    <div className={baseClass}>\n      {labelFirst ? (\n        <React.Fragment>\n          {labelStyle === 'pill' ? (\n            renderPill(labelText, pillStyle)\n          ) : (\n            <span className={`${baseClass}-text`}>{labelText}</span>\n          )}\n          {showDate && <span className={`${baseClass}-date`}>{formattedDate}</span>}\n        </React.Fragment>\n      ) : (\n        <React.Fragment>\n          {showDate && <span className={`${baseClass}-date`}>{formattedDate}</span>}\n          {labelStyle === 'pill' ? (\n            renderPill(labelText, pillStyle)\n          ) : (\n            <span className={`${baseClass}-text`}>{labelText}</span>\n          )}\n        </React.Fragment>\n      )}\n      {localeLabel && <Pill size=\"small\">{localeLabel}</Pill>}\n    </div>\n  )\n}\n"],"names":["c","_c","Pill","useConfig","useLocale","useTranslation","formatDate","React","getVersionLabel","baseClass","renderPill","label","pillStyle","_jsx","size","VersionPillLabel","t0","$","currentlyPublishedVersion","disableDate","t1","doc","labelFirst","t2","labelOverride","labelStyle","t3","labelSuffix","latestDraftVersion","undefined","config","t4","admin","t5","localization","dateFormat","i18n","t","code","currentLocale","t6","version","labelText","_jsxs","children","showDate","updatedAt","formattedDate","date","pattern","localeCode","Array","isArray","publishedLocale","locale","locales","find","loc","localeLabel","language","className","Fragment"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 3449, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/index.tsx"],"sourcesContent":["import type {\n  DocumentViewServerProps,\n  Locale,\n  SanitizedCollectionPermission,\n  SanitizedGlobalPermission,\n  TypeWithVersion,\n} from 'payload'\n\nimport { formatDate } from '@payloadcms/ui/shared'\nimport { getClientConfig } from '@payloadcms/ui/utilities/getClientConfig'\nimport { getClientSchemaMap } from '@payloadcms/ui/utilities/getClientSchemaMap'\nimport { getSchemaMap } from '@payloadcms/ui/utilities/getSchemaMap'\nimport { notFound } from 'next/navigation.js'\nimport { hasDraftsEnabled } from 'payload/shared'\nimport React from 'react'\n\nimport type { CompareOption } from './Default/types.js'\n\nimport { DefaultVersionView } from './Default/index.js'\nimport { fetchLatestVersion, fetchVersion, fetchVersions } from './fetchVersions.js'\nimport { RenderDiff } from './RenderFieldsToDiff/index.js'\nimport { getVersionLabel } from './VersionPillLabel/getVersionLabel.js'\nimport { VersionPillLabel } from './VersionPillLabel/VersionPillLabel.js'\n\nexport async function VersionView(props: DocumentViewServerProps) {\n  const { hasPublishedDoc, i18n, initPageResult, routeSegments, searchParams } = props\n\n  const {\n    collectionConfig,\n    docID: id,\n    globalConfig,\n    permissions,\n    req,\n    req: { payload, payload: { config, config: { localization } } = {}, user } = {},\n  } = initPageResult\n\n  const versionToID = routeSegments[routeSegments.length - 1]\n\n  const collectionSlug = collectionConfig?.slug\n  const globalSlug = globalConfig?.slug\n\n  const draftsEnabled = hasDraftsEnabled(collectionConfig || globalConfig)\n\n  // Resolve user's current locale for version label comparison (not 'all')\n  const userLocale =\n    (searchParams.locale as string) ||\n    (req.locale !== 'all' ? req.locale : localization && localization.defaultLocale)\n\n  const localeCodesFromParams = searchParams.localeCodes\n    ? JSON.parse(searchParams.localeCodes as string)\n    : null\n\n  const versionFromIDFromParams = searchParams.versionFrom as string\n\n  const modifiedOnly: boolean = searchParams.modifiedOnly === 'false' ? false : true\n\n  const docPermissions: SanitizedCollectionPermission | SanitizedGlobalPermission = collectionSlug\n    ? permissions.collections[collectionSlug]\n    : permissions.globals[globalSlug]\n\n  const versionTo = await fetchVersion<{\n    _status?: string\n  }>({\n    id: versionToID,\n    collectionSlug,\n    depth: 1,\n    globalSlug,\n    locale: 'all',\n    overrideAccess: false,\n    req,\n    user,\n  })\n\n  if (!versionTo) {\n    return notFound()\n  }\n\n  const [\n    previousVersionResult,\n    versionFromResult,\n    currentlyPublishedVersion,\n    latestDraftVersion,\n    previousPublishedVersionResult,\n  ] = await Promise.all([\n    // Previous version (the one before the versionTo)\n    fetchVersions({\n      collectionSlug,\n      // If versionFromIDFromParams is provided, the previous version is only used in the version comparison dropdown => depth 0 is enough.\n      // If it's not provided, this is used as `versionFrom` in the comparison, which expects populated data => depth 1 is needed.\n      depth: versionFromIDFromParams ? 0 : 1,\n      draft: true,\n      globalSlug,\n      limit: 1,\n      locale: 'all',\n      overrideAccess: false,\n      parentID: id,\n      req,\n      sort: '-updatedAt',\n      user,\n      where: {\n        and: [\n          {\n            updatedAt: {\n              less_than: versionTo.updatedAt,\n            },\n          },\n        ],\n      },\n    }),\n    // Version from ID from params\n    (versionFromIDFromParams\n      ? fetchVersion({\n          id: versionFromIDFromParams,\n          collectionSlug,\n          depth: 1,\n          globalSlug,\n          locale: 'all',\n          overrideAccess: false,\n          req,\n          user,\n        })\n      : Promise.resolve(null)) as Promise<null | TypeWithVersion<object>>,\n    // Currently published version - do note: currently published != latest published, as an unpublished version can be the latest published\n    hasPublishedDoc\n      ? fetchLatestVersion({\n          collectionSlug,\n          depth: 0,\n          globalSlug,\n          locale: req.locale,\n          overrideAccess: false,\n          parentID: id,\n          req,\n          status: 'published',\n          user,\n        })\n      : Promise.resolve(null),\n    // Latest draft version\n    draftsEnabled\n      ? fetchLatestVersion({\n          collectionSlug,\n          depth: 0,\n          globalSlug,\n          locale: 'all',\n          overrideAccess: false,\n          parentID: id,\n          req,\n          status: 'draft',\n          user,\n        })\n      : Promise.resolve(null),\n    // Previous published version\n    // Only query for published versions if drafts are enabled (since _status field only exists with drafts)\n    draftsEnabled\n      ? fetchVersions({\n          collectionSlug,\n          depth: 0,\n          draft: true,\n          globalSlug,\n          limit: 1,\n          locale: 'all',\n          overrideAccess: false,\n          parentID: id,\n          req,\n          sort: '-updatedAt',\n          user,\n          where: {\n            and: [\n              {\n                updatedAt: {\n                  less_than: versionTo.updatedAt,\n                },\n              },\n              {\n                'version._status': {\n                  equals: 'published',\n                },\n              },\n            ],\n          },\n        })\n      : Promise.resolve(null),\n  ])\n\n  const previousVersion: null | TypeWithVersion<object> = previousVersionResult?.docs?.[0] ?? null\n\n  const versionFrom =\n    versionFromResult ||\n    // By default, we'll compare the previous version. => versionFrom = version previous to versionTo\n    previousVersion\n\n  // Previous published version before the versionTo\n  const previousPublishedVersion = previousPublishedVersionResult?.docs?.[0] ?? null\n\n  let selectedLocales: string[] = []\n  if (localization) {\n    let locales: Locale[] = []\n    if (localeCodesFromParams) {\n      for (const code of localeCodesFromParams) {\n        const locale = localization.locales.find((locale) => locale.code === code)\n        if (!locale) {\n          continue\n        }\n        locales.push(locale)\n      }\n    } else {\n      locales = localization.locales\n    }\n\n    if (localization.filterAvailableLocales) {\n      locales = (await localization.filterAvailableLocales({ locales, req })) || []\n    }\n\n    selectedLocales = locales.map((locale) => locale.code)\n  }\n\n  const schemaMap = getSchemaMap({\n    collectionSlug,\n    config,\n    globalSlug,\n    i18n,\n  })\n\n  const clientSchemaMap = getClientSchemaMap({\n    collectionSlug,\n    config: getClientConfig({\n      config: payload.config,\n      i18n,\n      importMap: payload.importMap,\n      user,\n    }),\n    globalSlug,\n    i18n,\n    payload,\n    schemaMap,\n  })\n  const RenderedDiff = RenderDiff({\n    clientSchemaMap,\n    customDiffComponents: {},\n    entitySlug: collectionSlug || globalSlug,\n    fields: (collectionConfig || globalConfig)?.fields,\n    fieldsPermissions: docPermissions?.fields,\n    i18n,\n    modifiedOnly,\n    parentIndexPath: '',\n    parentIsLocalized: false,\n    parentPath: '',\n    parentSchemaPath: '',\n    req,\n    selectedLocales,\n    versionFromSiblingData: {\n      ...versionFrom?.version,\n      updatedAt: versionFrom?.updatedAt,\n    },\n    versionToSiblingData: {\n      ...versionTo.version,\n      updatedAt: versionTo.updatedAt,\n    },\n  })\n\n  const versionToCreatedAtFormatted = versionTo.updatedAt\n    ? formatDate({\n        date:\n          typeof versionTo.updatedAt === 'string'\n            ? new Date(versionTo.updatedAt)\n            : (versionTo.updatedAt as Date),\n        i18n,\n        pattern: config.admin.dateFormat,\n      })\n    : ''\n\n  const formatPill = ({\n    doc,\n    labelOverride,\n    labelStyle,\n    labelSuffix,\n  }: {\n    doc: TypeWithVersion<any>\n    labelOverride?: string\n    labelStyle?: 'pill' | 'text'\n    labelSuffix?: React.ReactNode\n  }): React.ReactNode => {\n    return (\n      <VersionPillLabel\n        currentlyPublishedVersion={currentlyPublishedVersion}\n        doc={doc}\n        key={doc.id}\n        labelFirst={true}\n        labelOverride={labelOverride}\n        labelStyle={labelStyle ?? 'text'}\n        labelSuffix={labelSuffix}\n        latestDraftVersion={latestDraftVersion}\n      />\n    )\n  }\n\n  // SelectComparison Options:\n  //\n  // Previous version: always, unless doesn't exist. Can be the same as previously published\n  // Latest draft: only if no newer published exists (latestDraftVersion)\n  // Currently published: always, if exists\n  // Previously published: if there is a prior published version older than versionTo\n  // Specific Version: only if not already present under other label (= versionFrom)\n\n  let versionFromOptions: {\n    doc: TypeWithVersion<any>\n    labelOverride?: string\n    updatedAt: Date\n    value: string\n  }[] = []\n\n  // Previous version\n  if (previousVersion?.id) {\n    versionFromOptions.push({\n      doc: previousVersion,\n      labelOverride: i18n.t('version:previousVersion'),\n      updatedAt: new Date(previousVersion.updatedAt),\n      value: previousVersion.id,\n    })\n  }\n\n  // Latest Draft\n  const publishedNewerThanDraft =\n    currentlyPublishedVersion?.updatedAt > latestDraftVersion?.updatedAt\n  if (latestDraftVersion && !publishedNewerThanDraft) {\n    versionFromOptions.push({\n      doc: latestDraftVersion,\n      updatedAt: new Date(latestDraftVersion.updatedAt),\n      value: latestDraftVersion.id,\n    })\n  }\n\n  // Currently Published\n  if (currentlyPublishedVersion) {\n    versionFromOptions.push({\n      doc: currentlyPublishedVersion,\n      updatedAt: new Date(currentlyPublishedVersion.updatedAt),\n      value: currentlyPublishedVersion.id,\n    })\n  }\n\n  // Previous Published\n  if (previousPublishedVersion && currentlyPublishedVersion?.id !== previousPublishedVersion.id) {\n    versionFromOptions.push({\n      doc: previousPublishedVersion,\n      labelOverride: i18n.t('version:previouslyPublished'),\n      updatedAt: new Date(previousPublishedVersion.updatedAt),\n      value: previousPublishedVersion.id,\n    })\n  }\n\n  // Specific Version\n  if (versionFrom?.id && !versionFromOptions.some((option) => option.value === versionFrom.id)) {\n    // Only add \"specific version\" if it is not already in the options\n    versionFromOptions.push({\n      doc: versionFrom,\n      labelOverride: i18n.t('version:specificVersion'),\n      updatedAt: new Date(versionFrom.updatedAt),\n      value: versionFrom.id,\n    })\n  }\n\n  versionFromOptions = versionFromOptions.sort((a, b) => {\n    // Sort by updatedAt, newest first\n    if (a && b) {\n      return b.updatedAt.getTime() - a.updatedAt.getTime()\n    }\n    return 0\n  })\n\n  const versionToIsVersionFrom = versionFrom?.id === versionTo.id\n\n  const versionFromComparisonOptions: CompareOption[] = []\n\n  for (const option of versionFromOptions) {\n    const isVersionTo = option.value === versionTo.id\n\n    if (isVersionTo && !versionToIsVersionFrom) {\n      // Don't offer selecting a versionFrom that is the same as versionTo, unless it's already selected\n      continue\n    }\n\n    const alreadyAdded = versionFromComparisonOptions.some(\n      (existingOption) => existingOption.value === option.value,\n    )\n    if (alreadyAdded) {\n      continue\n    }\n\n    const otherOptionsWithSameID = versionFromOptions.filter(\n      (existingOption) => existingOption.value === option.value && existingOption !== option,\n    )\n\n    // Merge options with same ID to the same option\n    const labelSuffix = otherOptionsWithSameID?.length ? (\n      <span key={`${option.value}-suffix`}>\n        {' ('}\n        {otherOptionsWithSameID.map((optionWithSameID, index) => {\n          const label =\n            optionWithSameID.labelOverride ||\n            getVersionLabel({\n              currentLocale: userLocale,\n              currentlyPublishedVersion,\n              latestDraftVersion,\n              t: i18n.t,\n              version: optionWithSameID.doc,\n            }).label\n\n          return (\n            <React.Fragment key={`${optionWithSameID.value}-${index}`}>\n              {index > 0 ? ', ' : ''}\n              {label}\n            </React.Fragment>\n          )\n        })}\n        {')'}\n      </span>\n    ) : undefined\n\n    versionFromComparisonOptions.push({\n      label: formatPill({\n        doc: option.doc,\n        labelOverride: option.labelOverride,\n        labelSuffix,\n      }),\n      value: option.value,\n    })\n  }\n\n  return (\n    <DefaultVersionView\n      canUpdate={docPermissions?.update}\n      modifiedOnly={modifiedOnly}\n      RenderedDiff={RenderedDiff}\n      selectedLocales={selectedLocales}\n      versionFromCreatedAt={versionFrom?.createdAt}\n      versionFromID={versionFrom?.id}\n      versionFromOptions={versionFromComparisonOptions}\n      versionToCreatedAt={versionTo.createdAt}\n      versionToCreatedAtFormatted={versionToCreatedAtFormatted}\n      VersionToCreatedAtLabel={formatPill({ doc: versionTo, labelStyle: 'pill' })}\n      versionToID={versionTo.id}\n      versionToStatus={versionTo.version?._status}\n    />\n  )\n}\n"],"names":["formatDate","getClientConfig","getClientSchemaMap","getSchemaMap","notFound","hasDraftsEnabled","React","DefaultVersionView","fetchLatestVersion","fetchVersion","fetchVersions","RenderDiff","getVersionLabel","VersionPillLabel","VersionView","props","hasPublishedDoc","i18n","initPageResult","routeSegments","searchParams","collectionConfig","docID","id","globalConfig","permissions","req","payload","config","localization","user","versionToID","length","collectionSlug","slug","globalSlug","draftsEnabled","userLocale","locale","defaultLocale","localeCodesFromParams","localeCodes","JSON","parse","versionFromIDFromParams","versionFrom","modifiedOnly","docPermissions","collections","globals","versionTo","depth","overrideAccess","previousVersionResult","versionFromResult","currentlyPublishedVersion","latestDraftVersion","previousPublishedVersionResult","Promise","all","draft","limit","parentID","sort","where","and","updatedAt","less_than","resolve","status","equals","previousVersion","docs","previousPublishedVersion","selectedLocales","locales","code","find","push","filterAvailableLocales","map","schemaMap","clientSchemaMap","importMap","RenderedDiff","customDiffComponents","entitySlug","fields","fieldsPermissions","parentIndexPath","parentIsLocalized","parentPath","parentSchemaPath","versionFromSiblingData","version","versionToSiblingData","versionToCreatedAtFormatted","date","Date","pattern","admin","dateFormat","formatPill","doc","labelOverride","labelStyle","labelSuffix","_jsx","labelFirst","versionFromOptions","t","value","publishedNewerThanDraft","some","option","a","b","getTime","versionToIsVersionFrom","versionFromComparisonOptions","isVersionTo","alreadyAdded","existingOption","otherOptionsWithSameID","filter","_jsxs","optionWithSameID","index","label","currentLocale","Fragment","undefined","canUpdate","update","versionFromCreatedAt","createdAt","versionFromID","versionToCreatedAt","VersionToCreatedAtLabel","versionToStatus","_status"],"mappings":";;;;;AAQA,SAASA,UAAU,QAAQ;AAC3B,SAASC,eAAe,QAAQ;AAChC,SAASC,kBAAkB,QAAQ;AACnC,SAASC,YAAY,QAAQ;AAC7B,SAASC,QAAQ,QAAQ;AACzB,SAASC,gBAAgB,QAAQ;AACjC,OAAOC,KAAA,MAAW;AAIlB,SAASC,kBAAkB,QAAQ;AACnC,SAASC,kBAAkB,EAAEC,YAAY,EAAEC,aAAa,QAAQ;AAChE,SAASC,UAAU,QAAQ;AAC3B,SAASC,eAAe,QAAQ;AAChC,SAASC,gBAAgB,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;AAE1B,eAAeC,YAAYC,KAA8B;IAC9D,MAAM,EAAEC,eAAe,EAAEC,IAAI,EAAEC,cAAc,EAAEC,aAAa,EAAEC,YAAAA,EAAc,GAAGL,KAAA;IAE/E,MAAM,EACJM,gBAAgB,EAChBC,KAAA,EAAOC,EAAE,EACTC,YAAY,EACZC,WAAW,EACXC,GAAG,EACHA,GAAA,EAAK,EAAEC,OAAO,EAAEA,OAAA,EAAS,EAAEC,MAAM,EAAEA,MAAA,EAAQ,EAAEC,YAAAA,EAAY,EAAI,GAAG,CAAC,CAAC,EAAEC,IAAAA,EAAM,GAAG,CAAC,CAAA,EAC/E,GAAGZ,cAAA;IAEJ,MAAMa,WAAA,GAAcZ,aAAa,CAACA,aAAA,CAAca,MAAM,GAAG,EAAE;IAE3D,MAAMC,cAAA,GAAiBZ,gBAAA,EAAkBa,IAAA;IACzC,MAAMC,UAAA,GAAaX,YAAA,EAAcU,IAAA;IAEjC,MAAME,aAAA,OAAgB/B,oMAAA,EAAiBgB,gBAAA,IAAoBG,YAAA;IAE3D,yEAAA;IACA,MAAMa,UAAA,GACJjB,YAAC,CAAakB,MAAM,IAAA,CACnBZ,GAAA,CAAIY,MAAM,KAAK,QAAQZ,GAAA,CAAIY,MAAM,GAAGT,YAAA,IAAgBA,YAAA,CAAaU,aAAa,CAAD;IAEhF,MAAMC,qBAAA,GAAwBpB,YAAA,CAAaqB,WAAW,GAClDC,IAAA,CAAKC,KAAK,CAACvB,YAAA,CAAaqB,WAAW,IACnC;IAEJ,MAAMG,uBAAA,GAA0BxB,YAAA,CAAayB,WAAW;IAExD,MAAMC,YAAA,GAAwB1B,YAAA,CAAa0B,YAAY,KAAK,UAAU,QAAQ;IAE9E,MAAMC,cAAA,GAA4Ed,cAAA,GAC9ER,WAAA,CAAYuB,WAAW,CAACf,cAAA,CAAe,GACvCR,WAAA,CAAYwB,OAAO,CAACd,UAAA,CAAW;IAEnC,MAAMe,SAAA,GAAY,UAAMzC,iMAAA,EAErB;QACDc,EAAA,EAAIQ,WAAA;QACJE,cAAA;QACAkB,KAAA,EAAO;QACPhB,UAAA;QACAG,MAAA,EAAQ;QACRc,cAAA,EAAgB;QAChB1B,GAAA;QACAI;IACF;IAEA,IAAI,CAACoB,SAAA,EAAW;QACd,WAAO9C,8IAAA;IACT;IAEA,MAAM,CACJiD,qBAAA,EACAC,iBAAA,EACAC,yBAAA,EACAC,kBAAA,EACAC,8BAAA,CACD,GAAG,MAAMC,OAAA,CAAQC,GAAG,CAAC;QACpB,kDAAA;YACAjD,kMAAA,EAAc;YACZuB,cAAA;YACA,qIAAA;YACA,4HAAA;YACAkB,KAAA,EAAOP,uBAAA,GAA0B,IAAI;YACrCgB,KAAA,EAAO;YACPzB,UAAA;YACA0B,KAAA,EAAO;YACPvB,MAAA,EAAQ;YACRc,cAAA,EAAgB;YAChBU,QAAA,EAAUvC,EAAA;YACVG,GAAA;YACAqC,IAAA,EAAM;YACNjC,IAAA;YACAkC,KAAA,EAAO;gBACLC,GAAA,EAAK;oBACH;wBACEC,SAAA,EAAW;4BACTC,SAAA,EAAWjB,SAAA,CAAUgB,SAAAA;wBACvB;oBACF;iBAAA;YAEJ;QACF;QACA,8BAAA;QACCtB,uBAAA,OACGnC,iMAAA,EAAa;YACXc,EAAA,EAAIqB,uBAAA;YACJX,cAAA;YACAkB,KAAA,EAAO;YACPhB,UAAA;YACAG,MAAA,EAAQ;YACRc,cAAA,EAAgB;YAChB1B,GAAA;YACAI;QACF,KACA4B,OAAA,CAAQU,OAAO,CAAC;QACpB,wIAAA;QACApD,eAAA,OACIR,uMAAA,EAAmB;YACjByB,cAAA;YACAkB,KAAA,EAAO;YACPhB,UAAA;YACAG,MAAA,EAAQZ,GAAA,CAAIY,MAAM;YAClBc,cAAA,EAAgB;YAChBU,QAAA,EAAUvC,EAAA;YACVG,GAAA;YACA2C,MAAA,EAAQ;YACRvC;QACF,KACA4B,OAAA,CAAQU,OAAO,CAAC;QACpB,uBAAA;QACAhC,aAAA,OACI5B,uMAAA,EAAmB;YACjByB,cAAA;YACAkB,KAAA,EAAO;YACPhB,UAAA;YACAG,MAAA,EAAQ;YACRc,cAAA,EAAgB;YAChBU,QAAA,EAAUvC,EAAA;YACVG,GAAA;YACA2C,MAAA,EAAQ;YACRvC;QACF,KACA4B,OAAA,CAAQU,OAAO,CAAC;QACpB,6BAAA;QACA,wGAAA;QACAhC,aAAA,OACI1B,kMAAA,EAAc;YACZuB,cAAA;YACAkB,KAAA,EAAO;YACPS,KAAA,EAAO;YACPzB,UAAA;YACA0B,KAAA,EAAO;YACPvB,MAAA,EAAQ;YACRc,cAAA,EAAgB;YAChBU,QAAA,EAAUvC,EAAA;YACVG,GAAA;YACAqC,IAAA,EAAM;YACNjC,IAAA;YACAkC,KAAA,EAAO;gBACLC,GAAA,EAAK;oBACH;wBACEC,SAAA,EAAW;4BACTC,SAAA,EAAWjB,SAAA,CAAUgB,SAAAA;wBACvB;oBACF;oBACA;wBACE,mBAAmB;4BACjBI,MAAA,EAAQ;wBACV;oBACF;iBAAA;YAEJ;QACF,KACAZ,OAAA,CAAQU,OAAO,CAAC;KACrB;IAED,MAAMG,eAAA,GAAkDlB,qBAAA,EAAuBmB,IAAA,EAAA,CAAO,EAAE,IAAI;IAE5F,MAAM3B,WAAA,GACJS,iBAAA,IACA,iGAAA;IACAiB,eAAA;IAEF,kDAAA;IACA,MAAME,wBAAA,GAA2BhB,8BAAA,EAAgCe,IAAA,EAAA,CAAO,EAAE,IAAI;IAE9E,IAAIE,eAAA,GAA4B,EAAE;IAClC,IAAI7C,YAAA,EAAc;QAChB,IAAI8C,OAAA,GAAoB,EAAE;QAC1B,IAAInC,qBAAA,EAAuB;YACzB,KAAK,MAAMoC,IAAA,IAAQpC,qBAAA,CAAuB;gBACxC,MAAMF,MAAA,GAAST,YAAA,CAAa8C,OAAO,CAACE,IAAI,EAAEvC,MAAA,GAAWA,MAAA,CAAOsC,IAAI,KAAKA,IAAA;gBACrE,IAAI,CAACtC,MAAA,EAAQ;oBACX;gBACF;gBACAqC,OAAA,CAAQG,IAAI,CAACxC,MAAA;YACf;QACF,OAAO;YACLqC,OAAA,GAAU9C,YAAA,CAAa8C,OAAO;QAChC;QAEA,IAAI9C,YAAA,CAAakD,sBAAsB,EAAE;YACvCJ,OAAA,GAAU,MAAO9C,YAAA,CAAakD,sBAAsB,CAAC;gBAAEJ,OAAA;gBAASjD;YAAI,MAAO,EAAE;QAC/E;QAEAgD,eAAA,GAAkBC,OAAA,CAAQK,GAAG,EAAE1C,MAAA,GAAWA,MAAA,CAAOsC,IAAI;IACvD;IAEA,MAAMK,SAAA,OAAY9E,uLAAA,EAAa;QAC7B8B,cAAA;QACAL,MAAA;QACAO,UAAA;QACAlB;IACF;IAEA,MAAMiE,eAAA,OAAkBhF,mMAAA,EAAmB;QACzC+B,cAAA;QACAL,MAAA,MAAQ3B,6LAAA,EAAgB;YACtB2B,MAAA,EAAQD,OAAA,CAAQC,MAAM;YACtBX,IAAA;YACAkE,SAAA,EAAWxD,OAAA,CAAQwD,SAAS;YAC5BrD;QACF;QACAK,UAAA;QACAlB,IAAA;QACAU,OAAA;QACAsD;IACF;IACA,MAAMG,YAAA,OAAezE,6MAAA,EAAW;QAC9BuE,eAAA;QACAG,oBAAA,EAAsB,CAAC;QACvBC,UAAA,EAAYrD,cAAA,IAAkBE,UAAA;QAC9BoD,MAAA,EAAS,CAAAlE,gBAAA,IAAoBG,YAAW,GAAI+D,MAAA;QAC5CC,iBAAA,EAAmBzC,cAAA,EAAgBwC,MAAA;QACnCtE,IAAA;QACA6B,YAAA;QACA2C,eAAA,EAAiB;QACjBC,iBAAA,EAAmB;QACnBC,UAAA,EAAY;QACZC,gBAAA,EAAkB;QAClBlE,GAAA;QACAgD,eAAA;QACAmB,sBAAA,EAAwB;YACtB,GAAGhD,WAAA,EAAaiD,OAAO;YACvB5B,SAAA,EAAWrB,WAAA,EAAaqB;QAC1B;QACA6B,oBAAA,EAAsB;YACpB,GAAG7C,SAAA,CAAU4C,OAAO;YACpB5B,SAAA,EAAWhB,SAAA,CAAUgB,SAAAA;QACvB;IACF;IAEA,MAAM8B,2BAAA,GAA8B9C,SAAA,CAAUgB,SAAS,OACnDlE,sMAAA,EAAW;QACTiG,IAAA,EACE,OAAO/C,SAAA,CAAUgB,SAAS,KAAK,WAC3B,IAAIgC,IAAA,CAAKhD,SAAA,CAAUgB,SAAS,IAC3BhB,SAAA,CAAUgB,SAAS;QAC1BjD,IAAA;QACAkF,OAAA,EAASvE,MAAA,CAAOwE,KAAK,CAACC,UAAAA;IACxB,KACA;IAEJ,MAAMC,UAAA,GAAaA,CAAC,EAClBC,GAAG,EACHC,aAAa,EACbC,UAAU,EACVC,WAAAA,EAMD;QACC,OAAA,WAAA,OACEC,8NAAA,EAAC9F,4NAAA,EAAA;YACC0C,yBAAA,EAA2BA,yBAAA;YAC3BgD,GAAA,EAAKA,GAAA;YAELK,UAAA,EAAY;YACZJ,aAAA,EAAeA,aAAA;YACfC,UAAA,EAAYA,UAAA,IAAc;YAC1BC,WAAA,EAAaA,WAAA;YACblD,kBAAA,EAAoBA;WALf+C,GAAA,CAAIhF,EAAE;IAQjB;IAEA,4BAAA;IACA,EAAA;IACA,0FAAA;IACA,uEAAA;IACA,yCAAA;IACA,mFAAA;IACA,kFAAA;IAEA,IAAIsF,kBAAA,GAKE,EAAE;IAER,mBAAA;IACA,IAAItC,eAAA,EAAiBhD,EAAA,EAAI;QACvBsF,kBAAA,CAAmB/B,IAAI,CAAC;YACtByB,GAAA,EAAKhC,eAAA;YACLiC,aAAA,EAAevF,IAAA,CAAK6F,CAAC,CAAC;YACtB5C,SAAA,EAAW,IAAIgC,IAAA,CAAK3B,eAAA,CAAgBL,SAAS;YAC7C6C,KAAA,EAAOxC,eAAA,CAAgBhD,EAAAA;QACzB;IACF;IAEA,eAAA;IACA,MAAMyF,uBAAA,GACJzD,yBAAA,EAA2BW,SAAA,GAAYV,kBAAA,EAAoBU,SAAA;IAC7D,IAAIV,kBAAA,IAAsB,CAACwD,uBAAA,EAAyB;QAClDH,kBAAA,CAAmB/B,IAAI,CAAC;YACtByB,GAAA,EAAK/C,kBAAA;YACLU,SAAA,EAAW,IAAIgC,IAAA,CAAK1C,kBAAA,CAAmBU,SAAS;YAChD6C,KAAA,EAAOvD,kBAAA,CAAmBjC,EAAAA;QAC5B;IACF;IAEA,sBAAA;IACA,IAAIgC,yBAAA,EAA2B;QAC7BsD,kBAAA,CAAmB/B,IAAI,CAAC;YACtByB,GAAA,EAAKhD,yBAAA;YACLW,SAAA,EAAW,IAAIgC,IAAA,CAAK3C,yBAAA,CAA0BW,SAAS;YACvD6C,KAAA,EAAOxD,yBAAA,CAA0BhC,EAAAA;QACnC;IACF;IAEA,qBAAA;IACA,IAAIkD,wBAAA,IAA4BlB,yBAAA,EAA2BhC,EAAA,KAAOkD,wBAAA,CAAyBlD,EAAE,EAAE;QAC7FsF,kBAAA,CAAmB/B,IAAI,CAAC;YACtByB,GAAA,EAAK9B,wBAAA;YACL+B,aAAA,EAAevF,IAAA,CAAK6F,CAAC,CAAC;YACtB5C,SAAA,EAAW,IAAIgC,IAAA,CAAKzB,wBAAA,CAAyBP,SAAS;YACtD6C,KAAA,EAAOtC,wBAAA,CAAyBlD,EAAAA;QAClC;IACF;IAEA,mBAAA;IACA,IAAIsB,WAAA,EAAatB,EAAA,IAAM,CAACsF,kBAAA,CAAmBI,IAAI,EAAEC,MAAA,GAAWA,MAAA,CAAOH,KAAK,KAAKlE,WAAA,CAAYtB,EAAE,GAAG;QAC5F,kEAAA;QACAsF,kBAAA,CAAmB/B,IAAI,CAAC;YACtByB,GAAA,EAAK1D,WAAA;YACL2D,aAAA,EAAevF,IAAA,CAAK6F,CAAC,CAAC;YACtB5C,SAAA,EAAW,IAAIgC,IAAA,CAAKrD,WAAA,CAAYqB,SAAS;YACzC6C,KAAA,EAAOlE,WAAA,CAAYtB,EAAAA;QACrB;IACF;IAEAsF,kBAAA,GAAqBA,kBAAA,CAAmB9C,IAAI,CAAC,CAACoD,CAAA,EAAGC,CAAA;QAC/C,kCAAA;QACA,IAAID,CAAA,IAAKC,CAAA,EAAG;YACV,OAAOA,CAAA,CAAElD,SAAS,CAACmD,OAAO,KAAKF,CAAA,CAAEjD,SAAS,CAACmD,OAAO;QACpD;QACA,OAAO;IACT;IAEA,MAAMC,sBAAA,GAAyBzE,WAAA,EAAatB,EAAA,KAAO2B,SAAA,CAAU3B,EAAE;IAE/D,MAAMgG,4BAAA,GAAgD,EAAE;IAExD,KAAK,MAAML,MAAA,IAAUL,kBAAA,CAAoB;QACvC,MAAMW,WAAA,GAAcN,MAAA,CAAOH,KAAK,KAAK7D,SAAA,CAAU3B,EAAE;QAEjD,IAAIiG,WAAA,IAAe,CAACF,sBAAA,EAAwB;YAE1C;QACF;QAEA,MAAMG,YAAA,GAAeF,4BAAA,CAA6BN,IAAI,EACnDS,cAAA,GAAmBA,cAAA,CAAeX,KAAK,KAAKG,MAAA,CAAOH,KAAK;QAE3D,IAAIU,YAAA,EAAc;YAChB;QACF;QAEA,MAAME,sBAAA,GAAyBd,kBAAA,CAAmBe,MAAM,EACrDF,cAAA,GAAmBA,cAAA,CAAeX,KAAK,KAAKG,MAAA,CAAOH,KAAK,IAAIW,cAAA,KAAmBR,MAAA;QAGlF,gDAAA;QACA,MAAMR,WAAA,GAAciB,sBAAA,EAAwB3F,MAAA,GAAA,WAAA,OAC1C6F,+NAAA,EAAC,QAAA;;gBACE;gBACAF,sBAAA,CAAuB3C,GAAG,CAAC,CAAC8C,gBAAA,EAAkBC,KAAA;oBAC7C,MAAMC,KAAA,GACJF,gBAAA,CAAiBtB,aAAa,QAC9B5F,0NAAA,EAAgB;wBACdqH,aAAA,EAAe5F,UAAA;wBACfkB,yBAAA;wBACAC,kBAAA;wBACAsD,CAAA,EAAG7F,IAAA,CAAK6F,CAAC;wBACThB,OAAA,EAASgC,gBAAA,CAAiBvB,GAAAA;oBAC5B,GAAGyB,KAAK;oBAEV,OAAA,WAAA,OACEH,+NAAA,EAACvH,gNAAA,CAAM4H,QAAQ,EAAA;;4BACZH,KAAA,GAAQ,IAAI,OAAO;4BACnBC,KAAA;yBAAA;uBAFkB,GAAGF,gBAAA,CAAiBf,KAAK,CAAA,CAAA,EAAIgB,KAAA,EAAO;gBAK7D;gBACC;aAAA;WApBQ,GAAGb,MAAA,CAAOH,KAAK,CAAA,OAAA,CAAS,IAsBjCoB,SAAA;QAEJZ,4BAAA,CAA6BzC,IAAI,CAAC;YAChCkD,KAAA,EAAO1B,UAAA,CAAW;gBAChBC,GAAA,EAAKW,MAAA,CAAOX,GAAG;gBACfC,aAAA,EAAeU,MAAA,CAAOV,aAAa;gBACnCE;YACF;YACAK,KAAA,EAAOG,MAAA,CAAOH,KAAAA;QAChB;IACF;IAEA,OAAA,WAAA,OACEJ,8NAAA,EAACpG,0MAAA,EAAA;QACC6H,SAAA,EAAWrF,cAAA,EAAgBsF,MAAA;QAC3BvF,YAAA,EAAcA,YAAA;QACdsC,YAAA,EAAcA,YAAA;QACdV,eAAA,EAAiBA,eAAA;QACjB4D,oBAAA,EAAsBzF,WAAA,EAAa0F,SAAA;QACnCC,aAAA,EAAe3F,WAAA,EAAatB,EAAA;QAC5BsF,kBAAA,EAAoBU,4BAAA;QACpBkB,kBAAA,EAAoBvF,SAAA,CAAUqF,SAAS;QACvCvC,2BAAA,EAA6BA,2BAAA;QAC7B0C,uBAAA,EAAyBpC,UAAA,CAAW;YAAEC,GAAA,EAAKrD,SAAA;YAAWuD,UAAA,EAAY;QAAO;QACzE1E,WAAA,EAAamB,SAAA,CAAU3B,EAAE;QACzBoH,eAAA,EAAiBzF,SAAA,CAAU4C,OAAO,EAAE8C;;AAG1C","ignoreList":[]}},
    {"offset": {"line": 3817, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/SelectComparison/VersionDrawer/CreatedAtCell.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const VersionDrawerCreatedAtCell = registerClientReference(\n    function() { throw new Error(\"Attempted to call VersionDrawerCreatedAtCell() from the server but VersionDrawerCreatedAtCell is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/SelectComparison/VersionDrawer/CreatedAtCell.js <module evaluation>\",\n    \"VersionDrawerCreatedAtCell\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,6BAA6B,IAAA,wQAAuB,EAC7D;IAAa,MAAM,IAAI,MAAM;AAAoQ,GACjS,kIACA","ignoreList":[0]}},
    {"offset": {"line": 3831, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Version/SelectComparison/VersionDrawer/CreatedAtCell.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const VersionDrawerCreatedAtCell = registerClientReference(\n    function() { throw new Error(\"Attempted to call VersionDrawerCreatedAtCell() from the server but VersionDrawerCreatedAtCell is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Version/SelectComparison/VersionDrawer/CreatedAtCell.js\",\n    \"VersionDrawerCreatedAtCell\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,6BAA6B,IAAA,wQAAuB,EAC7D;IAAa,MAAM,IAAI,MAAM;AAAoQ,GACjS,8GACA","ignoreList":[0]}},
    {"offset": {"line": 3845, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/SelectComparison/VersionDrawer/CreatedAtCell.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/SelectComparison/VersionDrawer/CreatedAtCell.tsx"],"sourcesContent":["'use client'\nimport { useConfig, useModal, useRouteTransition, useTranslation } from '@payloadcms/ui'\nimport { formatDate } from '@payloadcms/ui/shared'\nimport { usePathname, useRouter, useSearchParams } from 'next/navigation.js'\n\nimport type { CreatedAtCellProps } from '../../../Versions/cells/CreatedAt/index.js'\n\nexport const VersionDrawerCreatedAtCell: React.FC<CreatedAtCellProps> = ({\n  rowData: { id, updatedAt } = {},\n}) => {\n  const {\n    config: {\n      admin: { dateFormat },\n    },\n  } = useConfig()\n  const { closeAllModals } = useModal()\n  const router = useRouter()\n  const pathname = usePathname()\n  const searchParams = useSearchParams()\n  const { startRouteTransition } = useRouteTransition()\n\n  const { i18n } = useTranslation()\n\n  return (\n    <button\n      className=\"created-at-cell\"\n      onClick={() => {\n        closeAllModals()\n        const current = new URLSearchParams(Array.from(searchParams.entries()))\n\n        if (id) {\n          current.set('versionFrom', String(id))\n        }\n\n        const search = current.toString()\n        const query = search ? `?${search}` : ''\n\n        startRouteTransition(() => router.push(`${pathname}${query}`))\n      }}\n      type=\"button\"\n    >\n      {formatDate({ date: updatedAt, i18n, pattern: dateFormat })}\n    </button>\n  )\n}\n"],"names":["useConfig","useModal","useRouteTransition","useTranslation","formatDate","usePathname","useRouter","useSearchParams","VersionDrawerCreatedAtCell","t0","rowData","t1","id","updatedAt","undefined","config","t2","admin","t3","dateFormat","closeAllModals","router","pathname","searchParams","startRouteTransition","i18n","_jsx","className","onClick","current","URLSearchParams","Array","from","entries","set","String","search","toString","query","push","type","children","date","pattern"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 3853, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Versions/cells/AutosaveCell/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AutosaveCell = registerClientReference(\n    function() { throw new Error(\"Attempted to call AutosaveCell() from the server but AutosaveCell is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Versions/cells/AutosaveCell/index.js <module evaluation>\",\n    \"AutosaveCell\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,+GACA","ignoreList":[0]}},
    {"offset": {"line": 3867, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Versions/cells/AutosaveCell/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AutosaveCell = registerClientReference(\n    function() { throw new Error(\"Attempted to call AutosaveCell() from the server but AutosaveCell is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Versions/cells/AutosaveCell/index.js\",\n    \"AutosaveCell\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,2FACA","ignoreList":[0]}},
    {"offset": {"line": 3881, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Versions/cells/AutosaveCell/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Versions/cells/AutosaveCell/index.tsx"],"sourcesContent":["'use client'\nimport type { TypeWithVersion } from 'payload'\n\nimport { Pill, useTranslation } from '@payloadcms/ui'\nimport React from 'react'\n\nimport { VersionPillLabel } from '../../../Version/VersionPillLabel/VersionPillLabel.js'\nimport './index.scss'\n\nconst baseClass = 'autosave-cell'\n\ntype AutosaveCellProps = {\n  currentlyPublishedVersion?: TypeWithVersion<any>\n  latestDraftVersion?: TypeWithVersion<any>\n  rowData: {\n    autosave?: boolean\n    id: number | string\n    publishedLocale?: string\n    updatedAt?: string\n    version: {\n      [key: string]: unknown\n      _status: 'draft' | 'published'\n      updatedAt: string\n    }\n  }\n}\n\nexport const AutosaveCell: React.FC<AutosaveCellProps> = ({\n  currentlyPublishedVersion,\n  latestDraftVersion,\n  rowData,\n}) => {\n  const { t } = useTranslation()\n\n  return (\n    <div className={`${baseClass}__items`}>\n      {rowData?.autosave && <Pill size=\"small\">{t('version:autosave')}</Pill>}\n      <VersionPillLabel\n        currentlyPublishedVersion={currentlyPublishedVersion}\n        disableDate={true}\n        doc={rowData}\n        labelFirst={false}\n        labelStyle=\"pill\"\n        latestDraftVersion={latestDraftVersion}\n      />\n    </div>\n  )\n}\n"],"names":["c","_c","Pill","useTranslation","React","VersionPillLabel","baseClass","AutosaveCell","t0","$","currentlyPublishedVersion","latestDraftVersion","rowData","t","t1","_jsxs","className","children","autosave","_jsx","size","disableDate","doc","labelFirst","labelStyle"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 3889, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Versions/cells/CreatedAt/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CreatedAtCell = registerClientReference(\n    function() { throw new Error(\"Attempted to call CreatedAtCell() from the server but CreatedAtCell is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Versions/cells/CreatedAt/index.js <module evaluation>\",\n    \"CreatedAtCell\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,gBAAgB,IAAA,wQAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,4GACA","ignoreList":[0]}},
    {"offset": {"line": 3903, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Versions/cells/CreatedAt/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CreatedAtCell = registerClientReference(\n    function() { throw new Error(\"Attempted to call CreatedAtCell() from the server but CreatedAtCell is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Versions/cells/CreatedAt/index.js\",\n    \"CreatedAtCell\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,gBAAgB,IAAA,wQAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,wFACA","ignoreList":[0]}},
    {"offset": {"line": 3917, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Versions/cells/CreatedAt/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Versions/cells/CreatedAt/index.tsx"],"sourcesContent":["'use client'\nimport { Link, useConfig, useTranslation } from '@payloadcms/ui'\nimport { formatDate } from '@payloadcms/ui/shared'\nimport { formatAdminURL } from 'payload/shared'\nimport React from 'react'\n\nexport type CreatedAtCellProps = {\n  collectionSlug?: string\n  docID?: number | string\n  globalSlug?: string\n  isTrashed?: boolean\n  rowData?: {\n    id: number | string\n    updatedAt: Date | number | string\n  }\n}\n\nexport const CreatedAtCell: React.FC<CreatedAtCellProps> = ({\n  collectionSlug,\n  docID,\n  globalSlug,\n  isTrashed,\n  rowData: { id, updatedAt } = {},\n}) => {\n  const {\n    config: {\n      admin: { dateFormat },\n      routes: { admin: adminRoute },\n    },\n  } = useConfig()\n\n  const { i18n } = useTranslation()\n\n  const trashedDocPrefix = isTrashed ? 'trash/' : ''\n\n  let to: string\n\n  if (collectionSlug) {\n    to = formatAdminURL({\n      adminRoute,\n      path: `/collections/${collectionSlug}/${trashedDocPrefix}${docID}/versions/${id}`,\n    })\n  }\n\n  if (globalSlug) {\n    to = formatAdminURL({\n      adminRoute,\n      path: `/globals/${globalSlug}/versions/${id}`,\n    })\n  }\n\n  return (\n    <Link href={to} prefetch={false}>\n      {formatDate({ date: updatedAt, i18n, pattern: dateFormat })}\n    </Link>\n  )\n}\n"],"names":["Link","useConfig","useTranslation","formatDate","formatAdminURL","React","CreatedAtCell","t0","collectionSlug","docID","globalSlug","isTrashed","rowData","t1","id","updatedAt","undefined","config","t2","admin","t3","routes","t4","dateFormat","adminRoute","i18n","trashedDocPrefix","to","_jsx","href","prefetch","children","date","pattern"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 3925, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Versions/cells/ID/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const IDCell = registerClientReference(\n    function() { throw new Error(\"Attempted to call IDCell() from the server but IDCell is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Versions/cells/ID/index.js <module evaluation>\",\n    \"IDCell\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,SAAS,IAAA,wQAAuB,EACzC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,qGACA","ignoreList":[0]}},
    {"offset": {"line": 3939, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Versions/cells/ID/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const IDCell = registerClientReference(\n    function() { throw new Error(\"Attempted to call IDCell() from the server but IDCell is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Versions/cells/ID/index.js\",\n    \"IDCell\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,SAAS,IAAA,wQAAuB,EACzC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,iFACA","ignoreList":[0]}},
    {"offset": {"line": 3953, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Versions/cells/ID/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Versions/cells/ID/index.tsx"],"sourcesContent":["'use client'\nimport React, { Fragment } from 'react'\n\nexport function IDCell({ id }: { id: number | string }) {\n  return <Fragment>{id}</Fragment>\n}\n"],"names":["React","Fragment","IDCell","id","_jsx"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 3963, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Versions/buildColumns.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Versions/buildColumns.tsx"],"sourcesContent":["import type { I18n } from '@payloadcms/translations'\nimport type {\n  Column,\n  PaginatedDocs,\n  SanitizedCollectionConfig,\n  SanitizedGlobalConfig,\n  TypeWithVersion,\n} from 'payload'\n\nimport { SortColumn } from '@payloadcms/ui'\nimport { hasDraftsEnabled } from 'payload/shared'\nimport React from 'react'\n\nimport { AutosaveCell } from './cells/AutosaveCell/index.js'\nimport { CreatedAtCell, type CreatedAtCellProps } from './cells/CreatedAt/index.js'\nimport { IDCell } from './cells/ID/index.js'\n\nexport const buildVersionColumns = ({\n  collectionConfig,\n  CreatedAtCellOverride,\n  currentlyPublishedVersion,\n  docID,\n  docs,\n  globalConfig,\n  i18n: { t },\n  isTrashed,\n  latestDraftVersion,\n}: {\n  collectionConfig?: SanitizedCollectionConfig\n  CreatedAtCellOverride?: React.ComponentType<CreatedAtCellProps>\n  currentlyPublishedVersion?: TypeWithVersion<any>\n  docID?: number | string\n  docs: PaginatedDocs<TypeWithVersion<any>>['docs']\n  globalConfig?: SanitizedGlobalConfig\n  i18n: I18n\n  isTrashed?: boolean\n  latestDraftVersion?: TypeWithVersion<any>\n}): Column[] => {\n  const entityConfig = collectionConfig || globalConfig\n\n  const CreatedAtCellComponent = CreatedAtCellOverride ?? CreatedAtCell\n\n  const columns: Column[] = [\n    {\n      accessor: 'updatedAt',\n      active: true,\n      field: {\n        name: '',\n        type: 'date',\n      },\n      Heading: <SortColumn Label={t('general:updatedAt')} name=\"updatedAt\" />,\n      renderedCells: docs.map((doc, i) => {\n        return (\n          <CreatedAtCellComponent\n            collectionSlug={collectionConfig?.slug}\n            docID={docID}\n            globalSlug={globalConfig?.slug}\n            isTrashed={isTrashed}\n            key={i}\n            rowData={{\n              id: doc.id,\n              updatedAt: doc.updatedAt,\n            }}\n          />\n        )\n      }),\n    },\n    {\n      accessor: 'id',\n      active: true,\n      field: {\n        name: '',\n        type: 'text',\n      },\n      Heading: <SortColumn disable Label={t('version:versionID')} name=\"id\" />,\n      renderedCells: docs.map((doc, i) => {\n        return <IDCell id={doc.id} key={i} />\n      }),\n    },\n  ]\n\n  if (hasDraftsEnabled(entityConfig)) {\n    columns.push({\n      accessor: '_status',\n      active: true,\n      field: {\n        name: '',\n        type: 'checkbox',\n      },\n      Heading: <SortColumn disable Label={t('version:status')} name=\"status\" />,\n      renderedCells: docs.map((doc, i) => {\n        return (\n          <AutosaveCell\n            currentlyPublishedVersion={currentlyPublishedVersion}\n            key={i}\n            latestDraftVersion={latestDraftVersion}\n            rowData={doc}\n          />\n        )\n      }),\n    })\n  }\n\n  return columns\n}\n"],"names":["SortColumn","hasDraftsEnabled","React","AutosaveCell","CreatedAtCell","IDCell","buildVersionColumns","collectionConfig","CreatedAtCellOverride","currentlyPublishedVersion","docID","docs","globalConfig","i18n","t","isTrashed","latestDraftVersion","entityConfig","CreatedAtCellComponent","columns","accessor","active","field","name","type","Heading","_jsx","Label","renderedCells","map","doc","i","collectionSlug","slug","globalSlug","rowData","id","updatedAt","disable","push"],"mappings":";;;;;AASA,SAASA,UAAU,QAAQ;AAC3B,SAASC,gBAAgB,QAAQ;AACjC,OAAOC,KAAA,MAAW;AAElB,SAASC,YAAY,QAAQ;AAC7B,SAASC,aAAa,QAAiC;AACvD,SAASC,MAAM,QAAQ;;;;;;;;;;;;AAEhB,MAAMC,mBAAA,GAAsBA,CAAC,EAClCC,gBAAgB,EAChBC,qBAAqB,EACrBC,yBAAyB,EACzBC,KAAK,EACLC,IAAI,EACJC,YAAY,EACZC,IAAA,EAAM,EAAEC,CAAAA,EAAG,EACXC,SAAS,EACTC,kBAAAA,EAWD;IACC,MAAMC,YAAA,GAAeV,gBAAA,IAAoBK,YAAA;IAEzC,MAAMM,sBAAA,GAAyBV,qBAAA,IAAyBJ,iNAAA;IAExD,MAAMe,OAAA,GAAoB;QACxB;YACEC,QAAA,EAAU;YACVC,MAAA,EAAQ;YACRC,KAAA,EAAO;gBACLC,IAAA,EAAM;gBACNC,IAAA,EAAM;YACR;YACAC,OAAA,EAAA,WAAA,OAASC,8NAAA,EAAC1B,sLAAA,EAAA;gBAAW2B,KAAA,EAAOb,CAAA,CAAE;gBAAsBS,IAAA,EAAK;;YACzDK,aAAA,EAAejB,IAAA,CAAKkB,GAAG,CAAC,CAACC,GAAA,EAAKC,CAAA;gBAC5B,OAAA,WAAA,OACEL,8NAAA,EAACR,sBAAA,EAAA;oBACCc,cAAA,EAAgBzB,gBAAA,EAAkB0B,IAAA;oBAClCvB,KAAA,EAAOA,KAAA;oBACPwB,UAAA,EAAYtB,YAAA,EAAcqB,IAAA;oBAC1BlB,SAAA,EAAWA,SAAA;oBAEXoB,OAAA,EAAS;wBACPC,EAAA,EAAIN,GAAA,CAAIM,EAAE;wBACVC,SAAA,EAAWP,GAAA,CAAIO,SAAAA;oBACjB;mBAJKN,CAAA;YAOX;QACF;QACA;YACEX,QAAA,EAAU;YACVC,MAAA,EAAQ;YACRC,KAAA,EAAO;gBACLC,IAAA,EAAM;gBACNC,IAAA,EAAM;YACR;YACAC,OAAA,EAAA,WAAA,OAASC,8NAAA,EAAC1B,sLAAA,EAAA;gBAAWsC,OAAO,EAAA;gBAACX,KAAA,EAAOb,CAAA,CAAE;gBAAsBS,IAAA,EAAK;;YACjEK,aAAA,EAAejB,IAAA,CAAKkB,GAAG,CAAC,CAACC,GAAA,EAAKC,CAAA;gBAC5B,OAAA,WAAA,OAAOL,8NAAA,EAACrB,mMAAA,EAAA;oBAAO+B,EAAA,EAAIN,GAAA,CAAIM,EAAAA;mBAASL,CAAA;YAClC;QACF;KACD;IAED,QAAI9B,oMAAA,EAAiBgB,YAAA,GAAe;QAClCE,OAAA,CAAQoB,IAAI,CAAC;YACXnB,QAAA,EAAU;YACVC,MAAA,EAAQ;YACRC,KAAA,EAAO;gBACLC,IAAA,EAAM;gBACNC,IAAA,EAAM;YACR;YACAC,OAAA,EAAA,WAAA,OAASC,8NAAA,EAAC1B,sLAAA,EAAA;gBAAWsC,OAAO,EAAA;gBAACX,KAAA,EAAOb,CAAA,CAAE;gBAAmBS,IAAA,EAAK;;YAC9DK,aAAA,EAAejB,IAAA,CAAKkB,GAAG,CAAC,CAACC,GAAA,EAAKC,CAAA;gBAC5B,OAAA,WAAA,OACEL,8NAAA,EAACvB,mNAAA,EAAA;oBACCM,yBAAA,EAA2BA,yBAAA;oBAE3BO,kBAAA,EAAoBA,kBAAA;oBACpBmB,OAAA,EAASL;mBAFJC,CAAA;YAKX;QACF;IACF;IAEA,OAAOZ,OAAA;AACT","ignoreList":[]}},
    {"offset": {"line": 4061, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Versions/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const VersionsViewClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call VersionsViewClient() from the server but VersionsViewClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Versions/index.client.js <module evaluation>\",\n    \"VersionsViewClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,qBAAqB,IAAA,wQAAuB,EACrD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,mGACA","ignoreList":[0]}},
    {"offset": {"line": 4075, "column": 0}, "map": {"version":3,"sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/dist/views/Versions/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const VersionsViewClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call VersionsViewClient() from the server but VersionsViewClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@payloadcms/next/dist/views/Versions/index.client.js\",\n    \"VersionsViewClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,qBAAqB,IAAA,wQAAuB,EACrD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,+EACA","ignoreList":[0]}},
    {"offset": {"line": 4089, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Versions/index.client.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Versions/index.client.tsx"],"sourcesContent":["'use client'\nimport type { Column, SanitizedCollectionConfig } from 'payload'\n\nimport {\n  LoadingOverlayToggle,\n  Pagination,\n  PerPage,\n  Table,\n  useListQuery,\n  useTranslation,\n} from '@payloadcms/ui'\nimport { useSearchParams } from 'next/navigation.js'\nimport React from 'react'\n\nexport const VersionsViewClient: React.FC<{\n  readonly baseClass: string\n  readonly columns: Column[]\n  readonly fetchURL: string\n  readonly paginationLimits?: SanitizedCollectionConfig['admin']['pagination']['limits']\n}> = (props) => {\n  const { baseClass, columns, paginationLimits } = props\n\n  const { data, handlePageChange, handlePerPageChange } = useListQuery()\n\n  const searchParams = useSearchParams()\n  const limit = searchParams.get('limit')\n\n  const { i18n } = useTranslation()\n\n  const versionCount = data?.totalDocs || 0\n\n  return (\n    <React.Fragment>\n      <LoadingOverlayToggle name=\"versions\" show={!data} />\n      {versionCount === 0 && (\n        <div className={`${baseClass}__no-versions`}>\n          {i18n.t('version:noFurtherVersionsFound')}\n        </div>\n      )}\n      {versionCount > 0 && (\n        <React.Fragment>\n          <Table columns={columns} data={data?.docs} />\n          <div className={`${baseClass}__page-controls`}>\n            <Pagination\n              hasNextPage={data.hasNextPage}\n              hasPrevPage={data.hasPrevPage}\n              limit={data.limit}\n              nextPage={data.nextPage}\n              numberOfNeighbors={1}\n              onChange={handlePageChange}\n              page={data.page}\n              prevPage={data.prevPage}\n              totalPages={data.totalPages}\n            />\n            {data?.totalDocs > 0 && (\n              <React.Fragment>\n                <div className={`${baseClass}__page-info`}>\n                  {data.page * data.limit - (data.limit - 1)}-\n                  {data.totalPages > 1 && data.totalPages !== data.page\n                    ? data.limit * data.page\n                    : data.totalDocs}{' '}\n                  {i18n.t('general:of')} {data.totalDocs}\n                </div>\n                <PerPage\n                  handleChange={handlePerPageChange}\n                  limit={limit ? Number(limit) : 10}\n                  limits={paginationLimits}\n                />\n              </React.Fragment>\n            )}\n          </div>\n        </React.Fragment>\n      )}\n    </React.Fragment>\n  )\n}\n"],"names":["c","_c","LoadingOverlayToggle","Pagination","PerPage","Table","useListQuery","useTranslation","useSearchParams","React","VersionsViewClient","props","$","baseClass","columns","paginationLimits","data","handlePageChange","handlePerPageChange","searchParams","t0","get","limit","i18n","versionCount","totalDocs","t1","t2","_jsxs","Fragment","children","_jsx","name","show","className","t","docs","hasNextPage","hasPrevPage","nextPage","numberOfNeighbors","onChange","page","prevPage","totalPages","handleChange","Number","limits"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 4099, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Versions/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Versions/index.tsx"],"sourcesContent":["import { Gutter, ListQueryProvider, SetDocumentStepNav } from '@payloadcms/ui'\nimport { notFound } from 'next/navigation.js'\nimport { type DocumentViewServerProps, type PaginatedDocs, type Where } from 'payload'\nimport { formatAdminURL, hasDraftsEnabled, isNumber } from 'payload/shared'\nimport React from 'react'\n\nimport { fetchLatestVersion, fetchVersions } from '../Version/fetchVersions.js'\nimport { VersionDrawerCreatedAtCell } from '../Version/SelectComparison/VersionDrawer/CreatedAtCell.js'\nimport { buildVersionColumns } from './buildColumns.js'\nimport { VersionsViewClient } from './index.client.js'\nimport './index.scss'\n\nconst baseClass = 'versions'\n\nexport async function VersionsView(props: DocumentViewServerProps) {\n  const {\n    hasPublishedDoc,\n    initPageResult: {\n      collectionConfig,\n      docID: id,\n      globalConfig,\n      req,\n      req: {\n        i18n,\n        payload: { config },\n        t,\n        user,\n      },\n    },\n    routeSegments: segments,\n    searchParams: { limit, page, sort },\n    versions: { disableGutter = false, useVersionDrawerCreatedAtCell = false } = {},\n  } = props\n\n  const draftsEnabled = hasDraftsEnabled(collectionConfig || globalConfig)\n\n  const collectionSlug = collectionConfig?.slug\n  const globalSlug = globalConfig?.slug\n\n  const isTrashed = segments[2] === 'trash'\n\n  const {\n    localization,\n    routes: { api: apiRoute },\n    serverURL,\n  } = config\n\n  const whereQuery: {\n    and: Array<{ parent?: { equals: number | string }; snapshot?: { not_equals: boolean } }>\n  } & Where = {\n    and: [],\n  }\n  if (localization && draftsEnabled) {\n    whereQuery.and.push({\n      snapshot: {\n        not_equals: true,\n      },\n    })\n  }\n\n  const defaultLimit = collectionSlug ? collectionConfig?.admin?.pagination?.defaultLimit : 10\n\n  const limitToUse = isNumber(limit) ? Number(limit) : defaultLimit\n\n  const versionsData: PaginatedDocs = await fetchVersions({\n    collectionSlug,\n    depth: 0,\n    globalSlug,\n    limit: limitToUse,\n    locale: req.locale,\n    overrideAccess: false,\n    page: page ? parseInt(page.toString(), 10) : undefined,\n    parentID: id,\n    req,\n    sort: sort as string,\n    user,\n    where: whereQuery,\n  })\n\n  if (!versionsData) {\n    return notFound()\n  }\n\n  const [currentlyPublishedVersion, latestDraftVersion] = await Promise.all([\n    hasPublishedDoc\n      ? fetchLatestVersion({\n          collectionSlug,\n          depth: 0,\n          globalSlug,\n          locale: req.locale,\n          overrideAccess: false,\n          parentID: id,\n          req,\n          select: {\n            id: true,\n            updatedAt: true,\n            version: {\n              _status: true,\n              updatedAt: true,\n            },\n          },\n          status: 'published',\n          user,\n          where: {\n            snapshot: {\n              not_equals: true,\n            },\n          },\n        })\n      : Promise.resolve(null),\n    draftsEnabled\n      ? fetchLatestVersion({\n          collectionSlug,\n          depth: 0,\n          globalSlug,\n          locale: req.locale,\n          overrideAccess: false,\n          parentID: id,\n          req,\n          select: {\n            id: true,\n            updatedAt: true,\n            version: {\n              _status: true,\n              updatedAt: true,\n            },\n          },\n          status: 'draft',\n          user,\n          where: {\n            snapshot: {\n              not_equals: true,\n            },\n          },\n        })\n      : Promise.resolve(null),\n  ])\n\n  const fetchURL = formatAdminURL({\n    apiRoute,\n    path: collectionSlug ? `/${collectionSlug}/versions` : `/${globalSlug}/versions`,\n  })\n\n  const columns = buildVersionColumns({\n    collectionConfig,\n    CreatedAtCellOverride: useVersionDrawerCreatedAtCell ? VersionDrawerCreatedAtCell : undefined,\n    currentlyPublishedVersion,\n    docID: id,\n    docs: versionsData?.docs,\n    globalConfig,\n    i18n,\n    isTrashed,\n    latestDraftVersion,\n  })\n\n  const pluralLabel =\n    typeof collectionConfig?.labels?.plural === 'function'\n      ? collectionConfig.labels.plural({ i18n, t })\n      : (collectionConfig?.labels?.plural ?? globalConfig?.label)\n\n  const GutterComponent = disableGutter ? React.Fragment : Gutter\n\n  return (\n    <React.Fragment>\n      <SetDocumentStepNav\n        collectionSlug={collectionSlug}\n        globalSlug={globalSlug}\n        id={id}\n        isTrashed={isTrashed}\n        pluralLabel={pluralLabel}\n        useAsTitle={collectionConfig?.admin?.useAsTitle || globalSlug}\n        view={i18n.t('version:versions')}\n      />\n      <main className={baseClass}>\n        <GutterComponent className={`${baseClass}__wrap`}>\n          <ListQueryProvider\n            data={versionsData}\n            modifySearchParams\n            orderableFieldName={collectionConfig?.orderable === true ? '_order' : undefined}\n            query={{\n              limit: limitToUse,\n              sort: sort as string,\n            }}\n          >\n            <VersionsViewClient\n              baseClass={baseClass}\n              columns={columns}\n              fetchURL={fetchURL}\n              paginationLimits={collectionConfig?.admin?.pagination?.limits}\n            />\n          </ListQueryProvider>\n        </GutterComponent>\n      </main>\n    </React.Fragment>\n  )\n}\n"],"names":["Gutter","ListQueryProvider","SetDocumentStepNav","notFound","formatAdminURL","hasDraftsEnabled","isNumber","React","fetchLatestVersion","fetchVersions","VersionDrawerCreatedAtCell","buildVersionColumns","VersionsViewClient","baseClass","VersionsView","props","hasPublishedDoc","initPageResult","collectionConfig","docID","id","globalConfig","req","i18n","payload","config","t","user","routeSegments","segments","searchParams","limit","page","sort","versions","disableGutter","useVersionDrawerCreatedAtCell","draftsEnabled","collectionSlug","slug","globalSlug","isTrashed","localization","routes","api","apiRoute","serverURL","whereQuery","and","push","snapshot","not_equals","defaultLimit","admin","pagination","limitToUse","Number","versionsData","depth","locale","overrideAccess","parseInt","toString","undefined","parentID","where","currentlyPublishedVersion","latestDraftVersion","Promise","all","select","updatedAt","version","_status","status","resolve","fetchURL","path","columns","CreatedAtCellOverride","docs","pluralLabel","labels","plural","label","GutterComponent","Fragment","_jsxs","_jsx","useAsTitle","view","className","data","modifySearchParams","orderableFieldName","orderable","query","paginationLimits","limits"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 4274, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Document/getCustomDocumentViewByKey.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Document/getCustomDocumentViewByKey.tsx"],"sourcesContent":["import type { EditViewComponent, SanitizedCollectionConfig, SanitizedGlobalConfig } from 'payload'\n\nexport const getCustomDocumentViewByKey = (\n  views:\n    | SanitizedCollectionConfig['admin']['components']['views']\n    | SanitizedGlobalConfig['admin']['components']['views'],\n  customViewKey: string,\n): EditViewComponent => {\n  return typeof views?.edit?.[customViewKey] === 'object' &&\n    'Component' in views.edit[customViewKey]\n    ? views?.edit?.[customViewKey].Component\n    : null\n}\n"],"names":["getCustomDocumentViewByKey","views","customViewKey","edit","Component"],"mappings":";;;;AAEO,MAAMA,0BAAA,GAA6BA,CACxCC,KAAA,EAGAC,aAAA;IAEA,OAAO,OAAOD,KAAA,EAAOE,IAAA,EAAA,CAAOD,aAAA,CAAc,KAAK,YAC7C,eAAeD,KAAA,CAAME,IAAI,CAACD,aAAA,CAAc,GACtCD,KAAA,EAAOE,IAAA,EAAA,CAAOD,aAAA,CAAc,CAACE,SAAA,GAC7B;AACN","ignoreList":[]}},
    {"offset": {"line": 4285, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Root/isPathMatchingRoute.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Root/isPathMatchingRoute.ts"],"sourcesContent":["import { pathToRegexp } from 'path-to-regexp'\n\nexport const isPathMatchingRoute = ({\n  currentRoute,\n  exact,\n  path: viewPath,\n  sensitive,\n  strict,\n}: {\n  currentRoute: string\n  exact?: boolean\n  path?: string\n  sensitive?: boolean\n  strict?: boolean\n}) => {\n  // if no path is defined, we cannot match it so return false early\n  if (!viewPath) {\n    return false\n  }\n\n  const keys = []\n\n  // run the view path through `pathToRegexp` to resolve any dynamic segments\n  // i.e. `/admin/custom-view/:id` -> `/admin/custom-view/123`\n  const regex = pathToRegexp(viewPath, keys, {\n    sensitive,\n    strict,\n  })\n\n  const match = regex.exec(currentRoute)\n  const viewRoute = match?.[0] || viewPath\n\n  if (exact) {\n    return currentRoute === viewRoute\n  }\n\n  if (!exact) {\n    return viewRoute.startsWith(currentRoute)\n  }\n}\n"],"names":["pathToRegexp","isPathMatchingRoute","currentRoute","exact","path","viewPath","sensitive","strict","keys","regex","match","exec","viewRoute","startsWith"],"mappings":";;;;AAAA,SAASA,YAAY,QAAQ;;AAEtB,MAAMC,mBAAA,GAAsBA,CAAC,EAClCC,YAAY,EACZC,KAAK,EACLC,IAAA,EAAMC,QAAQ,EACdC,SAAS,EACTC,MAAAA,EAOD;IACC,kEAAA;IACA,IAAI,CAACF,QAAA,EAAU;QACb,OAAO;IACT;IAEA,MAAMG,IAAA,GAAO,EAAE;IAEf,2EAAA;IACA,4DAAA;IACA,MAAMC,KAAA,OAAQT,uNAAA,EAAaK,QAAA,EAAUG,IAAA,EAAM;QACzCF,SAAA;QACAC;IACF;IAEA,MAAMG,KAAA,GAAQD,KAAA,CAAME,IAAI,CAACT,YAAA;IACzB,MAAMU,SAAA,GAAYF,KAAA,EAAA,CAAQ,EAAE,IAAIL,QAAA;IAEhC,IAAIF,KAAA,EAAO;QACT,OAAOD,YAAA,KAAiBU,SAAA;IAC1B;IAEA,IAAI,CAACT,KAAA,EAAO;QACV,OAAOS,SAAA,CAAUC,UAAU,CAACX,YAAA;IAC9B;AACF","ignoreList":[]}},
    {"offset": {"line": 4316, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Document/getCustomViewByRoute.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Document/getCustomViewByRoute.tsx"],"sourcesContent":["import type { EditViewComponent, SanitizedCollectionConfig, SanitizedGlobalConfig } from 'payload'\n\nimport { isPathMatchingRoute } from '../Root/isPathMatchingRoute.js'\n\nexport const getCustomViewByRoute = ({\n  baseRoute,\n  currentRoute,\n  views,\n}: {\n  baseRoute: string\n  currentRoute: string\n  views:\n    | SanitizedCollectionConfig['admin']['components']['views']\n    | SanitizedGlobalConfig['admin']['components']['views']\n}): {\n  Component: EditViewComponent\n  viewKey?: string\n} => {\n  if (typeof views?.edit === 'object') {\n    let viewKey: string\n\n    const foundViewConfig = Object.entries(views.edit).find(([key, view]) => {\n      if (typeof view === 'object' && 'path' in view) {\n        const viewPath = `${baseRoute}${view.path}`\n\n        const isMatching = isPathMatchingRoute({\n          currentRoute,\n          exact: true,\n          path: viewPath,\n        })\n\n        if (isMatching) {\n          viewKey = key\n        }\n\n        return isMatching\n      }\n\n      return false\n    })?.[1]\n\n    if (foundViewConfig && 'Component' in foundViewConfig) {\n      return {\n        Component: foundViewConfig.Component,\n        viewKey,\n      }\n    }\n  }\n\n  return {\n    Component: null,\n  }\n}\n"],"names":["isPathMatchingRoute","getCustomViewByRoute","baseRoute","currentRoute","views","edit","viewKey","foundViewConfig","Object","entries","find","key","view","viewPath","path","isMatching","exact","Component"],"mappings":";;;;AAEA,SAASA,mBAAmB,QAAQ;;AAE7B,MAAMC,oBAAA,GAAuBA,CAAC,EACnCC,SAAS,EACTC,YAAY,EACZC,KAAAA,EAOD;IAIC,IAAI,OAAOA,KAAA,EAAOC,IAAA,KAAS,UAAU;QACnC,IAAIC,OAAA;QAEJ,MAAMC,eAAA,GAAkBC,MAAA,CAAOC,OAAO,CAACL,KAAA,CAAMC,IAAI,EAAEK,IAAI,CAAC,CAAC,CAACC,GAAA,EAAKC,IAAA,CAAK;YAClE,IAAI,OAAOA,IAAA,KAAS,YAAY,UAAUA,IAAA,EAAM;gBAC9C,MAAMC,QAAA,GAAW,GAAGX,SAAA,GAAYU,IAAA,CAAKE,IAAI,EAAE;gBAE3C,MAAMC,UAAA,OAAaf,2MAAA,EAAoB;oBACrCG,YAAA;oBACAa,KAAA,EAAO;oBACPF,IAAA,EAAMD;gBACR;gBAEA,IAAIE,UAAA,EAAY;oBACdT,OAAA,GAAUK,GAAA;gBACZ;gBAEA,OAAOI,UAAA;YACT;YAEA,OAAO;QACT,IAAA,CAAK,EAAE;QAEP,IAAIR,eAAA,IAAmB,eAAeA,eAAA,EAAiB;YACrD,OAAO;gBACLU,SAAA,EAAWV,eAAA,CAAgBU,SAAS;gBACpCX;YACF;QACF;IACF;IAEA,OAAO;QACLW,SAAA,EAAW;IACb;AACF","ignoreList":[]}},
    {"offset": {"line": 4357, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Document/getDocumentView.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Document/getDocumentView.tsx"],"sourcesContent":["import type {\n  PayloadComponent,\n  SanitizedCollectionConfig,\n  SanitizedCollectionPermission,\n  SanitizedConfig,\n  SanitizedGlobalConfig,\n  SanitizedGlobalPermission,\n} from 'payload'\nimport type React from 'react'\n\nimport type { ViewToRender } from './index.js'\n\nimport { APIView as DefaultAPIView } from '../API/index.js'\nimport { EditView as DefaultEditView } from '../Edit/index.js'\nimport { UnauthorizedViewWithGutter } from '../Unauthorized/index.js'\nimport { VersionView as DefaultVersionView } from '../Version/index.js'\nimport { VersionsView as DefaultVersionsView } from '../Versions/index.js'\nimport { getCustomDocumentViewByKey } from './getCustomDocumentViewByKey.js'\nimport { getCustomViewByRoute } from './getCustomViewByRoute.js'\n\nexport type ViewFromConfig<TProps extends object> = {\n  Component?: React.FC<TProps>\n  ComponentConfig?: PayloadComponent<TProps>\n}\n\nexport const getDocumentView = ({\n  collectionConfig,\n  config,\n  docPermissions,\n  globalConfig,\n  routeSegments,\n}: {\n  collectionConfig?: SanitizedCollectionConfig\n  config: SanitizedConfig\n  docPermissions: SanitizedCollectionPermission | SanitizedGlobalPermission\n  globalConfig?: SanitizedGlobalConfig\n  routeSegments: string[]\n}): {\n  View: ViewToRender\n  viewKey: string\n} | null => {\n  // Conditionally import and lazy load the default view\n  let View: ViewToRender = null\n  let viewKey: string\n\n  const {\n    routes: { admin: adminRoute },\n  } = config\n\n  const views =\n    (collectionConfig && collectionConfig?.admin?.components?.views) ||\n    (globalConfig && globalConfig?.admin?.components?.views)\n\n  if (!docPermissions?.read) {\n    throw new Error('not-found')\n  }\n\n  if (collectionConfig) {\n    const [collectionEntity, collectionSlug, segment3, segment4, segment5, ...remainingSegments] =\n      routeSegments\n\n    // --> /collections/:collectionSlug/:id\n    // --> /collections/:collectionSlug/create\n    switch (routeSegments.length) {\n      case 3: {\n        switch (segment3) {\n          // --> /collections/:collectionSlug/create\n          case 'create': {\n            if ('create' in docPermissions && docPermissions.create) {\n              View = getCustomDocumentViewByKey(views, 'default') || DefaultEditView\n            } else {\n              View = UnauthorizedViewWithGutter\n            }\n            break\n          }\n\n          // --> /collections/:collectionSlug/:id\n          default: {\n            const baseRoute = [\n              adminRoute !== '/' && adminRoute,\n              'collections',\n              collectionSlug,\n              segment3,\n            ]\n              .filter(Boolean)\n              .join('/')\n\n            const currentRoute = [baseRoute, segment4, segment5, ...remainingSegments]\n              .filter(Boolean)\n              .join('/')\n\n            const { Component: CustomViewComponent, viewKey: customViewKey } = getCustomViewByRoute(\n              {\n                baseRoute,\n                currentRoute,\n                views,\n              },\n            )\n\n            if (customViewKey) {\n              viewKey = customViewKey\n              View = CustomViewComponent\n            } else {\n              View = getCustomDocumentViewByKey(views, 'default') || DefaultEditView\n            }\n\n            break\n          }\n        }\n        break\n      }\n\n      // --> /collections/:collectionSlug/:id/api\n      // --> /collections/:collectionSlug/:id/versions\n      // --> /collections/:collectionSlug/:id/<custom-segment>\n      // --> /collections/:collectionSlug/trash/:id\n      case 4: {\n        // --> /collections/:collectionSlug/trash/:id\n        if (segment3 === 'trash' && segment4) {\n          View = getCustomDocumentViewByKey(views, 'default') || DefaultEditView\n          break\n        }\n        switch (segment4) {\n          // --> /collections/:collectionSlug/:id/api\n          case 'api': {\n            if (collectionConfig?.admin?.hideAPIURL !== true) {\n              View = getCustomDocumentViewByKey(views, 'api') || DefaultAPIView\n            }\n            break\n          }\n\n          case 'versions': {\n            // --> /collections/:collectionSlug/:id/versions\n            if (docPermissions?.readVersions) {\n              View = getCustomDocumentViewByKey(views, 'versions') || DefaultVersionsView\n            } else {\n              View = UnauthorizedViewWithGutter\n            }\n            break\n          }\n\n          // --> /collections/:collectionSlug/:id/<custom-segment>\n          default: {\n            const baseRoute = [\n              adminRoute !== '/' && adminRoute,\n              'collections',\n              collectionSlug,\n              segment3,\n            ]\n              .filter(Boolean)\n              .join('/')\n\n            const currentRoute = [baseRoute, segment4, segment5, ...remainingSegments]\n              .filter(Boolean)\n              .join('/')\n\n            const { Component: CustomViewComponent, viewKey: customViewKey } = getCustomViewByRoute(\n              {\n                baseRoute,\n                currentRoute,\n                views,\n              },\n            )\n\n            if (customViewKey) {\n              viewKey = customViewKey\n              View = CustomViewComponent\n            }\n\n            break\n          }\n        }\n        break\n      }\n\n      // --> /collections/:collectionSlug/trash/:id/api\n      // --> /collections/:collectionSlug/trash/:id/versions\n      // --> /collections/:collectionSlug/trash/:id/<custom-segment>\n      // --> /collections/:collectionSlug/:id/versions/:version\n      case 5: {\n        // --> /collections/:slug/trash/:id/api\n        if (segment3 === 'trash') {\n          switch (segment5) {\n            case 'api': {\n              if (collectionConfig?.admin?.hideAPIURL !== true) {\n                View = getCustomDocumentViewByKey(views, 'api') || DefaultAPIView\n              }\n              break\n            }\n            // --> /collections/:slug/trash/:id/versions\n            case 'versions': {\n              if (docPermissions?.readVersions) {\n                View = getCustomDocumentViewByKey(views, 'versions') || DefaultVersionsView\n              } else {\n                View = UnauthorizedViewWithGutter\n              }\n              break\n            }\n\n            default: {\n              View = getCustomDocumentViewByKey(views, 'default') || DefaultEditView\n              break\n            }\n          }\n          // --> /collections/:collectionSlug/:id/versions/:version\n        } else if (segment4 === 'versions') {\n          if (docPermissions?.readVersions) {\n            View = getCustomDocumentViewByKey(views, 'version') || DefaultVersionView\n          } else {\n            View = UnauthorizedViewWithGutter\n          }\n        } else {\n          // --> /collections/:collectionSlug/:id/<custom>/<custom>\n          const baseRoute = [\n            adminRoute !== '/' && adminRoute,\n            collectionEntity,\n            collectionSlug,\n            segment3,\n          ]\n            .filter(Boolean)\n            .join('/')\n\n          const currentRoute = [baseRoute, segment4, segment5, ...remainingSegments]\n            .filter(Boolean)\n            .join('/')\n\n          const { Component: CustomViewComponent, viewKey: customViewKey } = getCustomViewByRoute({\n            baseRoute,\n            currentRoute,\n            views,\n          })\n\n          if (customViewKey) {\n            viewKey = customViewKey\n            View = CustomViewComponent\n          }\n        }\n\n        break\n      }\n\n      // --> /collections/:collectionSlug/trash/:id/versions/:version\n      // --> /collections/:collectionSlug/:id/<custom>/<custom>/<custom...>\n      default: {\n        // --> /collections/:collectionSlug/trash/:id/versions/:version\n        const isTrashedVersionView = segment3 === 'trash' && segment5 === 'versions'\n\n        if (isTrashedVersionView) {\n          if (docPermissions?.readVersions) {\n            View = getCustomDocumentViewByKey(views, 'version') || DefaultVersionView\n          } else {\n            View = UnauthorizedViewWithGutter\n          }\n        } else {\n          // --> /collections/:collectionSlug/:id/<custom>/<custom>/<custom...>\n          const baseRoute = [\n            adminRoute !== '/' && adminRoute,\n            collectionEntity,\n            collectionSlug,\n            segment3,\n          ]\n            .filter(Boolean)\n            .join('/')\n\n          const currentRoute = [baseRoute, segment4, segment5, ...remainingSegments]\n            .filter(Boolean)\n            .join('/')\n\n          const { Component: CustomViewComponent, viewKey: customViewKey } = getCustomViewByRoute({\n            baseRoute,\n            currentRoute,\n            views,\n          })\n\n          if (customViewKey) {\n            viewKey = customViewKey\n            View = CustomViewComponent\n          }\n        }\n\n        break\n      }\n    }\n  }\n\n  if (globalConfig) {\n    const [globalEntity, globalSlug, segment3, ...remainingSegments] = routeSegments\n\n    switch (routeSegments.length) {\n      // --> /globals/:globalSlug\n      case 2: {\n        View = getCustomDocumentViewByKey(views, 'default') || DefaultEditView\n        break\n      }\n\n      case 3: {\n        // --> /globals/:globalSlug/api\n        // --> /globals/:globalSlug/versions\n        // --> /globals/:globalSlug/<custom-segment>\n        switch (segment3) {\n          // --> /globals/:globalSlug/api\n          case 'api': {\n            if (globalConfig?.admin?.hideAPIURL !== true) {\n              View = getCustomDocumentViewByKey(views, 'api') || DefaultAPIView\n            }\n\n            break\n          }\n\n          case 'versions': {\n            // --> /globals/:globalSlug/versions\n            if (docPermissions?.readVersions) {\n              View = getCustomDocumentViewByKey(views, 'versions') || DefaultVersionsView\n            } else {\n              View = UnauthorizedViewWithGutter\n            }\n            break\n          }\n\n          // --> /globals/:globalSlug/<custom-segment>\n          default: {\n            if (docPermissions?.read) {\n              const baseRoute = [adminRoute, globalEntity, globalSlug, segment3]\n                .filter(Boolean)\n                .join('/')\n\n              const currentRoute = [baseRoute, segment3, ...remainingSegments]\n                .filter(Boolean)\n                .join('/')\n\n              const { Component: CustomViewComponent, viewKey: customViewKey } =\n                getCustomViewByRoute({\n                  baseRoute,\n                  currentRoute,\n                  views,\n                })\n\n              if (customViewKey) {\n                viewKey = customViewKey\n\n                View = CustomViewComponent\n              } else {\n                View = DefaultEditView\n              }\n            } else {\n              View = UnauthorizedViewWithGutter\n            }\n            break\n          }\n        }\n        break\n      }\n\n      // --> /globals/:globalSlug/versions/:version\n      // --> /globals/:globalSlug/<custom-segment>/<custom-segment>\n      default: {\n        // --> /globals/:globalSlug/versions/:version\n        if (segment3 === 'versions') {\n          if (docPermissions?.readVersions) {\n            View = getCustomDocumentViewByKey(views, 'version') || DefaultVersionView\n          } else {\n            View = UnauthorizedViewWithGutter\n          }\n        } else {\n          // --> /globals/:globalSlug/<custom-segment>/<custom-segment>\n          const baseRoute = [adminRoute !== '/' && adminRoute, 'globals', globalSlug]\n            .filter(Boolean)\n            .join('/')\n\n          const currentRoute = [baseRoute, segment3, ...remainingSegments].filter(Boolean).join('/')\n\n          const { Component: CustomViewComponent, viewKey: customViewKey } = getCustomViewByRoute({\n            baseRoute,\n            currentRoute,\n            views,\n          })\n\n          if (customViewKey) {\n            viewKey = customViewKey\n            View = CustomViewComponent\n          }\n        }\n\n        break\n      }\n    }\n  }\n\n  return {\n    View,\n    viewKey,\n  }\n}\n"],"names":["APIView","DefaultAPIView","EditView","DefaultEditView","UnauthorizedViewWithGutter","VersionView","DefaultVersionView","VersionsView","DefaultVersionsView","getCustomDocumentViewByKey","getCustomViewByRoute","getDocumentView","collectionConfig","config","docPermissions","globalConfig","routeSegments","View","viewKey","routes","admin","adminRoute","views","components","read","Error","collectionEntity","collectionSlug","segment3","segment4","segment5","remainingSegments","length","create","baseRoute","filter","Boolean","join","currentRoute","Component","CustomViewComponent","customViewKey","hideAPIURL","readVersions","isTrashedVersionView","globalEntity","globalSlug"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 4719, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Document/getIsLocked.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Document/getIsLocked.ts"],"sourcesContent":["import type {\n  PayloadRequest,\n  SanitizedCollectionConfig,\n  SanitizedGlobalConfig,\n  TypedUser,\n  Where,\n} from 'payload'\n\nimport { sanitizeID } from '@payloadcms/ui/shared'\nimport { extractID } from 'payload/shared'\n\ntype Args = {\n  collectionConfig?: SanitizedCollectionConfig\n  globalConfig?: SanitizedGlobalConfig\n  id?: number | string\n  isEditing: boolean\n  req: PayloadRequest\n}\n\ntype Result = Promise<{\n  currentEditor?: TypedUser\n  isLocked: boolean\n  lastUpdateTime?: number\n}>\n\nexport const getIsLocked = async ({\n  id,\n  collectionConfig,\n  globalConfig,\n  isEditing,\n  req,\n}: Args): Result => {\n  const entityConfig = collectionConfig || globalConfig\n\n  const entityHasLockingEnabled =\n    entityConfig?.lockDocuments !== undefined ? entityConfig?.lockDocuments : true\n\n  // Check if the locked-documents collection exists\n  if (!req.payload.collections?.['payload-locked-documents']) {\n    // If the collection doesn't exist, locking is not available\n    return {\n      isLocked: false,\n    }\n  }\n\n  if (!entityHasLockingEnabled || !isEditing) {\n    return {\n      isLocked: false,\n    }\n  }\n\n  const where: Where = {}\n\n  const lockDurationDefault = 300 // Default 5 minutes in seconds\n  const lockDuration =\n    typeof entityConfig.lockDocuments === 'object'\n      ? entityConfig.lockDocuments.duration\n      : lockDurationDefault\n  const lockDurationInMilliseconds = lockDuration * 1000\n\n  const now = new Date().getTime()\n\n  if (globalConfig) {\n    where.and = [\n      {\n        globalSlug: {\n          equals: globalConfig.slug,\n        },\n      },\n      {\n        updatedAt: {\n          greater_than: new Date(now - lockDurationInMilliseconds),\n        },\n      },\n    ]\n  } else {\n    where.and = [\n      {\n        'document.value': {\n          equals: sanitizeID(id),\n        },\n      },\n      {\n        'document.relationTo': {\n          equals: collectionConfig.slug,\n        },\n      },\n      {\n        updatedAt: {\n          greater_than: new Date(now - lockDurationInMilliseconds),\n        },\n      },\n    ]\n  }\n\n  const { docs } = await req.payload.find({\n    collection: 'payload-locked-documents',\n    depth: 1,\n    overrideAccess: false,\n    req,\n    where,\n  })\n\n  if (docs.length > 0) {\n    const currentEditor = docs[0].user?.value\n    const lastUpdateTime = new Date(docs[0].updatedAt).getTime()\n\n    if (extractID(currentEditor) !== req.user.id) {\n      return {\n        currentEditor,\n        isLocked: true,\n        lastUpdateTime,\n      }\n    }\n  }\n\n  return {\n    isLocked: false,\n  }\n}\n"],"names":["sanitizeID","extractID","getIsLocked","id","collectionConfig","globalConfig","isEditing","req","entityConfig","entityHasLockingEnabled","lockDocuments","undefined","payload","collections","isLocked","where","lockDurationDefault","lockDuration","duration","lockDurationInMilliseconds","now","Date","getTime","and","globalSlug","equals","slug","updatedAt","greater_than","docs","find","collection","depth","overrideAccess","length","currentEditor","user","value","lastUpdateTime"],"mappings":";;;;AAQA,SAASA,UAAU,QAAQ;AAC3B,SAASC,SAAS,QAAQ;;;;;;;;AAgBnB,MAAMC,WAAA,GAAc,MAAAA,CAAO,EAChCC,EAAE,EACFC,gBAAgB,EAChBC,YAAY,EACZC,SAAS,EACTC,GAAAA,EACK;IACL,MAAMC,YAAA,GAAeJ,gBAAA,IAAoBC,YAAA;IAEzC,MAAMI,uBAAA,GACJD,YAAA,EAAcE,aAAA,KAAkBC,SAAA,GAAYH,YAAA,EAAcE,aAAA,GAAgB;IAE5E,kDAAA;IACA,IAAI,CAACH,GAAA,CAAIK,OAAO,CAACC,WAAW,EAAA,CAAG,2BAA2B,EAAE;QAC1D,4DAAA;QACA,OAAO;YACLC,QAAA,EAAU;QACZ;IACF;IAEA,IAAI,CAACL,uBAAA,IAA2B,CAACH,SAAA,EAAW;QAC1C,OAAO;YACLQ,QAAA,EAAU;QACZ;IACF;IAEA,MAAMC,KAAA,GAAe,CAAC;IAEtB,MAAMC,mBAAA,GAAsB,IAAI,+BAAA;;IAChC,MAAMC,YAAA,GACJ,OAAOT,YAAA,CAAaE,aAAa,KAAK,WAClCF,YAAA,CAAaE,aAAa,CAACQ,QAAQ,GACnCF,mBAAA;IACN,MAAMG,0BAAA,GAA6BF,YAAA,GAAe;IAElD,MAAMG,GAAA,GAAM,IAAIC,IAAA,GAAOC,OAAO;IAE9B,IAAIjB,YAAA,EAAc;QAChBU,KAAA,CAAMQ,GAAG,GAAG;YACV;gBACEC,UAAA,EAAY;oBACVC,MAAA,EAAQpB,YAAA,CAAaqB,IAAAA;gBACvB;YACF;YACA;gBACEC,SAAA,EAAW;oBACTC,YAAA,EAAc,IAAIP,IAAA,CAAKD,GAAA,GAAMD,0BAAA;gBAC/B;YACF;SACD;IACH,OAAO;QACLJ,KAAA,CAAMQ,GAAG,GAAG;YACV;gBACE,kBAAkB;oBAChBE,MAAA,MAAQzB,sMAAA,EAAWG,EAAA;gBACrB;YACF;YACA;gBACE,uBAAuB;oBACrBsB,MAAA,EAAQrB,gBAAA,CAAiBsB,IAAAA;gBAC3B;YACF;YACA;gBACEC,SAAA,EAAW;oBACTC,YAAA,EAAc,IAAIP,IAAA,CAAKD,GAAA,GAAMD,0BAAA;gBAC/B;YACF;SACD;IACH;IAEA,MAAM,EAAEU,IAAAA,EAAM,GAAG,MAAMtB,GAAA,CAAIK,OAAO,CAACkB,IAAI,CAAC;QACtCC,UAAA,EAAY;QACZC,KAAA,EAAO;QACPC,cAAA,EAAgB;QAChB1B,GAAA;QACAQ;IACF;IAEA,IAAIc,IAAA,CAAKK,MAAM,GAAG,GAAG;QACnB,MAAMC,aAAA,GAAgBN,IAAI,CAAC,EAAE,CAACO,IAAI,EAAEC,KAAA;QACpC,MAAMC,cAAA,GAAiB,IAAIjB,IAAA,CAAKQ,IAAI,CAAC,EAAE,CAACF,SAAS,EAAEL,OAAO;QAE1D,QAAIrB,6LAAA,EAAUkC,aAAA,MAAmB5B,GAAA,CAAI6B,IAAI,CAACjC,EAAE,EAAE;YAC5C,OAAO;gBACLgC,aAAA;gBACArB,QAAA,EAAU;gBACVwB;YACF;QACF;IACF;IAEA,OAAO;QACLxB,QAAA,EAAU;IACZ;AACF","ignoreList":[]}},
    {"offset": {"line": 4812, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/utilities/meta.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/utilities/meta.ts"],"sourcesContent":["import type { Metadata } from 'next'\nimport type { Icon } from 'next/dist/lib/metadata/types/metadata-types.js'\nimport type { MetaConfig } from 'payload'\n\nimport { payloadFaviconDark, payloadFaviconLight, staticOGImage } from '@payloadcms/ui/assets'\nimport * as qs from 'qs-esm'\n\nconst defaultOpenGraph: Metadata['openGraph'] = {\n  description:\n    'Payload is a headless CMS and application framework built with TypeScript, Node.js, and React.',\n  siteName: 'Payload App',\n  title: 'Payload App',\n}\n\nexport const generateMetadata = async (\n  args: { serverURL: string } & MetaConfig,\n): Promise<Metadata> => {\n  const { defaultOGImageType, serverURL, titleSuffix, ...rest } = args\n\n  /**\n   * @todo find a way to remove the type assertion here.\n   * It is a result of needing to `DeepCopy` the `MetaConfig` type from Payload.\n   * This is required for the `DeepRequired` from `Config` to `SanitizedConfig`.\n   */\n  const incomingMetadata = rest as Metadata\n\n  const icons: Metadata['icons'] =\n    incomingMetadata.icons ||\n    ([\n      {\n        type: 'image/png',\n        rel: 'icon',\n        sizes: '32x32',\n        url: typeof payloadFaviconDark === 'object' ? payloadFaviconDark?.src : payloadFaviconDark,\n      },\n      {\n        type: 'image/png',\n        media: '(prefers-color-scheme: dark)',\n        rel: 'icon',\n        sizes: '32x32',\n        url:\n          typeof payloadFaviconLight === 'object' ? payloadFaviconLight?.src : payloadFaviconLight,\n      },\n    ] satisfies Array<Icon>)\n\n  const metaTitle: Metadata['title'] = [incomingMetadata.title, titleSuffix]\n    .filter(Boolean)\n    .join(' ')\n\n  const ogTitle = `${typeof incomingMetadata.openGraph?.title === 'string' ? incomingMetadata.openGraph.title : incomingMetadata.title} ${titleSuffix}`\n\n  const mergedOpenGraph: Metadata['openGraph'] = {\n    ...(defaultOpenGraph || {}),\n    ...(defaultOGImageType === 'dynamic'\n      ? {\n          images: [\n            {\n              alt: ogTitle,\n              height: 630,\n              url: `/api/og${qs.stringify(\n                {\n                  description:\n                    incomingMetadata.openGraph?.description || defaultOpenGraph.description,\n                  title: ogTitle,\n                },\n                {\n                  addQueryPrefix: true,\n                },\n              )}`,\n              width: 1200,\n            },\n          ],\n        }\n      : {}),\n    ...(defaultOGImageType === 'static'\n      ? {\n          images: [\n            {\n              alt: ogTitle,\n              height: 480,\n              url: typeof staticOGImage === 'object' ? staticOGImage?.src : staticOGImage,\n              width: 640,\n            },\n          ],\n        }\n      : {}),\n    title: ogTitle,\n    ...(incomingMetadata.openGraph || {}),\n  }\n\n  return Promise.resolve({\n    ...incomingMetadata,\n    icons,\n    metadataBase: new URL(\n      serverURL ||\n        process.env.PAYLOAD_PUBLIC_SERVER_URL ||\n        `http://localhost:${process.env.PORT || 3000}`,\n    ),\n    openGraph: mergedOpenGraph,\n    title: metaTitle,\n  })\n}\n"],"names":["payloadFaviconDark","payloadFaviconLight","staticOGImage","qs","defaultOpenGraph","description","siteName","title","generateMetadata","args","defaultOGImageType","serverURL","titleSuffix","rest","incomingMetadata","icons","type","rel","sizes","url","src","media","metaTitle","filter","Boolean","join","ogTitle","openGraph","mergedOpenGraph","images","alt","height","stringify","addQueryPrefix","width","Promise","resolve","metadataBase","URL","process","env","PAYLOAD_PUBLIC_SERVER_URL","PORT"],"mappings":";;;;;;AAIA,SAASA,kBAAkB,EAAEC,mBAAmB,EAAEC,aAAa,QAAQ;AACvE,YAAYC,EAAA,MAAQ;;;AAEpB,MAAMC,gBAAA,GAA0C;IAC9CC,WAAA,EACE;IACFC,QAAA,EAAU;IACVC,KAAA,EAAO;AACT;AAEO,MAAMC,gBAAA,GAAmB,OAC9BC,IAAA;IAEA,MAAM,EAAEC,kBAAkB,EAAEC,SAAS,EAAEC,WAAW,EAAE,GAAGC,MAAM,GAAGJ,IAAA;IAEhE;;;;KAKA,MAAMK,gBAAA,GAAmBD,IAAA;IAEzB,MAAME,KAAA,GACJD,gBAAA,CAAiBC,KAAK,IACrB;QACC;YACEC,IAAA,EAAM;YACNC,GAAA,EAAK;YACLC,KAAA,EAAO;YACPC,GAAA,EAAK,OAAOnB,kPAAA,KAAuB,WAAWA,kPAAA,EAAoBoB,GAAA,GAAMpB,kPAAAA;QAC1E;QACA;YACEgB,IAAA,EAAM;YACNK,KAAA,EAAO;YACPJ,GAAA,EAAK;YACLC,KAAA,EAAO;YACPC,GAAA,EACE,OAAOlB,qPAAA,KAAwB,WAAWA,qPAAA,EAAqBmB,GAAA,GAAMnB,qPAAAA;QACzE;KACD;IAEH,MAAMqB,SAAA,GAA+B;QAACR,gBAAA,CAAiBP,KAAK;QAAEK,WAAA;KAAY,CACvEW,MAAM,CAACC,OAAA,EACPC,IAAI,CAAC;IAER,MAAMC,OAAA,GAAU,GAAG,OAAOZ,gBAAA,CAAiBa,SAAS,EAAEpB,KAAA,KAAU,WAAWO,gBAAA,CAAiBa,SAAS,CAACpB,KAAK,GAAGO,gBAAA,CAAiBP,KAAK,CAAA,CAAA,EAAIK,WAAA,EAAa;IAErJ,MAAMgB,eAAA,GAAyC;QAC7C,GAAIxB,gBAAA,IAAoB,CAAC,CAAC;QAC1B,GAAIM,kBAAA,KAAuB,YACvB;YACEmB,MAAA,EAAQ;gBACN;oBACEC,GAAA,EAAKJ,OAAA;oBACLK,MAAA,EAAQ;oBACRZ,GAAA,EAAK,CAAA,OAAA,EAAUhB,EAAA,CAAG6B,uJAAS,CACzB;wBACE3B,WAAA,EACES,gBAAA,CAAiBa,SAAS,EAAEtB,WAAA,IAAeD,gBAAA,CAAiBC,WAAW;wBACzEE,KAAA,EAAOmB;oBACT,GACA;wBACEO,cAAA,EAAgB;oBAClB,IACC;oBACHC,KAAA,EAAO;gBACT;aAAA;QAEJ,IACA,CAAC,CAAC;QACN,GAAIxB,kBAAA,KAAuB,WACvB;YACEmB,MAAA,EAAQ;gBACN;oBACEC,GAAA,EAAKJ,OAAA;oBACLK,MAAA,EAAQ;oBACRZ,GAAA,EAAK,OAAOjB,mOAAA,KAAkB,WAAWA,mOAAA,EAAekB,GAAA,GAAMlB,mOAAA;oBAC9DgC,KAAA,EAAO;gBACT;aAAA;QAEJ,IACA,CAAC,CAAC;QACN3B,KAAA,EAAOmB,OAAA;QACP,GAAIZ,gBAAA,CAAiBa,SAAS,IAAI,CAAC,CAAC;IACtC;IAEA,OAAOQ,OAAA,CAAQC,OAAO,CAAC;QACrB,GAAGtB,gBAAgB;QACnBC,KAAA;QACAsB,YAAA,EAAc,IAAIC,GAAA,CAChB3B,SAAA,IACE4B,OAAA,CAAQC,GAAG,CAACC,yBAAyB,IACrC,CAAA,iBAAA,EAAoBF,OAAA,CAAQC,GAAG,CAACE,IAAI,IAAI,MAAM;QAElDf,SAAA,EAAWC,eAAA;QACXrB,KAAA,EAAOe;IACT;AACF","ignoreList":[]}},
    {"offset": {"line": 4896, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/API/metadata.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/API/metadata.ts"],"sourcesContent":["import type { MetaConfig } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\n\nimport type { GenerateEditViewMetadata } from '../Document/getMetaBySegment.js'\n\nimport { generateMetadata } from '../../utilities/meta.js'\n\n/**\n * @todo Remove the `MetaConfig` type assertions. They are currently required because of how the `Metadata` type from `next` consumes the `URL` type.\n */\nexport const generateAPIViewMetadata: GenerateEditViewMetadata = async ({\n  collectionConfig,\n  config,\n  globalConfig,\n  i18n,\n}) => {\n  const entityLabel = collectionConfig\n    ? getTranslation(collectionConfig.labels.singular, i18n)\n    : globalConfig\n      ? getTranslation(globalConfig.label, i18n)\n      : ''\n\n  return Promise.resolve(\n    generateMetadata({\n      ...(config.admin.meta || {}),\n      description: `API - ${entityLabel}`,\n      keywords: 'API',\n      serverURL: config.serverURL,\n      title: `API - ${entityLabel}`,\n      ...((collectionConfig\n        ? {\n            ...(collectionConfig?.admin.meta || {}),\n            ...(collectionConfig?.admin?.components?.views?.edit?.api?.meta || {}),\n          }\n        : {}) as MetaConfig),\n      ...((globalConfig\n        ? {\n            ...(globalConfig?.admin.meta || {}),\n            ...(globalConfig?.admin?.components?.views?.edit?.api?.meta || {}),\n          }\n        : {}) as MetaConfig),\n    }),\n  )\n}\n"],"names":["getTranslation","generateMetadata","generateAPIViewMetadata","collectionConfig","config","globalConfig","i18n","entityLabel","labels","singular","label","Promise","resolve","admin","meta","description","keywords","serverURL","title","components","views","edit","api"],"mappings":";;;;AAEA,SAASA,cAAc,QAAQ;AAI/B,SAASC,gBAAgB,QAAQ;;;AAK1B,MAAMC,uBAAA,GAAoD,MAAAA,CAAO,EACtEC,gBAAgB,EAChBC,MAAM,EACNC,YAAY,EACZC,IAAAA,EACD;IACC,MAAMC,WAAA,GAAcJ,gBAAA,OAChBH,qMAAA,EAAeG,gBAAA,CAAiBK,MAAM,CAACC,QAAQ,EAAEH,IAAA,IACjDD,YAAA,OACEL,qMAAA,EAAeK,YAAA,CAAaK,KAAK,EAAEJ,IAAA,IACnC;IAEN,OAAOK,OAAA,CAAQC,OAAO,KACpBX,qLAAA,EAAiB;QACf,GAAIG,MAAA,CAAOS,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;QAC3BC,WAAA,EAAa,CAAA,MAAA,EAASR,WAAA,EAAa;QACnCS,QAAA,EAAU;QACVC,SAAA,EAAWb,MAAA,CAAOa,SAAS;QAC3BC,KAAA,EAAO,CAAA,MAAA,EAASX,WAAA,EAAa;QAC7B,GAAKJ,gBAAA,GACD;YACE,GAAIA,gBAAA,EAAkBU,KAAA,CAAMC,IAAA,IAAQ,CAAC,CAAC;YACtC,GAAIX,gBAAA,EAAkBU,KAAA,EAAOM,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAMC,GAAA,EAAKR,IAAA,IAAQ,CAAC,CAAC;QACvE,IACA,CAAC,CAAC;QACN,GAAKT,YAAA,GACD;YACE,GAAIA,YAAA,EAAcQ,KAAA,CAAMC,IAAA,IAAQ,CAAC,CAAC;YAClC,GAAIT,YAAA,EAAcQ,KAAA,EAAOM,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAMC,GAAA,EAAKR,IAAA,IAAQ,CAAC,CAAC;QACnE,IACA,CAAC,CAAC;IACR;AAEJ","ignoreList":[]}},
    {"offset": {"line": 4926, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Edit/metadata.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Edit/metadata.ts"],"sourcesContent":["import type { Metadata } from 'next'\nimport type { MetaConfig } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\n\nimport type { GenerateEditViewMetadata } from '../Document/getMetaBySegment.js'\n\nimport { generateMetadata } from '../../utilities/meta.js'\n\n/**\n * @todo Remove the type assertion. This is currently required because of how the `Metadata` type from `next` consumes the `URL` type.\n */\nexport const generateEditViewMetadata: GenerateEditViewMetadata = async ({\n  collectionConfig,\n  config,\n  globalConfig,\n  i18n,\n  isEditing,\n  isReadOnly = false,\n  view = 'default',\n}): Promise<Metadata> => {\n  const { t } = i18n\n\n  const entityLabel = collectionConfig\n    ? getTranslation(collectionConfig.labels.singular, i18n)\n    : globalConfig\n      ? getTranslation(globalConfig.label, i18n)\n      : ''\n\n  const verb = isReadOnly\n    ? t('general:viewing')\n    : isEditing\n      ? t('general:editing')\n      : t('general:creating')\n\n  const metaToUse: MetaConfig = {\n    ...(config.admin.meta || {}),\n    description: `${verb} - ${entityLabel}`,\n    keywords: `${entityLabel}, Payload, CMS`,\n    title: `${verb} - ${entityLabel}`,\n  }\n\n  const ogToUse: MetaConfig['openGraph'] = {\n    title: `${isEditing ? t('general:edit') : t('general:edit')} - ${entityLabel}`,\n    ...(config.admin.meta.openGraph || {}),\n    ...((collectionConfig\n      ? {\n          ...(collectionConfig?.admin.meta?.openGraph || {}),\n          ...(collectionConfig?.admin?.components?.views?.edit?.[view]?.meta?.openGraph || {}),\n        }\n      : {}) as MetaConfig['openGraph']),\n    ...((globalConfig\n      ? {\n          ...(globalConfig?.admin.meta?.openGraph || {}),\n          ...(globalConfig?.admin?.components?.views?.edit?.[view]?.meta?.openGraph || {}),\n        }\n      : {}) as MetaConfig['openGraph']),\n  }\n\n  return generateMetadata({\n    ...metaToUse,\n    openGraph: ogToUse,\n    ...((collectionConfig\n      ? {\n          ...(collectionConfig?.admin.meta || {}),\n          ...(collectionConfig?.admin?.components?.views?.edit?.[view]?.meta || {}),\n        }\n      : {}) as MetaConfig),\n    ...((globalConfig\n      ? {\n          ...(globalConfig?.admin.meta || {}),\n          ...(globalConfig?.admin?.components?.views?.edit?.[view]?.meta || {}),\n        }\n      : {}) as MetaConfig),\n    serverURL: config.serverURL,\n  })\n}\n"],"names":["getTranslation","generateMetadata","generateEditViewMetadata","collectionConfig","config","globalConfig","i18n","isEditing","isReadOnly","view","t","entityLabel","labels","singular","label","verb","metaToUse","admin","meta","description","keywords","title","ogToUse","openGraph","components","views","edit","serverURL"],"mappings":";;;;AAGA,SAASA,cAAc,QAAQ;AAI/B,SAASC,gBAAgB,QAAQ;;;AAK1B,MAAMC,wBAAA,GAAqD,MAAAA,CAAO,EACvEC,gBAAgB,EAChBC,MAAM,EACNC,YAAY,EACZC,IAAI,EACJC,SAAS,EACTC,UAAA,GAAa,KAAK,EAClBC,IAAA,GAAO,SAAA,EACR;IACC,MAAM,EAAEC,CAAAA,EAAG,GAAGJ,IAAA;IAEd,MAAMK,WAAA,GAAcR,gBAAA,OAChBH,qMAAA,EAAeG,gBAAA,CAAiBS,MAAM,CAACC,QAAQ,EAAEP,IAAA,IACjDD,YAAA,OACEL,qMAAA,EAAeK,YAAA,CAAaS,KAAK,EAAER,IAAA,IACnC;IAEN,MAAMS,IAAA,GAAOP,UAAA,GACTE,CAAA,CAAE,qBACFH,SAAA,GACEG,CAAA,CAAE,qBACFA,CAAA,CAAE;IAER,MAAMM,SAAA,GAAwB;QAC5B,GAAIZ,MAAA,CAAOa,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;QAC3BC,WAAA,EAAa,GAAGJ,IAAA,CAAA,GAAA,EAAUJ,WAAA,EAAa;QACvCS,QAAA,EAAU,GAAGT,WAAA,CAAA,cAAA,CAA2B;QACxCU,KAAA,EAAO,GAAGN,IAAA,CAAA,GAAA,EAAUJ,WAAA,EAAA;IACtB;IAEA,MAAMW,OAAA,GAAmC;QACvCD,KAAA,EAAO,GAAGd,SAAA,GAAYG,CAAA,CAAE,kBAAkBA,CAAA,CAAE,gBAAA,GAAA,EAAqBC,WAAA,EAAa;QAC9E,GAAIP,MAAA,CAAOa,KAAK,CAACC,IAAI,CAACK,SAAS,IAAI,CAAC,CAAC;QACrC,GAAKpB,gBAAA,GACD;YACE,GAAIA,gBAAA,EAAkBc,KAAA,CAAMC,IAAA,EAAMK,SAAA,IAAa,CAAC,CAAC;YACjD,GAAIpB,gBAAA,EAAkBc,KAAA,EAAOO,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAA,CAAOjB,IAAA,CAAK,EAAES,IAAA,EAAMK,SAAA,IAAa,CAAC,CAAC;QACrF,IACA,CAAC,CAAC;QACN,GAAKlB,YAAA,GACD;YACE,GAAIA,YAAA,EAAcY,KAAA,CAAMC,IAAA,EAAMK,SAAA,IAAa,CAAC,CAAC;YAC7C,GAAIlB,YAAA,EAAcY,KAAA,EAAOO,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAA,CAAOjB,IAAA,CAAK,EAAES,IAAA,EAAMK,SAAA,IAAa,CAAC,CAAC;QACjF,IACA,CAAC,CAAC;IACR;IAEA,WAAOtB,qLAAA,EAAiB;QACtB,GAAGe,SAAS;QACZO,SAAA,EAAWD,OAAA;QACX,GAAKnB,gBAAA,GACD;YACE,GAAIA,gBAAA,EAAkBc,KAAA,CAAMC,IAAA,IAAQ,CAAC,CAAC;YACtC,GAAIf,gBAAA,EAAkBc,KAAA,EAAOO,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAA,CAAOjB,IAAA,CAAK,EAAES,IAAA,IAAQ,CAAC,CAAC;QAC1E,IACA,CAAC,CAAC;QACN,GAAKb,YAAA,GACD;YACE,GAAIA,YAAA,EAAcY,KAAA,CAAMC,IAAA,IAAQ,CAAC,CAAC;YAClC,GAAIb,YAAA,EAAcY,KAAA,EAAOO,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAA,CAAOjB,IAAA,CAAK,EAAES,IAAA,IAAQ,CAAC,CAAC;QACtE,IACA,CAAC,CAAC;QACNS,SAAA,EAAWvB,MAAA,CAAOuB,SAAAA;IACpB;AACF","ignoreList":[]}},
    {"offset": {"line": 4974, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/NotFound/metadata.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/NotFound/metadata.ts"],"sourcesContent":["import type { I18nClient } from '@payloadcms/translations'\nimport type { Metadata } from 'next'\nimport type { SanitizedConfig } from 'payload'\n\nimport { generateMetadata } from '../../utilities/meta.js'\n\nexport const generateNotFoundViewMetadata = async ({\n  config,\n  i18n,\n}: {\n  config: SanitizedConfig\n  i18n: I18nClient\n}): Promise<Metadata> =>\n  generateMetadata({\n    description: i18n.t('general:pageNotFound'),\n    keywords: `404 ${i18n.t('general:notFound')}`,\n    serverURL: config.serverURL,\n    title: i18n.t('general:notFound'),\n  })\n"],"names":["generateMetadata","generateNotFoundViewMetadata","config","i18n","description","t","keywords","serverURL","title"],"mappings":";;;;AAIA,SAASA,gBAAgB,QAAQ;;AAE1B,MAAMC,4BAAA,GAA+B,MAAAA,CAAO,EACjDC,MAAM,EACNC,IAAAA,EAID,OACCH,qLAAA,EAAiB;QACfI,WAAA,EAAaD,IAAA,CAAKE,CAAC,CAAC;QACpBC,QAAA,EAAU,CAAA,IAAA,EAAOH,IAAA,CAAKE,CAAC,CAAC,qBAAqB;QAC7CE,SAAA,EAAWL,MAAA,CAAOK,SAAS;QAC3BC,KAAA,EAAOL,IAAA,CAAKE,CAAC,CAAC;IAChB","ignoreList":[]}},
    {"offset": {"line": 4992, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Version/metadata.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Version/metadata.ts"],"sourcesContent":["import type { Metadata } from 'next'\nimport type { MetaConfig } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { formatDate } from '@payloadcms/ui/shared'\n\nimport type { GenerateEditViewMetadata } from '../Document/getMetaBySegment.js'\n\nimport { generateMetadata } from '../../utilities/meta.js'\n\n/**\n * @todo Remove the `MetaConfig` type assertions. They are currently required because of how the `Metadata` type from `next` consumes the `URL` type.\n */\nexport const generateVersionViewMetadata: GenerateEditViewMetadata = async ({\n  collectionConfig,\n  config,\n  globalConfig,\n  i18n,\n}): Promise<Metadata> => {\n  const { t } = i18n\n\n  let metaToUse: MetaConfig = {\n    ...(config.admin.meta || {}),\n  }\n\n  const doc: any = {} // TODO: figure this out\n\n  const formattedCreatedAt = doc?.createdAt\n    ? formatDate({ date: doc.createdAt, i18n, pattern: config?.admin?.dateFormat })\n    : ''\n\n  if (collectionConfig) {\n    const useAsTitle = collectionConfig?.admin?.useAsTitle || 'id'\n    const entityLabel = getTranslation(collectionConfig.labels.singular, i18n)\n    const titleFromData = doc?.[useAsTitle]\n\n    metaToUse = {\n      ...(config.admin.meta || {}),\n      description: t('version:viewingVersion', { documentTitle: titleFromData, entityLabel }),\n      title: `${t('version:version')}${formattedCreatedAt ? ` - ${formattedCreatedAt}` : ''}${titleFromData ? ` - ${titleFromData}` : ''} - ${entityLabel}`,\n      ...(collectionConfig?.admin?.meta || {}),\n      ...(collectionConfig?.admin?.components?.views?.edit?.version?.meta || {}),\n    }\n  }\n\n  if (globalConfig) {\n    const entityLabel = getTranslation(globalConfig.label, i18n)\n\n    metaToUse = {\n      ...(config.admin.meta || {}),\n      description: t('version:viewingVersionGlobal', { entityLabel }),\n      title: `${t('version:version')}${formattedCreatedAt ? ` - ${formattedCreatedAt}` : ''}${entityLabel}`,\n      ...((globalConfig?.admin?.meta || {}) as MetaConfig),\n      ...((globalConfig?.admin?.components?.views?.edit?.version?.meta || {}) as MetaConfig),\n    }\n  }\n\n  return generateMetadata({\n    ...metaToUse,\n    serverURL: config.serverURL,\n  })\n}\n"],"names":["getTranslation","formatDate","generateMetadata","generateVersionViewMetadata","collectionConfig","config","globalConfig","i18n","t","metaToUse","admin","meta","doc","formattedCreatedAt","createdAt","date","pattern","dateFormat","useAsTitle","entityLabel","labels","singular","titleFromData","description","documentTitle","title","components","views","edit","version","label","serverURL"],"mappings":";;;;AAGA,SAASA,cAAc,QAAQ;AAC/B,SAASC,UAAU,QAAQ;AAI3B,SAASC,gBAAgB,QAAQ;;;;;;;;AAK1B,MAAMC,2BAAA,GAAwD,MAAAA,CAAO,EAC1EC,gBAAgB,EAChBC,MAAM,EACNC,YAAY,EACZC,IAAAA,EACD;IACC,MAAM,EAAEC,CAAAA,EAAG,GAAGD,IAAA;IAEd,IAAIE,SAAA,GAAwB;QAC1B,GAAIJ,MAAA,CAAOK,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;IAC7B;IAEA,MAAMC,GAAA,GAAW,CAAC,EAAE,wBAAA;;IAEpB,MAAMC,kBAAA,GAAqBD,GAAA,EAAKE,SAAA,OAC5Bb,sMAAA,EAAW;QAAEc,IAAA,EAAMH,GAAA,CAAIE,SAAS;QAAEP,IAAA;QAAMS,OAAA,EAASX,MAAA,EAAQK,KAAA,EAAOO;IAAW,KAC3E;IAEJ,IAAIb,gBAAA,EAAkB;QACpB,MAAMc,UAAA,GAAad,gBAAA,EAAkBM,KAAA,EAAOQ,UAAA,IAAc;QAC1D,MAAMC,WAAA,OAAcnB,qMAAA,EAAeI,gBAAA,CAAiBgB,MAAM,CAACC,QAAQ,EAAEd,IAAA;QACrE,MAAMe,aAAA,GAAgBV,GAAA,EAAA,CAAMM,UAAA,CAAW;QAEvCT,SAAA,GAAY;YACV,GAAIJ,MAAA,CAAOK,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;YAC3BY,WAAA,EAAaf,CAAA,CAAE,0BAA0B;gBAAEgB,aAAA,EAAeF,aAAA;gBAAeH;YAAY;YACrFM,KAAA,EAAO,GAAGjB,CAAA,CAAE,qBAAqBK,kBAAA,GAAqB,CAAA,GAAA,EAAMA,kBAAA,EAAoB,GAAG,KAAKS,aAAA,GAAgB,CAAA,GAAA,EAAMA,aAAA,EAAe,GAAG,GAAA,GAAA,EAAQH,WAAA,EAAa;YACrJ,GAAIf,gBAAA,EAAkBM,KAAA,EAAOC,IAAA,IAAQ,CAAC,CAAC;YACvC,GAAIP,gBAAA,EAAkBM,KAAA,EAAOgB,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAMC,OAAA,EAASlB,IAAA,IAAQ,CAAC,CAAC;QAC3E;IACF;IAEA,IAAIL,YAAA,EAAc;QAChB,MAAMa,WAAA,OAAcnB,qMAAA,EAAeM,YAAA,CAAawB,KAAK,EAAEvB,IAAA;QAEvDE,SAAA,GAAY;YACV,GAAIJ,MAAA,CAAOK,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;YAC3BY,WAAA,EAAaf,CAAA,CAAE,gCAAgC;gBAAEW;YAAY;YAC7DM,KAAA,EAAO,GAAGjB,CAAA,CAAE,qBAAqBK,kBAAA,GAAqB,CAAA,GAAA,EAAMA,kBAAA,EAAoB,GAAG,KAAKM,WAAA,EAAa;YACrG,GAAKb,YAAA,EAAcI,KAAA,EAAOC,IAAA,IAAQ,CAAC,CAAC;YACpC,GAAKL,YAAA,EAAcI,KAAA,EAAOgB,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAMC,OAAA,EAASlB,IAAA,IAAQ,CAAC,CAAC;QACxE;IACF;IAEA,WAAOT,qLAAA,EAAiB;QACtB,GAAGO,SAAS;QACZsB,SAAA,EAAW1B,MAAA,CAAO0B,SAAAA;IACpB;AACF","ignoreList":[]}},
    {"offset": {"line": 5055, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Versions/metadata.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Versions/metadata.ts"],"sourcesContent":["import type { Metadata } from 'next'\nimport type { MetaConfig } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\n\nimport type { GenerateEditViewMetadata } from '../Document/getMetaBySegment.js'\n\nimport { generateMetadata } from '../../utilities/meta.js'\n\n/**\n * @todo Remove the `MetaConfig` type assertions. They are currently required because of how the `Metadata` type from `next` consumes the `URL` type.\n */\nexport const generateVersionsViewMetadata: GenerateEditViewMetadata = async ({\n  collectionConfig,\n  config,\n  globalConfig,\n  i18n,\n}): Promise<Metadata> => {\n  const { t } = i18n\n\n  const entityLabel = collectionConfig\n    ? getTranslation(collectionConfig.labels.singular, i18n)\n    : globalConfig\n      ? getTranslation(globalConfig.label, i18n)\n      : ''\n\n  let metaToUse: MetaConfig = {\n    ...(config.admin.meta || {}),\n  }\n\n  const data: any = {} // TODO: figure this out\n\n  if (collectionConfig) {\n    const useAsTitle = collectionConfig?.admin?.useAsTitle || 'id'\n    const titleFromData = data?.[useAsTitle]\n\n    metaToUse = {\n      ...(config.admin.meta || {}),\n      description: t('version:viewingVersions', {\n        documentTitle: data?.[useAsTitle],\n        entitySlug: collectionConfig.slug,\n      }),\n      title: `${t('version:versions')}${titleFromData ? ` - ${titleFromData}` : ''} - ${entityLabel}`,\n      ...(collectionConfig?.admin.meta || {}),\n      ...(collectionConfig?.admin?.components?.views?.edit?.versions?.meta || {}),\n    }\n  }\n\n  if (globalConfig) {\n    metaToUse = {\n      ...(config.admin.meta || {}),\n      description: t('version:viewingVersionsGlobal', { entitySlug: globalConfig.slug }),\n      title: `${t('version:versions')} - ${entityLabel}`,\n      ...((globalConfig?.admin.meta || {}) as MetaConfig),\n      ...((globalConfig?.admin?.components?.views?.edit?.versions?.meta || {}) as MetaConfig),\n    }\n  }\n\n  return generateMetadata({\n    ...metaToUse,\n    serverURL: config.serverURL,\n  })\n}\n"],"names":["getTranslation","generateMetadata","generateVersionsViewMetadata","collectionConfig","config","globalConfig","i18n","t","entityLabel","labels","singular","label","metaToUse","admin","meta","data","useAsTitle","titleFromData","description","documentTitle","entitySlug","slug","title","components","views","edit","versions","serverURL"],"mappings":";;;;AAGA,SAASA,cAAc,QAAQ;AAI/B,SAASC,gBAAgB,QAAQ;;;AAK1B,MAAMC,4BAAA,GAAyD,MAAAA,CAAO,EAC3EC,gBAAgB,EAChBC,MAAM,EACNC,YAAY,EACZC,IAAAA,EACD;IACC,MAAM,EAAEC,CAAAA,EAAG,GAAGD,IAAA;IAEd,MAAME,WAAA,GAAcL,gBAAA,OAChBH,qMAAA,EAAeG,gBAAA,CAAiBM,MAAM,CAACC,QAAQ,EAAEJ,IAAA,IACjDD,YAAA,OACEL,qMAAA,EAAeK,YAAA,CAAaM,KAAK,EAAEL,IAAA,IACnC;IAEN,IAAIM,SAAA,GAAwB;QAC1B,GAAIR,MAAA,CAAOS,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;IAC7B;IAEA,MAAMC,IAAA,GAAY,CAAC,EAAE,wBAAA;;IAErB,IAAIZ,gBAAA,EAAkB;QACpB,MAAMa,UAAA,GAAab,gBAAA,EAAkBU,KAAA,EAAOG,UAAA,IAAc;QAC1D,MAAMC,aAAA,GAAgBF,IAAA,EAAA,CAAOC,UAAA,CAAW;QAExCJ,SAAA,GAAY;YACV,GAAIR,MAAA,CAAOS,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;YAC3BI,WAAA,EAAaX,CAAA,CAAE,2BAA2B;gBACxCY,aAAA,EAAeJ,IAAA,EAAA,CAAOC,UAAA,CAAW;gBACjCI,UAAA,EAAYjB,gBAAA,CAAiBkB,IAAAA;YAC/B;YACAC,KAAA,EAAO,GAAGf,CAAA,CAAE,sBAAsBU,aAAA,GAAgB,CAAA,GAAA,EAAMA,aAAA,EAAe,GAAG,GAAA,GAAA,EAAQT,WAAA,EAAa;YAC/F,GAAIL,gBAAA,EAAkBU,KAAA,CAAMC,IAAA,IAAQ,CAAC,CAAC;YACtC,GAAIX,gBAAA,EAAkBU,KAAA,EAAOU,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAMC,QAAA,EAAUZ,IAAA,IAAQ,CAAC,CAAC;QAC5E;IACF;IAEA,IAAIT,YAAA,EAAc;QAChBO,SAAA,GAAY;YACV,GAAIR,MAAA,CAAOS,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;YAC3BI,WAAA,EAAaX,CAAA,CAAE,iCAAiC;gBAAEa,UAAA,EAAYf,YAAA,CAAagB,IAAAA;YAAK;YAChFC,KAAA,EAAO,GAAGf,CAAA,CAAE,oBAAA,GAAA,EAAyBC,WAAA,EAAa;YAClD,GAAKH,YAAA,EAAcQ,KAAA,CAAMC,IAAA,IAAQ,CAAC,CAAC;YACnC,GAAKT,YAAA,EAAcQ,KAAA,EAAOU,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAMC,QAAA,EAAUZ,IAAA,IAAQ,CAAC,CAAC;QACzE;IACF;IAEA,WAAOb,qLAAA,EAAiB;QACtB,GAAGW,SAAS;QACZe,SAAA,EAAWvB,MAAA,CAAOuB,SAAAA;IACpB;AACF","ignoreList":[]}},
    {"offset": {"line": 5107, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Document/getMetaBySegment.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Document/getMetaBySegment.tsx"],"sourcesContent":["import type { Metadata } from 'next'\nimport type { EditConfig, SanitizedCollectionConfig, SanitizedGlobalConfig } from 'payload'\n\nimport type { GenerateViewMetadata } from '../Root/index.js'\n\nimport { getNextRequestI18n } from '../../utilities/getNextRequestI18n.js'\nimport { generateAPIViewMetadata } from '../API/metadata.js'\nimport { generateEditViewMetadata } from '../Edit/metadata.js'\nimport { generateNotFoundViewMetadata } from '../NotFound/metadata.js'\nimport { generateVersionViewMetadata } from '../Version/metadata.js'\nimport { generateVersionsViewMetadata } from '../Versions/metadata.js'\nimport { getDocumentView } from './getDocumentView.js'\n\nexport type GenerateEditViewMetadata = (\n  args: {\n    collectionConfig?: null | SanitizedCollectionConfig\n    globalConfig?: null | SanitizedGlobalConfig\n    isReadOnly?: boolean\n    view?: keyof EditConfig\n  } & Parameters<GenerateViewMetadata>[0],\n) => Promise<Metadata>\n\nexport const getMetaBySegment: GenerateEditViewMetadata = async ({\n  collectionConfig,\n  config,\n  globalConfig,\n  params,\n}) => {\n  const { segments } = params\n\n  let fn: GenerateEditViewMetadata | null = null\n\n  const [segmentOne] = segments\n  const isCollection = segmentOne === 'collections'\n  const isGlobal = segmentOne === 'globals'\n\n  const isEditing =\n    isGlobal || Boolean(isCollection && segments?.length > 2 && segments[2] !== 'create')\n\n  if (isCollection) {\n    // `/:collection/:id`\n    if (params.segments.length === 3) {\n      fn = generateEditViewMetadata\n    }\n\n    // `/collections/:collection/trash/:id`\n    if (segments.length === 4 && segments[2] === 'trash') {\n      fn = (args) => generateEditViewMetadata({ ...args, isReadOnly: true })\n    }\n\n    // `/:collection/:id/:view`\n    if (params.segments.length === 4) {\n      switch (params.segments[3]) {\n        case 'api':\n          // `/:collection/:id/api`\n          fn = generateAPIViewMetadata\n          break\n        case 'versions':\n          // `/:collection/:id/versions`\n          fn = generateVersionsViewMetadata\n          break\n        default:\n          break\n      }\n    }\n\n    // `/:collection/:id/:slug-1/:slug-2`\n    if (params.segments.length === 5) {\n      switch (params.segments[3]) {\n        case 'versions':\n          // `/:collection/:id/versions/:version`\n          fn = generateVersionViewMetadata\n          break\n        default:\n          break\n      }\n    }\n\n    // `/collections/:collection/trash/:id/:view`\n    if (segments.length === 5 && segments[2] === 'trash') {\n      switch (segments[4]) {\n        case 'api':\n          fn = generateAPIViewMetadata\n          break\n        case 'versions':\n          fn = generateVersionsViewMetadata\n          break\n        default:\n          break\n      }\n    }\n\n    // `/collections/:collection/trash/:id/versions/:versionID`\n    if (segments.length === 6 && segments[2] === 'trash' && segments[4] === 'versions') {\n      fn = generateVersionViewMetadata\n    }\n  }\n\n  if (isGlobal) {\n    // `/:global`\n    if (params.segments?.length === 2) {\n      fn = generateEditViewMetadata\n    }\n\n    // `/:global/:view`\n    if (params.segments?.length === 3) {\n      switch (params.segments[2]) {\n        case 'api':\n          // `/:global/api`\n          fn = generateAPIViewMetadata\n          break\n        case 'versions':\n          // `/:global/versions`\n          fn = generateVersionsViewMetadata\n          break\n        default:\n          break\n      }\n    }\n\n    // `/:global/versions/:version`\n    if (params.segments?.length === 4 && params.segments[2] === 'versions') {\n      fn = generateVersionViewMetadata\n    }\n  }\n\n  const i18n = await getNextRequestI18n({\n    config,\n  })\n\n  if (typeof fn === 'function') {\n    return fn({\n      collectionConfig,\n      config,\n      globalConfig,\n      i18n,\n      isEditing,\n    })\n  } else {\n    const { viewKey } = getDocumentView({\n      collectionConfig,\n      config,\n      docPermissions: {\n        create: true,\n        delete: true,\n        fields: true,\n        read: true,\n        readVersions: true,\n        update: true,\n      },\n      globalConfig,\n      routeSegments: typeof segments === 'string' ? [segments] : segments,\n    })\n\n    if (viewKey) {\n      const customViewConfig =\n        collectionConfig?.admin?.components?.views?.edit?.[viewKey] ||\n        globalConfig?.admin?.components?.views?.edit?.[viewKey]\n\n      if (customViewConfig) {\n        return generateEditViewMetadata({\n          collectionConfig,\n          config,\n          globalConfig,\n          i18n,\n          isEditing,\n          view: viewKey as keyof EditConfig,\n        })\n      }\n    }\n  }\n\n  return generateNotFoundViewMetadata({ config, i18n })\n}\n"],"names":["getNextRequestI18n","generateAPIViewMetadata","generateEditViewMetadata","generateNotFoundViewMetadata","generateVersionViewMetadata","generateVersionsViewMetadata","getDocumentView","getMetaBySegment","collectionConfig","config","globalConfig","params","segments","fn","segmentOne","isCollection","isGlobal","isEditing","Boolean","length","args","isReadOnly","i18n","viewKey","docPermissions","create","delete","fields","read","readVersions","update","routeSegments","customViewConfig","admin","components","views","edit","view"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 5273, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Document/getVersions.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Document/getVersions.ts"],"sourcesContent":["import { sanitizeID, traverseForLocalizedFields } from '@payloadcms/ui/shared'\nimport {\n  combineQueries,\n  extractAccessFromPermission,\n  type Payload,\n  type SanitizedCollectionConfig,\n  type SanitizedDocumentPermissions,\n  type SanitizedGlobalConfig,\n  type TypedUser,\n} from 'payload'\nimport { hasAutosaveEnabled, hasDraftsEnabled } from 'payload/shared'\n\ntype Args = {\n  collectionConfig?: SanitizedCollectionConfig\n  /**\n   * Optional - performance optimization.\n   * If a document has been fetched before fetching versions, pass it here.\n   * If this document is set to published, we can skip the query to find out if a published document exists,\n   * as the passed in document is proof of its existence.\n   */\n  doc?: Record<string, any>\n  docPermissions: SanitizedDocumentPermissions\n  globalConfig?: SanitizedGlobalConfig\n  id?: number | string\n  locale?: string\n  payload: Payload\n  user: TypedUser\n}\n\ntype Result = Promise<{\n  hasPublishedDoc: boolean\n  mostRecentVersionIsAutosaved: boolean\n  unpublishedVersionCount: number\n  versionCount: number\n}>\n\n// TODO: in the future, we can parallelize some of these queries\n// this will speed up the API by ~30-100ms or so\n// Note from the future: I have attempted parallelizing these queries, but it made this function almost 2x slower.\nexport const getVersions = async ({\n  id: idArg,\n  collectionConfig,\n  doc,\n  docPermissions,\n  globalConfig,\n  locale,\n  payload,\n  user,\n}: Args): Result => {\n  const id = sanitizeID(idArg)\n  let publishedDoc\n  let hasPublishedDoc = false\n  let mostRecentVersionIsAutosaved = false\n  let unpublishedVersionCount = 0\n  let versionCount = 0\n\n  const entityConfig = collectionConfig || globalConfig\n  const versionsConfig = entityConfig?.versions\n  const hasLocalizedFields = traverseForLocalizedFields(entityConfig.fields)\n  const localizedDraftsEnabled =\n    hasDraftsEnabled(entityConfig) &&\n    typeof payload.config.localization === 'object' &&\n    hasLocalizedFields\n\n  const shouldFetchVersions = Boolean(versionsConfig && docPermissions?.readVersions)\n\n  if (!shouldFetchVersions) {\n    // Without readVersions permission, determine published status from the _status field\n    const hasPublishedDoc = localizedDraftsEnabled\n      ? doc?._status === 'published'\n      : doc?._status !== 'draft'\n\n    return {\n      hasPublishedDoc,\n      mostRecentVersionIsAutosaved,\n      unpublishedVersionCount,\n      versionCount,\n    }\n  }\n\n  if (collectionConfig) {\n    if (!id) {\n      return {\n        hasPublishedDoc,\n        mostRecentVersionIsAutosaved,\n        unpublishedVersionCount,\n        versionCount,\n      }\n    }\n\n    if (hasDraftsEnabled(collectionConfig)) {\n      // Find out if a published document exists\n      if (doc?._status === 'published') {\n        publishedDoc = doc\n      } else {\n        publishedDoc = (\n          await payload.find({\n            collection: collectionConfig.slug,\n            depth: 0,\n            limit: 1,\n            locale: locale || undefined,\n            pagination: false,\n            select: {\n              updatedAt: true,\n            },\n            user,\n            where: {\n              and: [\n                {\n                  _status: {\n                    equals: 'published',\n                  },\n                },\n                {\n                  id: {\n                    equals: id,\n                  },\n                },\n              ],\n            },\n          })\n        )?.docs?.[0]\n      }\n\n      if (publishedDoc) {\n        hasPublishedDoc = true\n      }\n\n      if (hasAutosaveEnabled(collectionConfig)) {\n        const where: Record<string, any> = {\n          and: [\n            {\n              parent: {\n                equals: id,\n              },\n            },\n          ],\n        }\n\n        if (localizedDraftsEnabled) {\n          where.and.push({\n            snapshot: {\n              not_equals: true,\n            },\n          })\n        }\n\n        const mostRecentVersion = await payload.findVersions({\n          collection: collectionConfig.slug,\n          depth: 0,\n          limit: 1,\n          locale,\n          select: {\n            autosave: true,\n          },\n          user,\n          where: combineQueries(where, extractAccessFromPermission(docPermissions.readVersions)),\n        })\n\n        if (\n          mostRecentVersion.docs[0] &&\n          'autosave' in mostRecentVersion.docs[0] &&\n          mostRecentVersion.docs[0].autosave\n        ) {\n          mostRecentVersionIsAutosaved = true\n        }\n      }\n\n      if (publishedDoc?.updatedAt) {\n        ;({ totalDocs: unpublishedVersionCount } = await payload.countVersions({\n          collection: collectionConfig.slug,\n          locale,\n          user,\n          where: combineQueries(\n            {\n              and: [\n                {\n                  parent: {\n                    equals: id,\n                  },\n                },\n                {\n                  'version._status': {\n                    equals: 'draft',\n                  },\n                },\n                {\n                  updatedAt: {\n                    greater_than: publishedDoc.updatedAt,\n                  },\n                },\n              ],\n            },\n            extractAccessFromPermission(docPermissions.readVersions),\n          ),\n        }))\n      }\n    }\n\n    const countVersionsWhere: Record<string, any> = {\n      and: [\n        {\n          parent: {\n            equals: id,\n          },\n        },\n      ],\n    }\n\n    if (localizedDraftsEnabled) {\n      countVersionsWhere.and.push({\n        snapshot: {\n          not_equals: true,\n        },\n      })\n    }\n\n    ;({ totalDocs: versionCount } = await payload.countVersions({\n      collection: collectionConfig.slug,\n      locale,\n      user,\n      where: combineQueries(\n        countVersionsWhere,\n        extractAccessFromPermission(docPermissions.readVersions),\n      ),\n    }))\n  }\n\n  if (globalConfig) {\n    // Find out if a published document exists\n    if (hasDraftsEnabled(globalConfig)) {\n      if (doc?._status === 'published') {\n        publishedDoc = doc\n      } else {\n        publishedDoc = await payload.findGlobal({\n          slug: globalConfig.slug,\n          depth: 0,\n          locale,\n          select: {\n            updatedAt: true,\n          },\n          user,\n        })\n      }\n\n      if (publishedDoc?._status === 'published') {\n        hasPublishedDoc = true\n      }\n\n      if (hasAutosaveEnabled(globalConfig)) {\n        const mostRecentVersion = await payload.findGlobalVersions({\n          slug: globalConfig.slug,\n          limit: 1,\n          locale,\n          select: {\n            autosave: true,\n          },\n          user,\n        })\n\n        if (\n          mostRecentVersion.docs[0] &&\n          'autosave' in mostRecentVersion.docs[0] &&\n          mostRecentVersion.docs[0].autosave\n        ) {\n          mostRecentVersionIsAutosaved = true\n        }\n      }\n\n      if (publishedDoc?.updatedAt) {\n        ;({ totalDocs: unpublishedVersionCount } = await payload.countGlobalVersions({\n          global: globalConfig.slug,\n          locale,\n          user,\n          where: combineQueries(\n            {\n              and: [\n                {\n                  'version._status': {\n                    equals: 'draft',\n                  },\n                },\n                {\n                  updatedAt: {\n                    greater_than: publishedDoc.updatedAt,\n                  },\n                },\n              ],\n            },\n            extractAccessFromPermission(docPermissions.readVersions),\n          ),\n        }))\n      }\n    }\n\n    ;({ totalDocs: versionCount } = await payload.countGlobalVersions({\n      global: globalConfig.slug,\n      locale,\n      user,\n      where: localizedDraftsEnabled\n        ? {\n            snapshot: {\n              not_equals: true,\n            },\n          }\n        : undefined,\n    }))\n  }\n\n  return {\n    hasPublishedDoc,\n    mostRecentVersionIsAutosaved,\n    unpublishedVersionCount,\n    versionCount,\n  }\n}\n"],"names":["sanitizeID","traverseForLocalizedFields","combineQueries","extractAccessFromPermission","hasAutosaveEnabled","hasDraftsEnabled","getVersions","id","idArg","collectionConfig","doc","docPermissions","globalConfig","locale","payload","user","publishedDoc","hasPublishedDoc","mostRecentVersionIsAutosaved","unpublishedVersionCount","versionCount","entityConfig","versionsConfig","versions","hasLocalizedFields","fields","localizedDraftsEnabled","config","localization","shouldFetchVersions","Boolean","readVersions","_status","find","collection","slug","depth","limit","undefined","pagination","select","updatedAt","where","and","equals","docs","parent","push","snapshot","not_equals","mostRecentVersion","findVersions","autosave","totalDocs","countVersions","greater_than","countVersionsWhere","findGlobal","findGlobalVersions","countGlobalVersions","global"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 5516, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Document/renderDocumentSlots.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Document/renderDocumentSlots.tsx"],"sourcesContent":["import type {\n  BeforeDocumentControlsServerPropsOnly,\n  DocumentSlots,\n  EditMenuItemsServerPropsOnly,\n  PayloadRequest,\n  PreviewButtonServerPropsOnly,\n  PublishButtonServerPropsOnly,\n  SanitizedCollectionConfig,\n  SanitizedDocumentPermissions,\n  SanitizedGlobalConfig,\n  SaveButtonServerPropsOnly,\n  SaveDraftButtonServerPropsOnly,\n  ServerFunction,\n  ServerProps,\n  StaticDescription,\n  UnpublishButtonServerPropsOnly,\n  ViewDescriptionClientProps,\n  ViewDescriptionServerPropsOnly,\n} from 'payload'\n\nimport { ViewDescription } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { hasDraftsEnabled } from 'payload/shared'\n\nimport { getDocumentPermissions } from './getDocumentPermissions.js'\n\nexport const renderDocumentSlots: (args: {\n  collectionConfig?: SanitizedCollectionConfig\n  globalConfig?: SanitizedGlobalConfig\n  hasSavePermission: boolean\n  id?: number | string\n  permissions: SanitizedDocumentPermissions\n  req: PayloadRequest\n}) => DocumentSlots = (args) => {\n  const { id, collectionConfig, globalConfig, hasSavePermission, req } = args\n\n  const components: DocumentSlots = {} as DocumentSlots\n\n  const unsavedDraftWithValidations = undefined\n\n  const isPreviewEnabled = collectionConfig?.admin?.preview || globalConfig?.admin?.preview\n\n  const serverProps: ServerProps = {\n    id,\n    i18n: req.i18n,\n    payload: req.payload,\n    user: req.user,\n    // TODO: Add remaining serverProps\n  }\n\n  const BeforeDocumentControls =\n    collectionConfig?.admin?.components?.edit?.beforeDocumentControls ||\n    globalConfig?.admin?.components?.elements?.beforeDocumentControls\n\n  if (BeforeDocumentControls) {\n    components.BeforeDocumentControls = RenderServerComponent({\n      Component: BeforeDocumentControls,\n      importMap: req.payload.importMap,\n      serverProps: serverProps satisfies BeforeDocumentControlsServerPropsOnly,\n    })\n  }\n\n  const EditMenuItems = collectionConfig?.admin?.components?.edit?.editMenuItems\n\n  if (EditMenuItems) {\n    components.EditMenuItems = RenderServerComponent({\n      Component: EditMenuItems,\n      importMap: req.payload.importMap,\n      serverProps: serverProps satisfies EditMenuItemsServerPropsOnly,\n    })\n  }\n\n  const CustomPreviewButton =\n    collectionConfig?.admin?.components?.edit?.PreviewButton ||\n    globalConfig?.admin?.components?.elements?.PreviewButton\n\n  if (isPreviewEnabled && CustomPreviewButton) {\n    components.PreviewButton = RenderServerComponent({\n      Component: CustomPreviewButton,\n      importMap: req.payload.importMap,\n      serverProps: serverProps satisfies PreviewButtonServerPropsOnly,\n    })\n  }\n\n  const LivePreview =\n    collectionConfig?.admin?.components?.views?.edit?.livePreview ||\n    globalConfig?.admin?.components?.views?.edit?.livePreview\n\n  if (LivePreview?.Component) {\n    components.LivePreview = RenderServerComponent({\n      Component: LivePreview.Component,\n      importMap: req.payload.importMap,\n      serverProps,\n    })\n  }\n\n  const descriptionFromConfig =\n    collectionConfig?.admin?.description || globalConfig?.admin?.description\n\n  const staticDescription: StaticDescription =\n    typeof descriptionFromConfig === 'function'\n      ? descriptionFromConfig({ t: req.i18n.t })\n      : descriptionFromConfig\n\n  const CustomDescription =\n    collectionConfig?.admin?.components?.Description ||\n    globalConfig?.admin?.components?.elements?.Description\n\n  const hasDescription = CustomDescription || staticDescription\n\n  if (hasDescription) {\n    components.Description = RenderServerComponent({\n      clientProps: {\n        collectionSlug: collectionConfig?.slug,\n        description: staticDescription,\n      } satisfies ViewDescriptionClientProps,\n      Component: CustomDescription,\n      Fallback: ViewDescription,\n      importMap: req.payload.importMap,\n      serverProps: serverProps satisfies ViewDescriptionServerPropsOnly,\n    })\n  }\n\n  if (collectionConfig?.versions?.drafts || globalConfig?.versions?.drafts) {\n    const CustomStatus =\n      collectionConfig?.admin?.components?.edit?.Status ||\n      globalConfig?.admin?.components?.elements?.Status\n\n    if (CustomStatus) {\n      components.Status = RenderServerComponent({\n        Component: CustomStatus,\n        importMap: req.payload.importMap,\n        serverProps,\n      })\n    }\n  }\n\n  if (hasSavePermission) {\n    if (hasDraftsEnabled(collectionConfig || globalConfig)) {\n      const CustomPublishButton =\n        collectionConfig?.admin?.components?.edit?.PublishButton ||\n        globalConfig?.admin?.components?.elements?.PublishButton\n\n      if (CustomPublishButton) {\n        components.PublishButton = RenderServerComponent({\n          Component: CustomPublishButton,\n          importMap: req.payload.importMap,\n          serverProps: serverProps satisfies PublishButtonServerPropsOnly,\n        })\n      }\n\n      const CustomUnpublishButton =\n        collectionConfig?.admin?.components?.edit?.UnpublishButton ||\n        globalConfig?.admin?.components?.elements?.UnpublishButton\n\n      if (CustomUnpublishButton) {\n        components.UnpublishButton = RenderServerComponent({\n          Component: CustomUnpublishButton,\n          importMap: req.payload.importMap,\n          serverProps: serverProps satisfies UnpublishButtonServerPropsOnly,\n        })\n      }\n\n      const CustomSaveDraftButton =\n        collectionConfig?.admin?.components?.edit?.SaveDraftButton ||\n        globalConfig?.admin?.components?.elements?.SaveDraftButton\n\n      const draftsEnabled = hasDraftsEnabled(collectionConfig || globalConfig)\n\n      if ((draftsEnabled || unsavedDraftWithValidations) && CustomSaveDraftButton) {\n        components.SaveDraftButton = RenderServerComponent({\n          Component: CustomSaveDraftButton,\n          importMap: req.payload.importMap,\n          serverProps: serverProps satisfies SaveDraftButtonServerPropsOnly,\n        })\n      }\n    } else {\n      const CustomSaveButton =\n        collectionConfig?.admin?.components?.edit?.SaveButton ||\n        globalConfig?.admin?.components?.elements?.SaveButton\n\n      if (CustomSaveButton) {\n        components.SaveButton = RenderServerComponent({\n          Component: CustomSaveButton,\n          importMap: req.payload.importMap,\n          serverProps: serverProps satisfies SaveButtonServerPropsOnly,\n        })\n      }\n    }\n  }\n\n  if (collectionConfig?.upload && collectionConfig?.admin?.components?.edit?.Upload) {\n    components.Upload = RenderServerComponent({\n      Component: collectionConfig.admin.components.edit.Upload,\n      importMap: req.payload.importMap,\n      serverProps,\n    })\n  }\n\n  if (collectionConfig?.upload && collectionConfig.upload.admin?.components?.controls) {\n    components.UploadControls = RenderServerComponent({\n      Component: collectionConfig.upload.admin.components.controls,\n      importMap: req.payload.importMap,\n      serverProps,\n    })\n  }\n\n  return components\n}\n\nexport const renderDocumentSlotsHandler: ServerFunction<{\n  collectionSlug: string\n  id?: number | string\n}> = async (args) => {\n  const { id, collectionSlug, req } = args\n\n  const collectionConfig = req.payload.collections[collectionSlug]?.config\n\n  if (!collectionConfig) {\n    throw new Error(req.t('error:incorrectCollection'))\n  }\n\n  const { docPermissions, hasSavePermission } = await getDocumentPermissions({\n    collectionConfig,\n    data: {},\n    req,\n  })\n\n  return renderDocumentSlots({\n    id,\n    collectionConfig,\n    hasSavePermission,\n    permissions: docPermissions,\n    req,\n  })\n}\n"],"names":["ViewDescription","RenderServerComponent","hasDraftsEnabled","getDocumentPermissions","renderDocumentSlots","args","id","collectionConfig","globalConfig","hasSavePermission","req","components","unsavedDraftWithValidations","undefined","isPreviewEnabled","admin","preview","serverProps","i18n","payload","user","BeforeDocumentControls","edit","beforeDocumentControls","elements","Component","importMap","EditMenuItems","editMenuItems","CustomPreviewButton","PreviewButton","LivePreview","views","livePreview","descriptionFromConfig","description","staticDescription","t","CustomDescription","Description","hasDescription","clientProps","collectionSlug","slug","Fallback","versions","drafts","CustomStatus","Status","CustomPublishButton","PublishButton","CustomUnpublishButton","UnpublishButton","CustomSaveDraftButton","SaveDraftButton","draftsEnabled","CustomSaveButton","SaveButton","upload","Upload","controls","UploadControls","renderDocumentSlotsHandler","collections","config","Error","docPermissions","data","permissions"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 5687, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Document/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Document/index.tsx"],"sourcesContent":["import type {\n  AdminViewServerProps,\n  CollectionPreferences,\n  Data,\n  DocumentViewClientProps,\n  DocumentViewServerProps,\n  DocumentViewServerPropsOnly,\n  EditViewComponent,\n  PayloadComponent,\n  RenderDocumentVersionsProperties,\n} from 'payload'\n\nimport {\n  DocumentInfoProvider,\n  EditDepthProvider,\n  HydrateAuthProvider,\n  LivePreviewProvider,\n} from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { handleLivePreview, handlePreview } from '@payloadcms/ui/rsc'\nimport { isEditing as getIsEditing } from '@payloadcms/ui/shared'\nimport { buildFormState } from '@payloadcms/ui/utilities/buildFormState'\nimport { notFound, redirect } from 'next/navigation.js'\nimport { isolateObjectProperty, logError } from 'payload'\nimport { formatAdminURL, hasAutosaveEnabled, hasDraftsEnabled } from 'payload/shared'\nimport React from 'react'\n\nimport type { GenerateEditViewMetadata } from './getMetaBySegment.js'\n\nimport { DocumentHeader } from '../../elements/DocumentHeader/index.js'\nimport { getPreferences } from '../../utilities/getPreferences.js'\nimport { NotFoundView } from '../NotFound/index.js'\nimport { getDocPreferences } from './getDocPreferences.js'\nimport { getDocumentData } from './getDocumentData.js'\nimport { getDocumentPermissions } from './getDocumentPermissions.js'\nimport { getDocumentView } from './getDocumentView.js'\nimport { getIsLocked } from './getIsLocked.js'\nimport { getMetaBySegment } from './getMetaBySegment.js'\nimport { getVersions } from './getVersions.js'\nimport { renderDocumentSlots } from './renderDocumentSlots.js'\n\nexport const generateMetadata: GenerateEditViewMetadata = async (args) => getMetaBySegment(args)\n\nexport type ViewToRender =\n  | EditViewComponent\n  | PayloadComponent<DocumentViewServerProps>\n  | React.FC\n  | React.FC<DocumentViewClientProps>\n\n/**\n * This function is responsible for rendering\n * an Edit Document view on the server for both:\n *  - default document edit views\n *  - on-demand edit views within drawers\n */\nexport const renderDocument = async ({\n  disableActions,\n  documentSubViewType,\n  drawerSlug,\n  importMap,\n  initialData,\n  initPageResult,\n  overrideEntityVisibility,\n  params,\n  redirectAfterCreate,\n  redirectAfterDelete,\n  redirectAfterDuplicate,\n  redirectAfterRestore,\n  searchParams,\n  versions,\n  viewType,\n}: {\n  drawerSlug?: string\n  overrideEntityVisibility?: boolean\n  readonly redirectAfterCreate?: boolean\n  readonly redirectAfterDelete?: boolean\n  readonly redirectAfterDuplicate?: boolean\n  readonly redirectAfterRestore?: boolean\n  versions?: RenderDocumentVersionsProperties\n} & AdminViewServerProps): Promise<{\n  data: Data\n  Document: React.ReactNode\n}> => {\n  const {\n    collectionConfig,\n    docID: idFromArgs,\n    globalConfig,\n    locale,\n    permissions,\n    req,\n    req: {\n      i18n,\n      payload,\n      payload: {\n        config,\n        config: {\n          routes: { admin: adminRoute, api: apiRoute },\n          serverURL,\n        },\n      },\n      user,\n    },\n    visibleEntities,\n  } = initPageResult\n\n  const segments = Array.isArray(params?.segments) ? params.segments : []\n  const collectionSlug = collectionConfig?.slug || undefined\n  const globalSlug = globalConfig?.slug || undefined\n  let isEditing = getIsEditing({ id: idFromArgs, collectionSlug, globalSlug })\n\n  // Fetch the doc required for the view\n  let doc =\n    !idFromArgs && !globalSlug\n      ? initialData || null\n      : await getDocumentData({\n          id: idFromArgs,\n          collectionSlug,\n          globalSlug,\n          locale,\n          payload,\n          req,\n          segments,\n          user,\n        })\n\n  if (isEditing && !doc) {\n    // If it's a collection document that doesn't exist, redirect to collection list\n    if (collectionSlug) {\n      const redirectURL = formatAdminURL({\n        adminRoute,\n        path: `/collections/${collectionSlug}?notFound=${encodeURIComponent(idFromArgs)}`,\n      })\n      redirect(redirectURL)\n    } else {\n      // For globals or other cases, keep the 404 behavior\n      throw new Error('not-found')\n    }\n  }\n\n  const isTrashedDoc = Boolean(doc && 'deletedAt' in doc && typeof doc?.deletedAt === 'string')\n\n  // CRITICAL FIX FOR TRANSACTION RACE CONDITION:\n  // When running parallel operations with Promise.all, if they share the same req object\n  // and one operation calls initTransaction() which MUTATES req.transactionID, that mutation\n  // is visible to all parallel operations. This causes:\n  // 1. Operation A (e.g., getDocumentPermissions  docAccessOperation) calls initTransaction()\n  //    which sets req.transactionID = Promise, then resolves it to a UUID\n  // 2. Operation B (e.g., getIsLocked) running in parallel receives the SAME req with the mutated transactionID\n  // 3. Operation A (does not even know that Operation B even exists and is stil using the transactionID) commits/ends its transaction\n  // 4. Operation B tries to use the now-expired session  MongoExpiredSessionError!\n  //\n  // Solution: Use isolateObjectProperty to create a Proxy that isolates the 'transactionID' property.\n  // This allows each operation to have its own transactionID without affecting the parent req.\n  // If parent req already has a transaction, preserve it (don't isolate), since this\n  // issue only arises when one of the operations calls initTransaction() themselves -\n  // because then, that operation will also try to commit/end the transaction itself.\n\n  // If the transactionID is already set, the parallel operations will not try to\n  // commit/end the transaction themselves, so we don't need to isolate the\n  // transactionID property.\n  const reqForPermissions = req.transactionID ? req : isolateObjectProperty(req, 'transactionID')\n  const reqForLockCheck = req.transactionID ? req : isolateObjectProperty(req, 'transactionID')\n\n  const [\n    docPreferences,\n    { docPermissions, hasPublishPermission, hasSavePermission },\n    { currentEditor, isLocked, lastUpdateTime },\n    entityPreferences,\n  ] = await Promise.all([\n    // Get document preferences\n    getDocPreferences({\n      id: idFromArgs,\n      collectionSlug,\n      globalSlug,\n      payload,\n      user,\n    }),\n\n    // Get permissions - isolated transactionID prevents cross-contamination\n    getDocumentPermissions({\n      id: idFromArgs,\n      collectionConfig,\n      data: doc,\n      globalConfig,\n      req: reqForPermissions,\n    }),\n\n    // Fetch document lock state - isolated transactionID prevents cross-contamination\n    getIsLocked({\n      id: idFromArgs,\n      collectionConfig,\n      globalConfig,\n      isEditing,\n      req: reqForLockCheck,\n    }),\n\n    // get entity preferences\n    getPreferences<CollectionPreferences>(\n      collectionSlug ? `collection-${collectionSlug}` : `global-${globalSlug}`,\n      payload,\n      req.user.id,\n      req.user.collection,\n    ),\n  ])\n\n  const operation = (collectionSlug && idFromArgs) || globalSlug ? 'update' : 'create'\n\n  const [\n    { hasPublishedDoc, mostRecentVersionIsAutosaved, unpublishedVersionCount, versionCount },\n    { state: formState },\n  ] = await Promise.all([\n    getVersions({\n      id: idFromArgs,\n      collectionConfig,\n      doc,\n      docPermissions,\n      globalConfig,\n      locale: locale?.code,\n      payload,\n      user,\n    }),\n    buildFormState({\n      id: idFromArgs,\n      collectionSlug,\n      data: doc,\n      docPermissions,\n      docPreferences,\n      fallbackLocale: false,\n      globalSlug,\n      locale: locale?.code,\n      operation,\n      readOnly: isTrashedDoc || isLocked,\n      renderAllFields: true,\n      req,\n      schemaPath: collectionSlug || globalSlug,\n      skipValidation: true,\n    }),\n  ])\n\n  const documentViewServerProps: DocumentViewServerPropsOnly = {\n    doc,\n    hasPublishedDoc,\n    i18n,\n    initPageResult,\n    locale,\n    params,\n    payload,\n    permissions,\n    routeSegments: segments,\n    searchParams,\n    user,\n    versions,\n  }\n\n  if (\n    !overrideEntityVisibility &&\n    ((collectionSlug &&\n      !visibleEntities?.collections?.find((visibleSlug) => visibleSlug === collectionSlug)) ||\n      (globalSlug && !visibleEntities?.globals?.find((visibleSlug) => visibleSlug === globalSlug)))\n  ) {\n    throw new Error('not-found')\n  }\n\n  const formattedParams = new URLSearchParams()\n\n  if (hasDraftsEnabled(collectionConfig || globalConfig)) {\n    formattedParams.append('draft', 'true')\n  }\n\n  if (locale?.code) {\n    formattedParams.append('locale', locale.code)\n  }\n\n  const apiQueryParams = `?${formattedParams.toString()}`\n\n  const apiURL = formatAdminURL({\n    apiRoute,\n    path: collectionSlug\n      ? `/${collectionSlug}/${idFromArgs}${apiQueryParams}`\n      : globalSlug\n        ? `/${globalSlug}${apiQueryParams}`\n        : '',\n  })\n\n  let View: ViewToRender = null\n\n  let showHeader = true\n\n  const RootViewOverride =\n    collectionConfig?.admin?.components?.views?.edit?.root &&\n    'Component' in collectionConfig.admin.components.views.edit.root\n      ? collectionConfig?.admin?.components?.views?.edit?.root?.Component\n      : globalConfig?.admin?.components?.views?.edit?.root &&\n          'Component' in globalConfig.admin.components.views.edit.root\n        ? globalConfig?.admin?.components?.views?.edit?.root?.Component\n        : null\n\n  if (RootViewOverride) {\n    View = RootViewOverride\n    showHeader = false\n  } else {\n    ;({ View } = getDocumentView({\n      collectionConfig,\n      config,\n      docPermissions,\n      globalConfig,\n      routeSegments: segments,\n    }))\n  }\n\n  if (!View) {\n    View = NotFoundView\n  }\n\n  /**\n   * Handle case where autoSave is enabled and the document is being created\n   * => create document and redirect\n   */\n  const shouldAutosave = hasSavePermission && hasAutosaveEnabled(collectionConfig || globalConfig)\n\n  const validateDraftData =\n    collectionConfig?.versions?.drafts && collectionConfig?.versions?.drafts?.validate\n\n  let id = idFromArgs\n\n  if (shouldAutosave && !validateDraftData && !idFromArgs && collectionSlug) {\n    doc = await payload.create({\n      collection: collectionSlug,\n      data: initialData || {},\n      depth: 0,\n      draft: true,\n      fallbackLocale: false,\n      locale: locale?.code,\n      req,\n      user,\n    })\n\n    if (doc?.id) {\n      id = doc.id\n      isEditing = getIsEditing({ id: doc.id, collectionSlug, globalSlug })\n\n      if (!drawerSlug && redirectAfterCreate !== false) {\n        const redirectURL = formatAdminURL({\n          adminRoute,\n          path: `/collections/${collectionSlug}/${doc.id}`,\n        })\n\n        redirect(redirectURL)\n      }\n    } else {\n      throw new Error('not-found')\n    }\n  }\n\n  const documentSlots = renderDocumentSlots({\n    id,\n    collectionConfig,\n    globalConfig,\n    hasSavePermission,\n    permissions: docPermissions,\n    req,\n  })\n\n  // Extract Description from documentSlots to pass to DocumentHeader\n  const { Description } = documentSlots\n\n  const clientProps: DocumentViewClientProps = {\n    formState,\n    ...documentSlots,\n    documentSubViewType,\n    viewType,\n  }\n\n  const { isLivePreviewEnabled, livePreviewConfig, livePreviewURL } = await handleLivePreview({\n    collectionSlug,\n    config,\n    data: doc,\n    globalSlug,\n    operation,\n    req,\n  })\n\n  const { isPreviewEnabled, previewURL } = await handlePreview({\n    collectionSlug,\n    config,\n    data: doc,\n    globalSlug,\n    operation,\n    req,\n  })\n\n  return {\n    data: doc,\n    Document: (\n      <DocumentInfoProvider\n        apiURL={apiURL}\n        collectionSlug={collectionConfig?.slug}\n        currentEditor={currentEditor}\n        disableActions={disableActions ?? false}\n        docPermissions={docPermissions}\n        globalSlug={globalConfig?.slug}\n        hasPublishedDoc={hasPublishedDoc}\n        hasPublishPermission={hasPublishPermission}\n        hasSavePermission={hasSavePermission}\n        id={id}\n        initialData={doc}\n        initialState={formState}\n        isEditing={isEditing}\n        isLocked={isLocked}\n        isTrashed={isTrashedDoc}\n        key={locale?.code}\n        lastUpdateTime={lastUpdateTime}\n        mostRecentVersionIsAutosaved={mostRecentVersionIsAutosaved}\n        redirectAfterCreate={redirectAfterCreate}\n        redirectAfterDelete={redirectAfterDelete}\n        redirectAfterDuplicate={redirectAfterDuplicate}\n        redirectAfterRestore={redirectAfterRestore}\n        unpublishedVersionCount={unpublishedVersionCount}\n        versionCount={versionCount}\n      >\n        <LivePreviewProvider\n          breakpoints={livePreviewConfig?.breakpoints}\n          isLivePreviewEnabled={isLivePreviewEnabled && operation !== 'create'}\n          isLivePreviewing={Boolean(\n            entityPreferences?.value?.editViewType === 'live-preview' && livePreviewURL,\n          )}\n          isPreviewEnabled={Boolean(isPreviewEnabled)}\n          previewURL={previewURL}\n          typeofLivePreviewURL={typeof livePreviewConfig?.url as 'function' | 'string' | undefined}\n          url={livePreviewURL}\n        >\n          {showHeader && !drawerSlug && (\n            <DocumentHeader\n              AfterHeader={Description}\n              collectionConfig={collectionConfig}\n              globalConfig={globalConfig}\n              permissions={permissions}\n              req={req}\n            />\n          )}\n          <HydrateAuthProvider permissions={permissions} />\n          <EditDepthProvider>\n            {RenderServerComponent({\n              clientProps,\n              Component: View,\n              importMap,\n              serverProps: documentViewServerProps,\n            })}\n          </EditDepthProvider>\n        </LivePreviewProvider>\n      </DocumentInfoProvider>\n    ),\n  }\n}\n\nexport async function DocumentView(props: AdminViewServerProps) {\n  try {\n    const { Document: RenderedDocument } = await renderDocument(props)\n    return RenderedDocument\n  } catch (error) {\n    if (error?.message === 'NEXT_REDIRECT') {\n      throw error\n    }\n\n    logError({ err: error, payload: props.initPageResult.req.payload })\n\n    if (error.message === 'not-found') {\n      notFound()\n    }\n  }\n}\n"],"names":["DocumentInfoProvider","EditDepthProvider","HydrateAuthProvider","LivePreviewProvider","RenderServerComponent","handleLivePreview","handlePreview","isEditing","getIsEditing","buildFormState","notFound","redirect","isolateObjectProperty","logError","formatAdminURL","hasAutosaveEnabled","hasDraftsEnabled","React","DocumentHeader","getPreferences","NotFoundView","getDocPreferences","getDocumentData","getDocumentPermissions","getDocumentView","getIsLocked","getMetaBySegment","getVersions","renderDocumentSlots","generateMetadata","args","renderDocument","disableActions","documentSubViewType","drawerSlug","importMap","initialData","initPageResult","overrideEntityVisibility","params","redirectAfterCreate","redirectAfterDelete","redirectAfterDuplicate","redirectAfterRestore","searchParams","versions","viewType","collectionConfig","docID","idFromArgs","globalConfig","locale","permissions","req","i18n","payload","config","routes","admin","adminRoute","api","apiRoute","serverURL","user","visibleEntities","segments","Array","isArray","collectionSlug","slug","undefined","globalSlug","id","doc","redirectURL","path","encodeURIComponent","Error","isTrashedDoc","Boolean","deletedAt","reqForPermissions","transactionID","reqForLockCheck","docPreferences","docPermissions","hasPublishPermission","hasSavePermission","currentEditor","isLocked","lastUpdateTime","entityPreferences","Promise","all","data","collection","operation","hasPublishedDoc","mostRecentVersionIsAutosaved","unpublishedVersionCount","versionCount","state","formState","code","fallbackLocale","readOnly","renderAllFields","schemaPath","skipValidation","documentViewServerProps","routeSegments","collections","find","visibleSlug","globals","formattedParams","URLSearchParams","append","apiQueryParams","toString","apiURL","View","showHeader","RootViewOverride","components","views","edit","root","Component","shouldAutosave","validateDraftData","drafts","validate","create","depth","draft","documentSlots","Description","clientProps","isLivePreviewEnabled","livePreviewConfig","livePreviewURL","isPreviewEnabled","previewURL","Document","_jsx","initialState","isTrashed","_jsxs","breakpoints","isLivePreviewing","value","editViewType","typeofLivePreviewURL","url","AfterHeader","serverProps","DocumentView","props","RenderedDocument","error","message","err"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 6066, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/Document/handleServerFunction.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/Document/handleServerFunction.tsx"],"sourcesContent":["import type { RenderDocumentServerFunction } from '@payloadcms/ui'\nimport type { DocumentPreferences, VisibleEntities } from 'payload'\n\nimport { getClientConfig } from '@payloadcms/ui/utilities/getClientConfig'\nimport { headers as getHeaders } from 'next/headers.js'\nimport { canAccessAdmin, getAccessResults, isEntityHidden, parseCookies } from 'payload'\nimport { applyLocaleFiltering } from 'payload/shared'\n\nimport { renderDocument } from './index.js'\n\nexport const renderDocumentHandler: RenderDocumentServerFunction = async (args) => {\n  const {\n    collectionSlug,\n    disableActions,\n    docID,\n    drawerSlug,\n    initialData,\n    locale,\n    overrideEntityVisibility,\n    paramsOverride,\n    redirectAfterCreate,\n    redirectAfterDelete,\n    redirectAfterDuplicate,\n    req,\n    req: {\n      i18n,\n      payload,\n      payload: { config },\n      user,\n    },\n    searchParams = {},\n    versions,\n  } = args\n\n  const headers = await getHeaders()\n\n  const cookies = parseCookies(headers)\n\n  await canAccessAdmin({ req })\n\n  const clientConfig = getClientConfig({\n    config,\n    i18n,\n    importMap: req.payload.importMap,\n    user,\n  })\n  await applyLocaleFiltering({ clientConfig, config, req })\n\n  let preferences: DocumentPreferences\n\n  if (docID) {\n    const preferencesKey = `${collectionSlug}-edit-${docID}`\n\n    preferences = await payload\n      .find({\n        collection: 'payload-preferences',\n        depth: 0,\n        limit: 1,\n        where: {\n          and: [\n            {\n              key: {\n                equals: preferencesKey,\n              },\n            },\n            {\n              'user.relationTo': {\n                equals: user.collection,\n              },\n            },\n            {\n              'user.value': {\n                equals: user.id,\n              },\n            },\n          ],\n        },\n      })\n      .then((res) => res.docs[0]?.value as DocumentPreferences)\n  }\n\n  const visibleEntities: VisibleEntities = {\n    collections: payload.config.collections\n      .map(({ slug, admin: { hidden } }) => (!isEntityHidden({ hidden, user }) ? slug : null))\n      .filter(Boolean),\n    globals: payload.config.globals\n      .map(({ slug, admin: { hidden } }) => (!isEntityHidden({ hidden, user }) ? slug : null))\n      .filter(Boolean),\n  }\n\n  const permissions = await getAccessResults({\n    req,\n  })\n\n  const { data, Document } = await renderDocument({\n    clientConfig,\n    disableActions,\n    documentSubViewType: 'default',\n    drawerSlug,\n    i18n,\n    importMap: payload.importMap,\n    initialData,\n    initPageResult: {\n      collectionConfig: payload?.collections?.[collectionSlug]?.config,\n      cookies,\n      docID,\n      globalConfig: payload.config.globals.find((global) => global.slug === collectionSlug),\n      languageOptions: undefined, // TODO\n      locale,\n      permissions,\n      req,\n      translations: undefined, // TODO\n      visibleEntities,\n    },\n    overrideEntityVisibility,\n    params: paramsOverride ?? {\n      segments: ['collections', collectionSlug, String(docID)],\n    },\n    payload,\n    redirectAfterCreate,\n    redirectAfterDelete,\n    redirectAfterDuplicate,\n    searchParams,\n    versions,\n    viewType: 'document',\n  })\n\n  return {\n    data,\n    Document,\n    preferences,\n  }\n}\n"],"names":["getClientConfig","headers","getHeaders","canAccessAdmin","getAccessResults","isEntityHidden","parseCookies","applyLocaleFiltering","renderDocument","renderDocumentHandler","args","collectionSlug","disableActions","docID","drawerSlug","initialData","locale","overrideEntityVisibility","paramsOverride","redirectAfterCreate","redirectAfterDelete","redirectAfterDuplicate","req","i18n","payload","config","user","searchParams","versions","cookies","clientConfig","importMap","preferences","preferencesKey","find","collection","depth","limit","where","and","key","equals","id","then","res","docs","value","visibleEntities","collections","map","slug","admin","hidden","filter","Boolean","globals","permissions","data","Document","documentSubViewType","initPageResult","collectionConfig","globalConfig","global","languageOptions","undefined","translations","params","segments","String","viewType"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 6193, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/List/enrichDocsWithVersionStatus.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/List/enrichDocsWithVersionStatus.ts"],"sourcesContent":["import type { PaginatedDocs, PayloadRequest, SanitizedCollectionConfig } from 'payload'\n\n/**\n * Enriches list view documents with correct draft status display.\n * When draft=true is used in the query, Payload returns the latest draft version if it exists.\n * This function checks if draft documents also have a published version to determine \"changed\" status.\n *\n * Performance: Uses a single query to find all documents with \"changed\" status instead of N queries.\n */\nexport async function enrichDocsWithVersionStatus({\n  collectionConfig,\n  data,\n  req,\n}: {\n  collectionConfig: SanitizedCollectionConfig\n  data: PaginatedDocs\n  req: PayloadRequest\n}): Promise<PaginatedDocs> {\n  const draftsEnabled = collectionConfig?.versions?.drafts\n\n  if (!draftsEnabled || !data?.docs?.length) {\n    return data\n  }\n\n  // Find all draft documents\n  // When querying with draft:true, we get the latest draft if it exists\n  // We need to check if these drafts have a published version\n  const draftDocs = data.docs.filter((doc) => doc._status === 'draft')\n\n  if (draftDocs.length === 0) {\n    return data\n  }\n\n  const draftDocIds = draftDocs.map((doc) => doc.id).filter(Boolean)\n\n  if (draftDocIds.length === 0) {\n    return data\n  }\n\n  // OPTIMIZATION: Single query to find all document IDs that have BOTH:\n  // 1. A draft version (latest=true, _status='draft')\n  // 2. A published version (_status='published')\n  // These are the documents with \"changed\" status\n  try {\n    // TODO: This could be more efficient with a findDistinctVersions() API:\n    // const { values } = await req.payload.findDistinctVersions({\n    //   collection: collectionConfig.slug,\n    //   field: 'parent',\n    //   where: {\n    //     and: [\n    //       { parent: { in: draftDocIds } },\n    //       { 'version._status': { equals: 'published' } },\n    //     ],\n    //   },\n    // })\n    // const hasPublishedVersionSet = new Set(values)\n    //\n    // For now, we query all published versions but only select the 'parent' field\n    // to minimize data transfer, then deduplicate with a Set\n    const publishedVersions = await req.payload.findVersions({\n      collection: collectionConfig.slug,\n      depth: 0,\n      limit: 0,\n      pagination: false,\n      select: {\n        parent: true,\n      },\n      where: {\n        and: [\n          {\n            parent: {\n              in: draftDocIds,\n            },\n          },\n          {\n            'version._status': {\n              equals: 'published',\n            },\n          },\n        ],\n      },\n    })\n\n    // Create a Set of document IDs that have published versions\n    const hasPublishedVersionSet = new Set(\n      publishedVersions.docs.map((version) => version.parent).filter(Boolean),\n    )\n\n    // Enrich documents with display status\n    const enrichedDocs = data.docs.map((doc) => {\n      // If it's a draft and has a published version, show \"changed\"\n      if (doc._status === 'draft' && hasPublishedVersionSet.has(doc.id)) {\n        return {\n          ...doc,\n          _displayStatus: 'changed' as const,\n        }\n      }\n\n      return {\n        ...doc,\n        _displayStatus: doc._status as 'draft' | 'published',\n      }\n    })\n\n    return {\n      ...data,\n      docs: enrichedDocs,\n    }\n  } catch (error) {\n    // If there's an error querying versions, just return the original data\n    req.payload.logger.error({\n      err: error,\n      msg: `Error checking version status for collection ${collectionConfig.slug}`,\n    })\n    return data\n  }\n}\n"],"names":["enrichDocsWithVersionStatus","collectionConfig","data","req","draftsEnabled","versions","drafts","docs","length","draftDocs","filter","doc","_status","draftDocIds","map","id","Boolean","publishedVersions","payload","findVersions","collection","slug","depth","limit","pagination","select","parent","where","and","in","equals","hasPublishedVersionSet","Set","version","enrichedDocs","has","_displayStatus","error","logger","err","msg"],"mappings":"AAEA;;;;;;GAOA;;;;AAAO,eAAeA,4BAA4B,EAChDC,gBAAgB,EAChBC,IAAI,EACJC,GAAAA,EAKD;IACC,MAAMC,aAAA,GAAgBH,gBAAA,EAAkBI,QAAA,EAAUC,MAAA;IAElD,IAAI,CAACF,aAAA,IAAiB,CAACF,IAAA,EAAMK,IAAA,EAAMC,MAAA,EAAQ;QACzC,OAAON,IAAA;IACT;IAEA,2BAAA;IACA,sEAAA;IACA,4DAAA;IACA,MAAMO,SAAA,GAAYP,IAAA,CAAKK,IAAI,CAACG,MAAM,EAAEC,GAAA,GAAQA,GAAA,CAAIC,OAAO,KAAK;IAE5D,IAAIH,SAAA,CAAUD,MAAM,KAAK,GAAG;QAC1B,OAAON,IAAA;IACT;IAEA,MAAMW,WAAA,GAAcJ,SAAA,CAAUK,GAAG,EAAEH,GAAA,GAAQA,GAAA,CAAII,EAAE,EAAEL,MAAM,CAACM,OAAA;IAE1D,IAAIH,WAAA,CAAYL,MAAM,KAAK,GAAG;QAC5B,OAAON,IAAA;IACT;IAEA,sEAAA;IACA,oDAAA;IACA,+CAAA;IACA,gDAAA;IACA,IAAI;QACF,wEAAA;QACA,8DAAA;QACA,uCAAA;QACA,qBAAA;QACA,aAAA;QACA,aAAA;QACA,yCAAA;QACA,wDAAA;QACA,SAAA;QACA,OAAA;QACA,KAAA;QACA,iDAAA;QACA,EAAA;QACA,8EAAA;QACA,yDAAA;QACA,MAAMe,iBAAA,GAAoB,MAAMd,GAAA,CAAIe,OAAO,CAACC,YAAY,CAAC;YACvDC,UAAA,EAAYnB,gBAAA,CAAiBoB,IAAI;YACjCC,KAAA,EAAO;YACPC,KAAA,EAAO;YACPC,UAAA,EAAY;YACZC,MAAA,EAAQ;gBACNC,MAAA,EAAQ;YACV;YACAC,KAAA,EAAO;gBACLC,GAAA,EAAK;oBACH;wBACEF,MAAA,EAAQ;4BACNG,EAAA,EAAIhB;wBACN;oBACF;oBACA;wBACE,mBAAmB;4BACjBiB,MAAA,EAAQ;wBACV;oBACF;iBAAA;YAEJ;QACF;QAEA,4DAAA;QACA,MAAMC,sBAAA,GAAyB,IAAIC,GAAA,CACjCf,iBAAA,CAAkBV,IAAI,CAACO,GAAG,EAAEmB,OAAA,GAAYA,OAAA,CAAQP,MAAM,EAAEhB,MAAM,CAACM,OAAA;QAGjE,uCAAA;QACA,MAAMkB,YAAA,GAAehC,IAAA,CAAKK,IAAI,CAACO,GAAG,EAAEH,GAAA;YAClC,8DAAA;YACA,IAAIA,GAAA,CAAIC,OAAO,KAAK,WAAWmB,sBAAA,CAAuBI,GAAG,CAACxB,GAAA,CAAII,EAAE,GAAG;gBACjE,OAAO;oBACL,GAAGJ,GAAG;oBACNyB,cAAA,EAAgB;gBAClB;YACF;YAEA,OAAO;gBACL,GAAGzB,GAAG;gBACNyB,cAAA,EAAgBzB,GAAA,CAAIC,OAAAA;YACtB;QACF;QAEA,OAAO;YACL,GAAGV,IAAI;YACPK,IAAA,EAAM2B;QACR;IACF,EAAE,OAAOG,KAAA,EAAO;QACd,uEAAA;QACAlC,GAAA,CAAIe,OAAO,CAACoB,MAAM,CAACD,KAAK,CAAC;YACvBE,GAAA,EAAKF,KAAA;YACLG,GAAA,EAAK,CAAA,6CAAA,EAAgDvC,gBAAA,CAAiBoB,IAAI,EAAA;QAC5E;QACA,OAAOnB,IAAA;IACT;AACF","ignoreList":[]}},
    {"offset": {"line": 6295, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/List/createSerializableValue.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/List/createSerializableValue.ts"],"sourcesContent":["// Helper function to create serializable value for client components\nexport const createSerializableValue = (value: any): string => {\n  if (value === null || value === undefined) {\n    return 'null'\n  }\n  if (typeof value === 'object' && value?.relationTo && value?.value) {\n    return `${value.relationTo}:${value.value}`\n  }\n  if (typeof value === 'object' && value?.id) {\n    return String(value.id)\n  }\n  return String(value)\n}\n"],"names":["createSerializableValue","value","undefined","relationTo","id","String"],"mappings":"AAAA,qEAAA;;;;;AACO,MAAMA,uBAAA,IAA2BC,KAAA;IACtC,IAAIA,KAAA,KAAU,QAAQA,KAAA,KAAUC,SAAA,EAAW;QACzC,OAAO;IACT;IACA,IAAI,OAAOD,KAAA,KAAU,YAAYA,KAAA,EAAOE,UAAA,IAAcF,KAAA,EAAOA,KAAA,EAAO;QAClE,OAAO,GAAGA,KAAA,CAAME,UAAU,CAAA,CAAA,EAAIF,KAAA,CAAMA,KAAK,EAAE;IAC7C;IACA,IAAI,OAAOA,KAAA,KAAU,YAAYA,KAAA,EAAOG,EAAA,EAAI;QAC1C,OAAOC,MAAA,CAAOJ,KAAA,CAAMG,EAAE;IACxB;IACA,OAAOC,MAAA,CAAOJ,KAAA;AAChB","ignoreList":[]}},
    {"offset": {"line": 6316, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/List/extractRelationshipDisplayValue.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/List/extractRelationshipDisplayValue.ts"],"sourcesContent":["import type { ClientCollectionConfig, ClientConfig } from 'payload'\n\n// Helper function to extract display value from relationship\nexport const extractRelationshipDisplayValue = (\n  relationship: any,\n  clientConfig: ClientConfig,\n  relationshipConfig?: ClientCollectionConfig,\n): string => {\n  if (!relationship) {\n    return ''\n  }\n\n  // Handle polymorphic relationships\n  if (typeof relationship === 'object' && relationship?.relationTo && relationship?.value) {\n    const config = clientConfig.collections.find((c) => c.slug === relationship.relationTo)\n    return relationship.value?.[config?.admin?.useAsTitle || 'id'] || ''\n  }\n\n  // Handle regular relationships\n  if (typeof relationship === 'object' && relationship?.id) {\n    return relationship[relationshipConfig?.admin?.useAsTitle || 'id'] || ''\n  }\n\n  return String(relationship)\n}\n"],"names":["extractRelationshipDisplayValue","relationship","clientConfig","relationshipConfig","relationTo","value","config","collections","find","c","slug","admin","useAsTitle","id","String"],"mappings":"AAEA,6DAAA;;;;;AACO,MAAMA,+BAAA,GAAkCA,CAC7CC,YAAA,EACAC,YAAA,EACAC,kBAAA;IAEA,IAAI,CAACF,YAAA,EAAc;QACjB,OAAO;IACT;IAEA,mCAAA;IACA,IAAI,OAAOA,YAAA,KAAiB,YAAYA,YAAA,EAAcG,UAAA,IAAcH,YAAA,EAAcI,KAAA,EAAO;QACvF,MAAMC,MAAA,GAASJ,YAAA,CAAaK,WAAW,CAACC,IAAI,EAAEC,CAAA,GAAMA,CAAA,CAAEC,IAAI,KAAKT,YAAA,CAAaG,UAAU;QACtF,OAAOH,YAAA,CAAaI,KAAK,EAAA,CAAGC,MAAA,EAAQK,KAAA,EAAOC,UAAA,IAAc,KAAK,IAAI;IACpE;IAEA,+BAAA;IACA,IAAI,OAAOX,YAAA,KAAiB,YAAYA,YAAA,EAAcY,EAAA,EAAI;QACxD,OAAOZ,YAAY,CAACE,kBAAA,EAAoBQ,KAAA,EAAOC,UAAA,IAAc,KAAK,IAAI;IACxE;IAEA,OAAOE,MAAA,CAAOb,YAAA;AAChB","ignoreList":[]}},
    {"offset": {"line": 6340, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/List/extractValueOrRelationshipID.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/List/extractValueOrRelationshipID.ts"],"sourcesContent":["// Helper function to extract value or relationship ID for database queries\nexport const extractValueOrRelationshipID = (relationship: any): any => {\n  if (!relationship || typeof relationship !== 'object') {\n    return relationship\n  }\n\n  // For polymorphic relationships, preserve structure but ensure IDs are strings\n  if (relationship?.relationTo && relationship?.value) {\n    return {\n      relationTo: relationship.relationTo,\n      value: String(relationship.value?.id || relationship.value),\n    }\n  }\n\n  // For regular relationships, extract ID\n  if (relationship?.id) {\n    return String(relationship.id)\n  }\n\n  return relationship\n}\n"],"names":["extractValueOrRelationshipID","relationship","relationTo","value","String","id"],"mappings":"AAAA,2EAAA;;;;;AACO,MAAMA,4BAAA,IAAgCC,YAAA;IAC3C,IAAI,CAACA,YAAA,IAAgB,OAAOA,YAAA,KAAiB,UAAU;QACrD,OAAOA,YAAA;IACT;IAEA,+EAAA;IACA,IAAIA,YAAA,EAAcC,UAAA,IAAcD,YAAA,EAAcE,KAAA,EAAO;QACnD,OAAO;YACLD,UAAA,EAAYD,YAAA,CAAaC,UAAU;YACnCC,KAAA,EAAOC,MAAA,CAAOH,YAAA,CAAaE,KAAK,EAAEE,EAAA,IAAMJ,YAAA,CAAaE,KAAK;QAC5D;IACF;IAEA,wCAAA;IACA,IAAIF,YAAA,EAAcI,EAAA,EAAI;QACpB,OAAOD,MAAA,CAAOH,YAAA,CAAaI,EAAE;IAC/B;IAEA,OAAOJ,YAAA;AACT","ignoreList":[]}},
    {"offset": {"line": 6368, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/List/handleGroupBy.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/List/handleGroupBy.ts"],"sourcesContent":["import type {\n  ClientCollectionConfig,\n  ClientConfig,\n  Column,\n  ListQuery,\n  PaginatedDocs,\n  PayloadRequest,\n  SanitizedCollectionConfig,\n  SanitizedFieldsPermissions,\n  SelectType,\n  ViewTypes,\n  Where,\n} from 'payload'\n\nimport { renderTable } from '@payloadcms/ui/rsc'\nimport { formatDate } from '@payloadcms/ui/shared'\nimport { flattenAllFields } from 'payload'\n\nimport { createSerializableValue } from './createSerializableValue.js'\nimport { extractRelationshipDisplayValue } from './extractRelationshipDisplayValue.js'\nimport { extractValueOrRelationshipID } from './extractValueOrRelationshipID.js'\n\nexport const handleGroupBy = async ({\n  clientCollectionConfig,\n  clientConfig,\n  collectionConfig,\n  collectionSlug,\n  columns,\n  customCellProps,\n  drawerSlug,\n  enableRowSelections,\n  fieldPermissions,\n  query,\n  req,\n  select,\n  trash = false,\n  user,\n  viewType,\n  where: whereWithMergedSearch,\n}: {\n  clientCollectionConfig: ClientCollectionConfig\n  clientConfig: ClientConfig\n  collectionConfig: SanitizedCollectionConfig\n  collectionSlug: string\n  columns: any[]\n  customCellProps?: Record<string, any>\n  drawerSlug?: string\n  enableRowSelections?: boolean\n  fieldPermissions?: SanitizedFieldsPermissions\n  query?: ListQuery\n  req: PayloadRequest\n  select?: SelectType\n  trash?: boolean\n  user: any\n  viewType?: ViewTypes\n  where: Where\n}): Promise<{\n  columnState: Column[]\n  data: PaginatedDocs\n  Table: null | React.ReactNode | React.ReactNode[]\n}> => {\n  let Table: React.ReactNode | React.ReactNode[] = null\n  let columnState: Column[]\n\n  const dataByGroup: Record<string, PaginatedDocs> = {}\n\n  // NOTE: is there a faster/better way to do this?\n  const flattenedFields = flattenAllFields({ fields: collectionConfig.fields })\n\n  const groupByFieldPath = query.groupBy.replace(/^-/, '')\n\n  const groupByField = flattenedFields.find((f) => f.name === groupByFieldPath)\n\n  // Set up population for relationships\n  let populate\n\n  if (groupByField?.type === 'relationship' && groupByField.relationTo) {\n    const relationTo = Array.isArray(groupByField.relationTo)\n      ? groupByField.relationTo\n      : [groupByField.relationTo]\n\n    populate = {}\n    relationTo.forEach((rel) => {\n      const config = clientConfig.collections.find((c) => c.slug === rel)\n      populate[rel] = { [config?.admin?.useAsTitle || 'id']: true }\n    })\n  }\n\n  const distinct = await req.payload.findDistinct({\n    collection: collectionSlug,\n    depth: 1,\n    field: groupByFieldPath,\n    limit: query?.limit ? Number(query.limit) : undefined,\n    locale: req.locale,\n    overrideAccess: false,\n    page: query?.page ? Number(query.page) : undefined,\n    populate,\n    req,\n    sort: query?.groupBy,\n    trash,\n    where: whereWithMergedSearch,\n  })\n\n  const data = {\n    ...distinct,\n    docs: distinct.values?.map(() => ({})) || [],\n    values: undefined,\n  }\n\n  await Promise.all(\n    (distinct.values || []).map(async (distinctValue, i) => {\n      const potentiallyPopulatedRelationship = distinctValue[groupByFieldPath]\n\n      // Extract value or relationship ID for database query\n      const valueOrRelationshipID = extractValueOrRelationshipID(potentiallyPopulatedRelationship)\n\n      const groupData = await req.payload.find({\n        collection: collectionSlug,\n        depth: 0,\n        draft: true,\n        fallbackLocale: false,\n        includeLockStatus: true,\n        limit: query?.queryByGroup?.[valueOrRelationshipID]?.limit\n          ? Number(query.queryByGroup[valueOrRelationshipID].limit)\n          : undefined,\n        locale: req.locale,\n        overrideAccess: false,\n        page: query?.queryByGroup?.[valueOrRelationshipID]?.page\n          ? Number(query.queryByGroup[valueOrRelationshipID].page)\n          : undefined,\n        req,\n        // Note: if we wanted to enable table-by-table sorting, we could use this:\n        // sort: query?.queryByGroup?.[valueOrRelationshipID]?.sort,\n        select,\n        sort: query?.sort,\n        trash,\n        user,\n        where: {\n          ...(whereWithMergedSearch || {}),\n          [groupByFieldPath]: {\n            equals: valueOrRelationshipID,\n          },\n        },\n      })\n\n      // Extract heading\n      let heading: string\n\n      if (potentiallyPopulatedRelationship === null) {\n        heading = req.i18n.t('general:noValue')\n      } else if (groupByField?.type === 'relationship') {\n        const relationshipConfig = Array.isArray(groupByField.relationTo)\n          ? undefined\n          : clientConfig.collections.find((c) => c.slug === groupByField.relationTo)\n        heading = extractRelationshipDisplayValue(\n          potentiallyPopulatedRelationship,\n          clientConfig,\n          relationshipConfig,\n        )\n      } else if (groupByField?.type === 'date') {\n        heading = formatDate({\n          date: String(valueOrRelationshipID),\n          i18n: req.i18n,\n          pattern: clientConfig.admin.dateFormat,\n        })\n      } else if (groupByField?.type === 'checkbox') {\n        if (valueOrRelationshipID === true) {\n          heading = req.i18n.t('general:true')\n        }\n        if (valueOrRelationshipID === false) {\n          heading = req.i18n.t('general:false')\n        }\n      } else {\n        heading = String(valueOrRelationshipID)\n      }\n\n      // Create serializable value for client\n      const serializableValue = createSerializableValue(valueOrRelationshipID)\n\n      if (groupData.docs && groupData.docs.length > 0) {\n        const { columnState: newColumnState, Table: NewTable } = renderTable({\n          clientCollectionConfig,\n          collectionConfig,\n          columns,\n          customCellProps,\n          data: groupData,\n          drawerSlug,\n          enableRowSelections,\n          fieldPermissions,\n          groupByFieldPath,\n          groupByValue: serializableValue,\n          heading: heading || req.i18n.t('general:noValue'),\n          i18n: req.i18n,\n          key: `table-${serializableValue}`,\n          orderableFieldName: collectionConfig.orderable === true ? '_order' : undefined,\n          payload: req.payload,\n          query,\n          useAsTitle: collectionConfig.admin.useAsTitle,\n          viewType,\n        })\n\n        // Only need to set `columnState` once, using the first table's column state\n        // This will avoid needing to generate column state explicitly for root context that wraps all tables\n        if (!columnState) {\n          columnState = newColumnState\n        }\n\n        if (!Table) {\n          Table = []\n        }\n\n        dataByGroup[serializableValue] = groupData\n        ;(Table as Array<React.ReactNode>)[i] = NewTable\n      }\n    }),\n  )\n\n  return {\n    columnState,\n    data,\n    Table,\n  }\n}\n"],"names":["renderTable","formatDate","flattenAllFields","createSerializableValue","extractRelationshipDisplayValue","extractValueOrRelationshipID","handleGroupBy","clientCollectionConfig","clientConfig","collectionConfig","collectionSlug","columns","customCellProps","drawerSlug","enableRowSelections","fieldPermissions","query","req","select","trash","user","viewType","where","whereWithMergedSearch","Table","columnState","dataByGroup","flattenedFields","fields","groupByFieldPath","groupBy","replace","groupByField","find","f","name","populate","type","relationTo","Array","isArray","forEach","rel","config","collections","c","slug","admin","useAsTitle","distinct","payload","findDistinct","collection","depth","field","limit","Number","undefined","locale","overrideAccess","page","sort","data","docs","values","map","Promise","all","distinctValue","i","potentiallyPopulatedRelationship","valueOrRelationshipID","groupData","draft","fallbackLocale","includeLockStatus","queryByGroup","equals","heading","i18n","t","relationshipConfig","date","String","pattern","dateFormat","serializableValue","length","newColumnState","NewTable","groupByValue","key","orderableFieldName","orderable"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 6532, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/List/renderListViewSlots.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/List/renderListViewSlots.tsx"],"sourcesContent":["import type {\n  AfterListClientProps,\n  AfterListTableClientProps,\n  AfterListTableServerPropsOnly,\n  BeforeListClientProps,\n  BeforeListServerPropsOnly,\n  BeforeListTableClientProps,\n  BeforeListTableServerPropsOnly,\n  ListViewServerPropsOnly,\n  ListViewSlots,\n  ListViewSlotSharedClientProps,\n  Payload,\n  SanitizedCollectionConfig,\n  StaticDescription,\n  ViewDescriptionClientProps,\n  ViewDescriptionServerPropsOnly,\n} from 'payload'\n\nimport { Banner } from '@payloadcms/ui/elements/Banner'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport React from 'react'\n\ntype Args = {\n  clientProps: ListViewSlotSharedClientProps\n  collectionConfig: SanitizedCollectionConfig\n  description?: StaticDescription\n  notFoundDocId?: null | string\n  payload: Payload\n  serverProps: ListViewServerPropsOnly\n}\n\nexport const renderListViewSlots = ({\n  clientProps,\n  collectionConfig,\n  description,\n  notFoundDocId,\n  payload,\n  serverProps,\n}: Args): ListViewSlots => {\n  const result: ListViewSlots = {} as ListViewSlots\n\n  if (collectionConfig.admin.components?.afterList) {\n    result.AfterList = RenderServerComponent({\n      clientProps: clientProps satisfies AfterListClientProps,\n      Component: collectionConfig.admin.components.afterList,\n      importMap: payload.importMap,\n      serverProps: serverProps satisfies AfterListTableServerPropsOnly,\n    })\n  }\n\n  const listMenuItems = collectionConfig.admin.components?.listMenuItems\n\n  if (Array.isArray(listMenuItems)) {\n    result.listMenuItems = [\n      RenderServerComponent({\n        clientProps,\n        Component: listMenuItems,\n        importMap: payload.importMap,\n        serverProps,\n      }),\n    ]\n  }\n\n  if (collectionConfig.admin.components?.afterListTable) {\n    result.AfterListTable = RenderServerComponent({\n      clientProps: clientProps satisfies AfterListTableClientProps,\n      Component: collectionConfig.admin.components.afterListTable,\n      importMap: payload.importMap,\n      serverProps: serverProps satisfies AfterListTableServerPropsOnly,\n    })\n  }\n\n  if (collectionConfig.admin.components?.beforeList) {\n    result.BeforeList = RenderServerComponent({\n      clientProps: clientProps satisfies BeforeListClientProps,\n      Component: collectionConfig.admin.components.beforeList,\n      importMap: payload.importMap,\n      serverProps: serverProps satisfies BeforeListServerPropsOnly,\n    })\n  }\n\n  // Handle beforeListTable with optional banner\n  const existingBeforeListTable = collectionConfig.admin.components?.beforeListTable\n    ? RenderServerComponent({\n        clientProps: clientProps satisfies BeforeListTableClientProps,\n        Component: collectionConfig.admin.components.beforeListTable,\n        importMap: payload.importMap,\n        serverProps: serverProps satisfies BeforeListTableServerPropsOnly,\n      })\n    : null\n\n  // Create banner for document not found\n  const notFoundBanner = notFoundDocId ? (\n    <Banner type=\"error\">\n      {serverProps.i18n.t('error:documentNotFound', { id: notFoundDocId })}\n    </Banner>\n  ) : null\n\n  // Combine banner and existing component\n  if (notFoundBanner || existingBeforeListTable) {\n    result.BeforeListTable = (\n      <React.Fragment>\n        {notFoundBanner}\n        {existingBeforeListTable}\n      </React.Fragment>\n    )\n  }\n\n  if (collectionConfig.admin.components?.Description) {\n    result.Description = RenderServerComponent({\n      clientProps: {\n        collectionSlug: collectionConfig.slug,\n        description,\n      } satisfies ViewDescriptionClientProps,\n      Component: collectionConfig.admin.components.Description,\n      importMap: payload.importMap,\n      serverProps: serverProps satisfies ViewDescriptionServerPropsOnly,\n    })\n  }\n\n  return result\n}\n"],"names":["Banner","RenderServerComponent","React","renderListViewSlots","clientProps","collectionConfig","description","notFoundDocId","payload","serverProps","result","admin","components","afterList","AfterList","Component","importMap","listMenuItems","Array","isArray","afterListTable","AfterListTable","beforeList","BeforeList","existingBeforeListTable","beforeListTable","notFoundBanner","_jsx","type","i18n","t","id","BeforeListTable","_jsxs","Fragment","Description","collectionSlug","slug"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 6628, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/List/resolveAllFilterOptions.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/List/resolveAllFilterOptions.ts"],"sourcesContent":["import type { Field, PayloadRequest, ResolvedFilterOptions } from 'payload'\n\nimport { resolveFilterOptions } from '@payloadcms/ui/rsc'\nimport {\n  fieldAffectsData,\n  fieldHasSubFields,\n  fieldIsHiddenOrDisabled,\n  tabHasName,\n} from 'payload/shared'\n\nexport const resolveAllFilterOptions = async ({\n  fields,\n  pathPrefix,\n  req,\n  result,\n}: {\n  fields: Field[]\n  pathPrefix?: string\n  req: PayloadRequest\n  result?: Map<string, ResolvedFilterOptions>\n}): Promise<Map<string, ResolvedFilterOptions>> => {\n  const resolvedFilterOptions = !result ? new Map<string, ResolvedFilterOptions>() : result\n\n  await Promise.all(\n    fields.map(async (field) => {\n      if (fieldIsHiddenOrDisabled(field)) {\n        return\n      }\n\n      const fieldPath = fieldAffectsData(field)\n        ? pathPrefix\n          ? `${pathPrefix}.${field.name}`\n          : field.name\n        : pathPrefix\n\n      if (\n        (field.type === 'relationship' || field.type === 'upload') &&\n        'filterOptions' in field &&\n        field.filterOptions\n      ) {\n        const options = await resolveFilterOptions(field.filterOptions, {\n          id: undefined,\n          blockData: undefined,\n          data: {}, // use empty object to prevent breaking queries when accessing properties of `data`\n          relationTo: field.relationTo,\n          req,\n          siblingData: {}, // use empty object to prevent breaking queries when accessing properties of `siblingData`\n          user: req.user,\n        })\n\n        resolvedFilterOptions.set(fieldPath, options)\n      }\n\n      if (fieldHasSubFields(field)) {\n        await resolveAllFilterOptions({\n          fields: field.fields,\n          pathPrefix: fieldPath,\n          req,\n          result: resolvedFilterOptions,\n        })\n      }\n\n      if (field.type === 'tabs') {\n        await Promise.all(\n          field.tabs.map(async (tab) => {\n            const tabPath = tabHasName(tab)\n              ? fieldPath\n                ? `${fieldPath}.${tab.name}`\n                : tab.name\n              : fieldPath\n\n            await resolveAllFilterOptions({\n              fields: tab.fields,\n              pathPrefix: tabPath,\n              req,\n              result: resolvedFilterOptions,\n            })\n          }),\n        )\n      }\n    }),\n  )\n\n  return resolvedFilterOptions\n}\n"],"names":["resolveFilterOptions","fieldAffectsData","fieldHasSubFields","fieldIsHiddenOrDisabled","tabHasName","resolveAllFilterOptions","fields","pathPrefix","req","result","resolvedFilterOptions","Map","Promise","all","map","field","fieldPath","name","type","filterOptions","options","id","undefined","blockData","data","relationTo","siblingData","user","set","tabs","tab","tabPath"],"mappings":";;;;AAEA,SAASA,oBAAoB,QAAQ;AACrC,SACEC,gBAAgB,EAChBC,iBAAiB,EACjBC,uBAAuB,EACvBC,UAAU,QACL;;;;;;;AAEA,MAAMC,uBAAA,GAA0B,MAAAA,CAAO,EAC5CC,MAAM,EACNC,UAAU,EACVC,GAAG,EACHC,MAAAA,EAMD;IACC,MAAMC,qBAAA,GAAwB,CAACD,MAAA,GAAS,IAAIE,GAAA,KAAuCF,MAAA;IAEnF,MAAMG,OAAA,CAAQC,GAAG,CACfP,MAAA,CAAOQ,GAAG,CAAC,OAAOC,KAAA;QAChB,QAAIZ,2MAAA,EAAwBY,KAAA,GAAQ;YAClC;QACF;QAEA,MAAMC,SAAA,OAAYf,oMAAA,EAAiBc,KAAA,IAC/BR,UAAA,GACE,GAAGA,UAAA,CAAA,CAAA,EAAcQ,KAAA,CAAME,IAAI,EAAE,GAC7BF,KAAA,CAAME,IAAI,GACZV,UAAA;QAEJ,IACE,CAACQ,KAAA,CAAMG,IAAI,KAAK,kBAAkBH,KAAA,CAAMG,IAAI,KAAK,QAAO,KACxD,mBAAmBH,KAAA,IACnBA,KAAA,CAAMI,aAAa,EACnB;YACA,MAAMC,OAAA,GAAU,UAAMpB,uMAAA,EAAqBe,KAAA,CAAMI,aAAa,EAAE;gBAC9DE,EAAA,EAAIC,SAAA;gBACJC,SAAA,EAAWD,SAAA;gBACXE,IAAA,EAAM,CAAC;gBACPC,UAAA,EAAYV,KAAA,CAAMU,UAAU;gBAC5BjB,GAAA;gBACAkB,WAAA,EAAa,CAAC;gBACdC,IAAA,EAAMnB,GAAA,CAAImB,IAAAA;YACZ;YAEAjB,qBAAA,CAAsBkB,GAAG,CAACZ,SAAA,EAAWI,OAAA;QACvC;QAEA,QAAIlB,qMAAA,EAAkBa,KAAA,GAAQ;YAC5B,MAAMV,uBAAA,CAAwB;gBAC5BC,MAAA,EAAQS,KAAA,CAAMT,MAAM;gBACpBC,UAAA,EAAYS,SAAA;gBACZR,GAAA;gBACAC,MAAA,EAAQC;YACV;QACF;QAEA,IAAIK,KAAA,CAAMG,IAAI,KAAK,QAAQ;YACzB,MAAMN,OAAA,CAAQC,GAAG,CACfE,KAAA,CAAMc,IAAI,CAACf,GAAG,CAAC,OAAOgB,GAAA;gBACpB,MAAMC,OAAA,OAAU3B,8LAAA,EAAW0B,GAAA,IACvBd,SAAA,GACE,GAAGA,SAAA,CAAA,CAAA,EAAac,GAAA,CAAIb,IAAI,EAAE,GAC1Ba,GAAA,CAAIb,IAAI,GACVD,SAAA;gBAEJ,MAAMX,uBAAA,CAAwB;oBAC5BC,MAAA,EAAQwB,GAAA,CAAIxB,MAAM;oBAClBC,UAAA,EAAYwB,OAAA;oBACZvB,GAAA;oBACAC,MAAA,EAAQC;gBACV;YACF;QAEJ;IACF;IAGF,OAAOA,qBAAA;AACT","ignoreList":[]}},
    {"offset": {"line": 6688, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/List/transformColumnsToSelect.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/List/transformColumnsToSelect.ts"],"sourcesContent":["import type { ColumnPreference, SelectType } from 'payload'\n\nimport { unflatten } from 'payload/shared'\n\nexport const transformColumnsToSelect = (columns: ColumnPreference[]): SelectType => {\n  const columnsSelect = columns.reduce((acc, column) => {\n    if (column.active) {\n      acc[column.accessor] = true\n    }\n    return acc\n  }, {} as SelectType)\n\n  return unflatten(columnsSelect)\n}\n"],"names":["unflatten","transformColumnsToSelect","columns","columnsSelect","reduce","acc","column","active","accessor"],"mappings":";;;;AAEA,SAASA,SAAS,QAAQ;;;;;;AAEnB,MAAMC,wBAAA,IAA4BC,OAAA;IACvC,MAAMC,aAAA,GAAgBD,OAAA,CAAQE,MAAM,CAAC,CAACC,GAAA,EAAKC,MAAA;QACzC,IAAIA,MAAA,CAAOC,MAAM,EAAE;YACjBF,GAAG,CAACC,MAAA,CAAOE,QAAQ,CAAC,GAAG;QACzB;QACA,OAAOH,GAAA;IACT,GAAG,CAAC;IAEJ,WAAOL,6LAAA,EAAUG,aAAA;AACnB","ignoreList":[]}},
    {"offset": {"line": 6714, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/List/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/List/index.tsx"],"sourcesContent":["import type {\n  AdminViewServerProps,\n  CollectionPreferences,\n  Column,\n  ColumnPreference,\n  ListQuery,\n  ListViewClientProps,\n  ListViewServerPropsOnly,\n  PaginatedDocs,\n  PayloadComponent,\n  QueryPreset,\n  SanitizedCollectionPermission,\n} from 'payload'\n\nimport { DefaultListView, HydrateAuthProvider, ListQueryProvider } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { getColumns, renderFilters, renderTable, upsertPreferences } from '@payloadcms/ui/rsc'\nimport { notFound } from 'next/navigation.js'\nimport {\n  appendUploadSelectFields,\n  combineWhereConstraints,\n  formatAdminURL,\n  isNumber,\n  mergeListSearchAndWhere,\n  transformColumnsToPreferences,\n  transformColumnsToSearchParams,\n} from 'payload/shared'\nimport React, { Fragment } from 'react'\n\nimport { getDocumentPermissions } from '../Document/getDocumentPermissions.js'\nimport { enrichDocsWithVersionStatus } from './enrichDocsWithVersionStatus.js'\nimport { handleGroupBy } from './handleGroupBy.js'\nimport { renderListViewSlots } from './renderListViewSlots.js'\nimport { resolveAllFilterOptions } from './resolveAllFilterOptions.js'\nimport { transformColumnsToSelect } from './transformColumnsToSelect.js'\n\n/**\n * @internal\n */\nexport type RenderListViewArgs = {\n  /**\n   * Allows providing your own list view component. This will override the default list view component and\n   * the collection's configured list view component (if any).\n   */\n  ComponentOverride?:\n    | PayloadComponent\n    | React.ComponentType<ListViewClientProps | (ListViewClientProps & ListViewServerPropsOnly)>\n  customCellProps?: Record<string, any>\n  disableBulkDelete?: boolean\n  disableBulkEdit?: boolean\n  disableQueryPresets?: boolean\n  drawerSlug?: string\n  enableRowSelections: boolean\n  overrideEntityVisibility?: boolean\n  /**\n   * If not ListQuery is provided, `req.query` will be used.\n   */\n  query?: ListQuery\n  redirectAfterDelete?: boolean\n  redirectAfterDuplicate?: boolean\n  /**\n   * @experimental This prop is subject to change in future releases.\n   */\n  trash?: boolean\n} & AdminViewServerProps\n\n/**\n * This function is responsible for rendering\n * the list view on the server for both:\n *  - default list view\n *  - list view within drawers\n *\n * @internal\n */\nexport const renderListView = async (\n  args: RenderListViewArgs,\n): Promise<{\n  List: React.ReactNode\n}> => {\n  const {\n    clientConfig,\n    ComponentOverride,\n    customCellProps,\n    disableBulkDelete,\n    disableBulkEdit,\n    disableQueryPresets,\n    drawerSlug,\n    enableRowSelections,\n    initPageResult,\n    overrideEntityVisibility,\n    params,\n    query: queryFromArgs,\n    searchParams,\n    trash,\n    viewType,\n  } = args\n\n  const {\n    collectionConfig,\n    collectionConfig: { slug: collectionSlug },\n    locale: fullLocale,\n    permissions,\n    req,\n    req: {\n      i18n,\n      payload,\n      payload: { config },\n      query: queryFromReq,\n      user,\n    },\n    visibleEntities,\n  } = initPageResult\n  const {\n    routes: { admin: adminRoute },\n  } = config\n\n  if (\n    !collectionConfig ||\n    !permissions?.collections?.[collectionSlug]?.read ||\n    (!visibleEntities.collections.includes(collectionSlug) && !overrideEntityVisibility)\n  ) {\n    throw new Error('not-found')\n  }\n\n  const query: ListQuery = queryFromArgs || queryFromReq\n\n  const columnsFromQuery: ColumnPreference[] = transformColumnsToPreferences(query?.columns)\n\n  query.queryByGroup =\n    query?.queryByGroup && typeof query.queryByGroup === 'string'\n      ? JSON.parse(query.queryByGroup)\n      : query?.queryByGroup\n\n  const collectionPreferences = await upsertPreferences<CollectionPreferences>({\n    key: `collection-${collectionSlug}`,\n    req,\n    value: {\n      columns: columnsFromQuery,\n      groupBy: query?.groupBy,\n      limit: isNumber(query?.limit) ? Number(query.limit) : undefined,\n      preset: query?.preset,\n      sort: query?.sort as string,\n    },\n  })\n\n  let queryPreset: QueryPreset | undefined\n  let queryPresetPermissions: SanitizedCollectionPermission | undefined\n\n  if (collectionPreferences?.preset) {\n    try {\n      queryPreset = (await payload.findByID({\n        id: collectionPreferences?.preset,\n        collection: 'payload-query-presets',\n        depth: 0,\n        overrideAccess: false,\n        user,\n      })) as QueryPreset\n\n      if (queryPreset) {\n        queryPresetPermissions = (\n          await getDocumentPermissions({\n            id: queryPreset.id,\n            collectionConfig: req.payload.collections['payload-query-presets'].config,\n            data: queryPreset,\n            req,\n          })\n        )?.docPermissions\n      }\n    } catch (err) {\n      req.payload.logger.error(`Error fetching query preset or preset permissions: ${err}`)\n    }\n  }\n\n  query.preset = queryPreset?.id\n  if (queryPreset?.where && !query.where) {\n    query.where = queryPreset.where\n  }\n  query.groupBy = query.groupBy ?? queryPreset?.groupBy ?? collectionPreferences?.groupBy\n\n  const columnPreference = query.columns\n    ? transformColumnsToPreferences(query.columns)\n    : (queryPreset?.columns ?? collectionPreferences?.columns)\n  query.columns = transformColumnsToSearchParams(columnPreference)\n\n  query.page = isNumber(query?.page) ? Number(query.page) : 0\n\n  query.limit = collectionPreferences?.limit || collectionConfig.admin.pagination.defaultLimit\n\n  query.sort =\n    collectionPreferences?.sort ||\n    (typeof collectionConfig.defaultSort === 'string' ? collectionConfig.defaultSort : undefined)\n\n  const baseFilterConstraint = await (\n    collectionConfig.admin?.baseFilter ?? collectionConfig.admin?.baseListFilter\n  )?.({\n    limit: query.limit,\n    page: query.page,\n    req,\n    sort: query.sort,\n  })\n\n  let whereWithMergedSearch = mergeListSearchAndWhere({\n    collectionConfig,\n    search: typeof query?.search === 'string' ? query.search : undefined,\n    where: combineWhereConstraints([query?.where, baseFilterConstraint]),\n  })\n\n  if (trash === true) {\n    whereWithMergedSearch = {\n      and: [\n        whereWithMergedSearch,\n        {\n          deletedAt: {\n            exists: true,\n          },\n        },\n      ],\n    }\n  }\n\n  let Table: React.ReactNode | React.ReactNode[] = null\n  let columnState: Column[] = []\n  let data: PaginatedDocs = {\n    // no results default\n    docs: [],\n    hasNextPage: false,\n    hasPrevPage: false,\n    limit: query.limit,\n    nextPage: null,\n    page: 1,\n    pagingCounter: 0,\n    prevPage: null,\n    totalDocs: 0,\n    totalPages: 0,\n  }\n\n  const clientCollectionConfig = clientConfig.collections.find((c) => c.slug === collectionSlug)\n\n  const columns = getColumns({\n    clientConfig,\n    collectionConfig: clientCollectionConfig,\n    collectionSlug,\n    columns: columnPreference,\n    i18n,\n    permissions,\n  })\n\n  const select = collectionConfig.admin.enableListViewSelectAPI\n    ? transformColumnsToSelect(columns)\n    : undefined\n\n  /** Force select image fields for list view thumbnails */\n  appendUploadSelectFields({\n    collectionConfig,\n    select,\n  })\n\n  try {\n    if (collectionConfig.admin.groupBy && query.groupBy) {\n      ;({ columnState, data, Table } = await handleGroupBy({\n        clientCollectionConfig,\n        clientConfig,\n        collectionConfig,\n        collectionSlug,\n        columns,\n        customCellProps,\n        drawerSlug,\n        enableRowSelections,\n        fieldPermissions: permissions?.collections?.[collectionSlug]?.fields,\n        query,\n        req,\n        select,\n        trash,\n        user,\n        viewType,\n        where: whereWithMergedSearch,\n      }))\n\n      // Enrich documents with correct display status for drafts\n      data = await enrichDocsWithVersionStatus({\n        collectionConfig,\n        data,\n        req,\n      })\n    } else {\n      data = await req.payload.find({\n        collection: collectionSlug,\n        depth: 0,\n        draft: true,\n        fallbackLocale: false,\n        includeLockStatus: true,\n        limit: query?.limit ? Number(query.limit) : undefined,\n        locale: req.locale,\n        overrideAccess: false,\n        page: query?.page ? Number(query.page) : undefined,\n        req,\n        select,\n        sort: query?.sort,\n        trash,\n        user,\n        where: whereWithMergedSearch,\n      })\n\n      // Enrich documents with correct display status for drafts\n      data = await enrichDocsWithVersionStatus({\n        collectionConfig,\n        data,\n        req,\n      })\n      ;({ columnState, Table } = renderTable({\n        clientCollectionConfig,\n        collectionConfig,\n        columns,\n        customCellProps,\n        data,\n        drawerSlug,\n        enableRowSelections,\n        fieldPermissions: permissions?.collections?.[collectionSlug]?.fields,\n        i18n: req.i18n,\n        orderableFieldName: collectionConfig.orderable === true ? '_order' : undefined,\n        payload: req.payload,\n        query,\n        req,\n        useAsTitle: collectionConfig.admin.useAsTitle,\n        viewType,\n      }))\n    }\n  } catch (err) {\n    if (err.name !== 'QueryError') {\n      // QueryErrors are expected when a user filters by a field they do not have access to\n      req.payload.logger.error({\n        err,\n        msg: `There was an error fetching the list view data for collection ${collectionSlug}`,\n      })\n      throw err\n    }\n  }\n\n  const renderedFilters = renderFilters(collectionConfig.fields, req.payload.importMap)\n\n  const resolvedFilterOptions = await resolveAllFilterOptions({\n    fields: collectionConfig.fields,\n    req,\n  })\n\n  const staticDescription =\n    typeof collectionConfig.admin.description === 'function'\n      ? collectionConfig.admin.description({ t: i18n.t })\n      : collectionConfig.admin.description\n\n  const newDocumentURL = formatAdminURL({\n    adminRoute,\n    path: `/collections/${collectionSlug}/create`,\n  })\n\n  const hasCreatePermission = permissions?.collections?.[collectionSlug]?.create\n  const hasDeletePermission = permissions?.collections?.[collectionSlug]?.delete\n\n  // Check if there's a notFound query parameter (document ID that wasn't found)\n  const notFoundDocId = typeof searchParams?.notFound === 'string' ? searchParams.notFound : null\n\n  const serverProps: ListViewServerPropsOnly = {\n    collectionConfig,\n    data,\n    i18n,\n    limit: query.limit,\n    listPreferences: collectionPreferences,\n    listSearchableFields: collectionConfig.admin.listSearchableFields,\n    locale: fullLocale,\n    params,\n    payload,\n    permissions,\n    searchParams,\n    user,\n  }\n\n  const listViewSlots = renderListViewSlots({\n    clientProps: {\n      collectionSlug,\n      hasCreatePermission,\n      hasDeletePermission,\n      newDocumentURL,\n    },\n    collectionConfig,\n    description: staticDescription,\n    notFoundDocId,\n    payload,\n    serverProps,\n  })\n\n  const isInDrawer = Boolean(drawerSlug)\n\n  // Needed to prevent: Only plain objects can be passed to Client Components from Server Components. Objects with toJSON methods are not supported. Convert it manually to a simple value before passing it to props.\n  // Is there a way to avoid this? The `where` object is already seemingly plain, but is not bc it originates from the params.\n  query.where = query?.where ? JSON.parse(JSON.stringify(query?.where || {})) : undefined\n\n  return {\n    List: (\n      <Fragment>\n        <HydrateAuthProvider permissions={permissions} />\n        <ListQueryProvider\n          collectionSlug={collectionSlug}\n          data={data}\n          modifySearchParams={!isInDrawer}\n          orderableFieldName={collectionConfig.orderable === true ? '_order' : undefined}\n          query={query}\n        >\n          {RenderServerComponent({\n            clientProps: {\n              ...listViewSlots,\n              collectionSlug,\n              columnState,\n              disableBulkDelete,\n              disableBulkEdit: collectionConfig.disableBulkEdit ?? disableBulkEdit,\n              disableQueryPresets,\n              enableRowSelections,\n              hasCreatePermission,\n              hasDeletePermission,\n              listPreferences: collectionPreferences,\n              newDocumentURL,\n              queryPreset,\n              queryPresetPermissions,\n              renderedFilters,\n              resolvedFilterOptions,\n              Table,\n              viewType,\n            } satisfies ListViewClientProps,\n            Component:\n              ComponentOverride ?? collectionConfig?.admin?.components?.views?.list?.Component,\n            Fallback: DefaultListView,\n            importMap: payload.importMap,\n            serverProps,\n          })}\n        </ListQueryProvider>\n      </Fragment>\n    ),\n  }\n}\n\nexport const ListView: React.FC<RenderListViewArgs> = async (args) => {\n  try {\n    const { List: RenderedList } = await renderListView({ ...args, enableRowSelections: true })\n    return RenderedList\n  } catch (error) {\n    // Pass through Next.js errors\n    if (error.message === 'not-found') {\n      notFound()\n    } else {\n      console.error(error) // eslint-disable-line no-console\n    }\n  }\n}\n"],"names":["DefaultListView","HydrateAuthProvider","ListQueryProvider","RenderServerComponent","getColumns","renderFilters","renderTable","upsertPreferences","notFound","appendUploadSelectFields","combineWhereConstraints","formatAdminURL","isNumber","mergeListSearchAndWhere","transformColumnsToPreferences","transformColumnsToSearchParams","React","Fragment","getDocumentPermissions","enrichDocsWithVersionStatus","handleGroupBy","renderListViewSlots","resolveAllFilterOptions","transformColumnsToSelect","renderListView","args","clientConfig","ComponentOverride","customCellProps","disableBulkDelete","disableBulkEdit","disableQueryPresets","drawerSlug","enableRowSelections","initPageResult","overrideEntityVisibility","params","query","queryFromArgs","searchParams","trash","viewType","collectionConfig","slug","collectionSlug","locale","fullLocale","permissions","req","i18n","payload","config","queryFromReq","user","visibleEntities","routes","admin","adminRoute","collections","read","includes","Error","columnsFromQuery","columns","queryByGroup","JSON","parse","collectionPreferences","key","value","groupBy","limit","Number","undefined","preset","sort","queryPreset","queryPresetPermissions","findByID","id","collection","depth","overrideAccess","data","docPermissions","err","logger","error","where","columnPreference","page","pagination","defaultLimit","defaultSort","baseFilterConstraint","baseFilter","baseListFilter","whereWithMergedSearch","search","and","deletedAt","exists","Table","columnState","docs","hasNextPage","hasPrevPage","nextPage","pagingCounter","prevPage","totalDocs","totalPages","clientCollectionConfig","find","c","select","enableListViewSelectAPI","fieldPermissions","fields","draft","fallbackLocale","includeLockStatus","orderableFieldName","orderable","useAsTitle","name","msg","renderedFilters","importMap","resolvedFilterOptions","staticDescription","description","t","newDocumentURL","path","hasCreatePermission","create","hasDeletePermission","delete","notFoundDocId","serverProps","listPreferences","listSearchableFields","listViewSlots","clientProps","isInDrawer","Boolean","stringify","List","_jsxs","_jsx","modifySearchParams","Component","components","views","list","Fallback","ListView","RenderedList","message","console"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 7059, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/views/List/handleServerFunction.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/views/List/handleServerFunction.tsx"],"sourcesContent":["import type { RenderListServerFnArgs, RenderListServerFnReturnType } from '@payloadcms/ui'\nimport type { CollectionPreferences, ServerFunction, VisibleEntities } from 'payload'\n\nimport { getClientConfig } from '@payloadcms/ui/utilities/getClientConfig'\nimport { headers as getHeaders } from 'next/headers.js'\nimport {\n  canAccessAdmin,\n  getAccessResults,\n  isEntityHidden,\n  parseCookies,\n  UnauthorizedError,\n} from 'payload'\nimport { applyLocaleFiltering } from 'payload/shared'\n\nimport { renderListView } from './index.js'\n\nexport const renderListHandler: ServerFunction<\n  RenderListServerFnArgs,\n  Promise<RenderListServerFnReturnType>\n> = async (args) => {\n  const {\n    collectionSlug,\n    disableActions,\n    disableBulkDelete,\n    disableBulkEdit,\n    disableQueryPresets,\n    drawerSlug,\n    enableRowSelections,\n    overrideEntityVisibility,\n    query,\n    redirectAfterDelete,\n    redirectAfterDuplicate,\n    req,\n    req: {\n      i18n,\n      payload,\n      payload: { config },\n      user,\n    },\n  } = args\n\n  if (!req.user) {\n    throw new UnauthorizedError()\n  }\n\n  const headers = await getHeaders()\n\n  const cookies = parseCookies(headers)\n\n  await canAccessAdmin({ req })\n\n  const clientConfig = getClientConfig({\n    config,\n    i18n,\n    importMap: payload.importMap,\n    user,\n  })\n  await applyLocaleFiltering({ clientConfig, config, req })\n\n  const preferencesKey = `collection-${collectionSlug}`\n\n  const preferences = await payload\n    .find({\n      collection: 'payload-preferences',\n      depth: 0,\n      limit: 1,\n      where: {\n        and: [\n          {\n            key: {\n              equals: preferencesKey,\n            },\n          },\n          {\n            'user.relationTo': {\n              equals: user.collection,\n            },\n          },\n          {\n            'user.value': {\n              equals: user.id,\n            },\n          },\n        ],\n      },\n    })\n    .then((res) => res.docs[0]?.value as CollectionPreferences)\n\n  const visibleEntities: VisibleEntities = {\n    collections: payload.config.collections\n      .map(({ slug, admin: { hidden } }) => (!isEntityHidden({ hidden, user }) ? slug : null))\n      .filter(Boolean),\n    globals: payload.config.globals\n      .map(({ slug, admin: { hidden } }) => (!isEntityHidden({ hidden, user }) ? slug : null))\n      .filter(Boolean),\n  }\n\n  const permissions = await getAccessResults({\n    req,\n  })\n\n  const { List } = await renderListView({\n    clientConfig,\n    disableActions,\n    disableBulkDelete,\n    disableBulkEdit,\n    disableQueryPresets,\n    drawerSlug,\n    enableRowSelections,\n    i18n,\n    importMap: payload.importMap,\n    initPageResult: {\n      collectionConfig: payload?.collections?.[collectionSlug]?.config,\n      cookies,\n      globalConfig: payload.config.globals.find((global) => global.slug === collectionSlug),\n      languageOptions: undefined, // TODO\n      permissions,\n      req,\n      translations: undefined, // TODO\n      visibleEntities,\n    },\n    overrideEntityVisibility,\n    params: {\n      segments: ['collections', collectionSlug],\n    },\n    payload,\n    query,\n    redirectAfterDelete,\n    redirectAfterDuplicate,\n    searchParams: {},\n    viewType: 'list',\n  })\n\n  return {\n    List,\n    preferences,\n  }\n}\n"],"names":["getClientConfig","headers","getHeaders","canAccessAdmin","getAccessResults","isEntityHidden","parseCookies","UnauthorizedError","applyLocaleFiltering","renderListView","renderListHandler","args","collectionSlug","disableActions","disableBulkDelete","disableBulkEdit","disableQueryPresets","drawerSlug","enableRowSelections","overrideEntityVisibility","query","redirectAfterDelete","redirectAfterDuplicate","req","i18n","payload","config","user","cookies","clientConfig","importMap","preferencesKey","preferences","find","collection","depth","limit","where","and","key","equals","id","then","res","docs","value","visibleEntities","collections","map","slug","admin","hidden","filter","Boolean","globals","permissions","List","initPageResult","collectionConfig","globalConfig","global","languageOptions","undefined","translations","params","segments","searchParams","viewType"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 7185, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/utilities/slugify.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/utilities/slugify.ts"],"sourcesContent":["import type { Slugify } from 'payload/shared'\n\nimport {\n  flattenAllFields,\n  getFieldByPath,\n  type ServerFunction,\n  type SlugifyServerFunctionArgs,\n  UnauthorizedError,\n} from 'payload'\nimport { slugify as defaultSlugify } from 'payload/shared'\n\n/**\n * This server function is directly related to the {@link https://payloadcms.com/docs/fields/text#slug-field | Slug Field}.\n * This is a server function that is used to invoke the user's custom slugify function from the client.\n * This pattern is required, as there is no other way for us to pass their function across the client-server boundary.\n *   - Not through props\n *   - Not from a server function defined within a server component (see below)\n * When a server function contains non-serializable data within its closure, it gets passed through the boundary (and breaks).\n * The only way to pass server functions to the client (that contain non-serializable data) is if it is globally defined.\n * But we also cannot define this function alongside the server component, as we will not have access to their custom slugify function.\n * See `ServerFunctionsProvider` for more details.\n */\nexport const slugifyHandler: ServerFunction<\n  SlugifyServerFunctionArgs,\n  Promise<ReturnType<Slugify>>\n> = async (args) => {\n  const { collectionSlug, data, globalSlug, path, req, valueToSlugify } = args\n\n  if (!req.user) {\n    throw new UnauthorizedError()\n  }\n\n  const docConfig = collectionSlug\n    ? req.payload.collections[collectionSlug]?.config\n    : globalSlug\n      ? req.payload.config.globals.find((g) => g.slug === globalSlug)\n      : null\n\n  if (!docConfig) {\n    throw new Error()\n  }\n\n  const { field } = getFieldByPath({\n    config: req.payload.config,\n    fields: flattenAllFields({ fields: docConfig.fields }),\n    path,\n  })\n\n  const customSlugify = (\n    typeof field?.custom?.slugify === 'function' ? field.custom.slugify : undefined\n  ) as Slugify\n\n  const result = customSlugify\n    ? await customSlugify({ data, req, valueToSlugify })\n    : defaultSlugify(valueToSlugify)\n\n  return result\n}\n"],"names":["flattenAllFields","getFieldByPath","UnauthorizedError","slugify","defaultSlugify","slugifyHandler","args","collectionSlug","data","globalSlug","path","req","valueToSlugify","user","docConfig","payload","collections","config","globals","find","g","slug","Error","field","fields","customSlugify","custom","undefined","result"],"mappings":";;;;AAEA,SACEA,gBAAgB,EAChBC,cAAc,EAGdC,iBAAiB,QACZ;AACP,SAASC,OAAA,IAAWC,cAAc,QAAQ;;;;;;;;AAanC,MAAMC,cAAA,GAGT,OAAOC,IAAA;IACT,MAAM,EAAEC,cAAc,EAAEC,IAAI,EAAEC,UAAU,EAAEC,IAAI,EAAEC,GAAG,EAAEC,cAAAA,EAAgB,GAAGN,IAAA;IAExE,IAAI,CAACK,GAAA,CAAIE,IAAI,EAAE;QACb,MAAM,IAAIX,iLAAA;IACZ;IAEA,MAAMY,SAAA,GAAYP,cAAA,GACdI,GAAA,CAAII,OAAO,CAACC,WAAW,CAACT,cAAA,CAAe,EAAEU,MAAA,GACzCR,UAAA,GACEE,GAAA,CAAII,OAAO,CAACE,MAAM,CAACC,OAAO,CAACC,IAAI,EAAEC,CAAA,GAAMA,CAAA,CAAEC,IAAI,KAAKZ,UAAA,IAClD;IAEN,IAAI,CAACK,SAAA,EAAW;QACd,MAAM,IAAIQ,KAAA;IACZ;IAEA,MAAM,EAAEC,KAAAA,EAAO,OAAGtB,8KAAA,EAAe;QAC/BgB,MAAA,EAAQN,GAAA,CAAII,OAAO,CAACE,MAAM;QAC1BO,MAAA,MAAQxB,gLAAA,EAAiB;YAAEwB,MAAA,EAAQV,SAAA,CAAUU,MAAAA;QAAO;QACpDd;IACF;IAEA,MAAMe,aAAA,GACJ,OAAOF,KAAA,EAAOG,MAAA,EAAQvB,OAAA,KAAY,aAAaoB,KAAA,CAAMG,MAAM,CAACvB,OAAO,GAAGwB,SAAA;IAGxE,MAAMC,MAAA,GAASH,aAAA,GACX,MAAMA,aAAA,CAAc;QAAEjB,IAAA;QAAMG,GAAA;QAAKC;IAAe,SAChDR,2LAAA,EAAeQ,cAAA;IAEnB,OAAOgB,MAAA;AACT","ignoreList":[]}},
    {"offset": {"line": 7229, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/utilities/handleServerFunctions.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/utilities/handleServerFunctions.ts"],"sourcesContent":["import type { ServerFunction, ServerFunctionHandler } from 'payload'\n\nimport { _internal_renderFieldHandler, copyDataFromLocaleHandler } from '@payloadcms/ui/rsc'\nimport { buildFormStateHandler } from '@payloadcms/ui/utilities/buildFormState'\nimport { buildTableStateHandler } from '@payloadcms/ui/utilities/buildTableState'\nimport { getFolderResultsComponentAndDataHandler } from '@payloadcms/ui/utilities/getFolderResultsComponentAndData'\nimport { schedulePublishHandler } from '@payloadcms/ui/utilities/schedulePublishHandler'\n\nimport { getDefaultLayoutHandler } from '../views/Dashboard/Default/ModularDashboard/renderWidget/getDefaultLayoutServerFn.js'\nimport { renderWidgetHandler } from '../views/Dashboard/Default/ModularDashboard/renderWidget/renderWidgetServerFn.js'\nimport { renderDocumentHandler } from '../views/Document/handleServerFunction.js'\nimport { renderDocumentSlotsHandler } from '../views/Document/renderDocumentSlots.js'\nimport { renderListHandler } from '../views/List/handleServerFunction.js'\nimport { initReq } from './initReq.js'\nimport { slugifyHandler } from './slugify.js'\n\nconst baseServerFunctions: Record<string, ServerFunction<any, any>> = {\n  'copy-data-from-locale': copyDataFromLocaleHandler,\n  'form-state': buildFormStateHandler,\n  'get-default-layout': getDefaultLayoutHandler,\n  'get-folder-results-component-and-data': getFolderResultsComponentAndDataHandler,\n  'render-document': renderDocumentHandler,\n  'render-document-slots': renderDocumentSlotsHandler,\n  'render-field': _internal_renderFieldHandler,\n  'render-list': renderListHandler,\n  'render-widget': renderWidgetHandler,\n  'schedule-publish': schedulePublishHandler,\n  slugify: slugifyHandler,\n  'table-state': buildTableStateHandler,\n}\n\nexport const handleServerFunctions: ServerFunctionHandler = async (args) => {\n  const {\n    name: fnKey,\n    args: fnArgs,\n    config: configPromise,\n    importMap,\n    serverFunctions: extraServerFunctions,\n  } = args\n\n  const { req } = await initReq({\n    configPromise,\n    importMap,\n    key: 'RootLayout',\n  })\n\n  const augmentedArgs: Parameters<ServerFunction>[0] = {\n    ...fnArgs,\n    importMap,\n    req,\n  }\n\n  const serverFunctions = {\n    ...baseServerFunctions,\n    ...(extraServerFunctions || {}),\n  }\n\n  const fn = serverFunctions[fnKey]\n\n  if (!fn) {\n    throw new Error(`Unknown Server Function: ${fnKey}`)\n  }\n\n  return fn(augmentedArgs)\n}\n"],"names":["_internal_renderFieldHandler","copyDataFromLocaleHandler","buildFormStateHandler","buildTableStateHandler","getFolderResultsComponentAndDataHandler","schedulePublishHandler","getDefaultLayoutHandler","renderWidgetHandler","renderDocumentHandler","renderDocumentSlotsHandler","renderListHandler","initReq","slugifyHandler","baseServerFunctions","slugify","handleServerFunctions","args","name","fnKey","fnArgs","config","configPromise","importMap","serverFunctions","extraServerFunctions","req","key","augmentedArgs","fn","Error"],"mappings":";;;;;AAEA,SAASA,4BAA4B,EAAEC,yBAAyB,QAAQ;AACxE,SAASC,qBAAqB,QAAQ;AACtC,SAASC,sBAAsB,QAAQ;AACvC,SAASC,uCAAuC,QAAQ;AACxD,SAASC,sBAAsB,QAAQ;AAEvC,SAASC,uBAAuB,QAAQ;AACxC,SAASC,mBAAmB,QAAQ;AACpC,SAASC,qBAAqB,QAAQ;AACtC,SAASC,0BAA0B,QAAQ;AAC3C,SAASC,iBAAiB,QAAQ;AAClC,SAASC,OAAO,QAAQ;AACxB,SAASC,cAAc,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAE/B,MAAMC,mBAAA,GAAgE;IACpE,yBAAyBZ,0MAAA;IACzB,cAAcC,kMAAA;IACd,sBAAsBI,wQAAA;IACtB,yCAAyCF,sOAAA;IACzC,mBAAmBI,kNAAA;IACnB,yBAAyBC,sNAAA;IACzB,gBAAgBT,wPAAA;IAChB,eAAeU,0MAAA;IACf,iBAAiBH,gQAAA;IACjB,oBAAoBF,2MAAA;IACpBS,OAAA,EAASF,sLAAA;IACT,eAAeT,oMAAAA;AACjB;AAEO,MAAMY,qBAAA,GAA+C,OAAOC,IAAA;IACjE,MAAM,EACJC,IAAA,EAAMC,KAAK,EACXF,IAAA,EAAMG,MAAM,EACZC,MAAA,EAAQC,aAAa,EACrBC,SAAS,EACTC,eAAA,EAAiBC,oBAAAA,EAClB,GAAGR,IAAA;IAEJ,MAAM,EAAES,GAAAA,EAAK,GAAG,UAAMd,+KAAA,EAAQ;QAC5BU,aAAA;QACAC,SAAA;QACAI,GAAA,EAAK;IACP;IAEA,MAAMC,aAAA,GAA+C;QACnD,GAAGR,MAAM;QACTG,SAAA;QACAG;IACF;IAEA,MAAMF,eAAA,GAAkB;QACtB,GAAGV,mBAAmB;QACtB,GAAIW,oBAAA,IAAwB,CAAC,CAAC;IAChC;IAEA,MAAMI,EAAA,GAAKL,eAAe,CAACL,KAAA,CAAM;IAEjC,IAAI,CAACU,EAAA,EAAI;QACP,MAAM,IAAIC,KAAA,CAAM,CAAA,yBAAA,EAA4BX,KAAA,EAAO;IACrD;IAEA,OAAOU,EAAA,CAAGD,aAAA;AACZ","ignoreList":[]}},
    {"offset": {"line": 7315, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/utilities/getRequestTheme.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/utilities/getRequestTheme.ts"],"sourcesContent":["import type { ReadonlyRequestCookies } from 'next/dist/server/web/spec-extension/adapters/request-cookies.js'\nimport type { SanitizedConfig } from 'payload'\n\nimport { defaultTheme, type Theme } from '@payloadcms/ui'\n\ntype GetRequestLanguageArgs = {\n  config: SanitizedConfig\n  cookies: Map<string, string> | ReadonlyRequestCookies\n  headers: Request['headers']\n}\n\nconst acceptedThemes: Theme[] = ['dark', 'light']\n\nexport const getRequestTheme = ({ config, cookies, headers }: GetRequestLanguageArgs): Theme => {\n  if (config.admin.theme !== 'all' && acceptedThemes.includes(config.admin.theme)) {\n    return config.admin.theme\n  }\n\n  const themeCookie = cookies.get(`${config.cookiePrefix || 'payload'}-theme`)\n\n  const themeFromCookie: Theme = (\n    typeof themeCookie === 'string' ? themeCookie : themeCookie?.value\n  ) as Theme\n\n  if (themeFromCookie && acceptedThemes.includes(themeFromCookie)) {\n    return themeFromCookie\n  }\n\n  const themeFromHeader = headers.get('Sec-CH-Prefers-Color-Scheme') as Theme\n\n  if (themeFromHeader && acceptedThemes.includes(themeFromHeader)) {\n    return themeFromHeader\n  }\n\n  return defaultTheme\n}\n"],"names":["defaultTheme","acceptedThemes","getRequestTheme","config","cookies","headers","admin","theme","includes","themeCookie","get","cookiePrefix","themeFromCookie","value","themeFromHeader"],"mappings":";;;;AAGA,SAASA,YAAY,QAAoB;;AAQzC,MAAMC,cAAA,GAA0B;IAAC;IAAQ;CAAQ;AAE1C,MAAMC,eAAA,GAAkBA,CAAC,EAAEC,MAAM,EAAEC,OAAO,EAAEC,OAAAA,EAAiC;IAClF,IAAIF,MAAA,CAAOG,KAAK,CAACC,KAAK,KAAK,SAASN,cAAA,CAAeO,QAAQ,CAACL,MAAA,CAAOG,KAAK,CAACC,KAAK,GAAG;QAC/E,OAAOJ,MAAA,CAAOG,KAAK,CAACC,KAAK;IAC3B;IAEA,MAAME,WAAA,GAAcL,OAAA,CAAQM,GAAG,CAAC,GAAGP,MAAA,CAAOQ,YAAY,IAAI,UAAA,MAAA,CAAiB;IAE3E,MAAMC,eAAA,GACJ,OAAOH,WAAA,KAAgB,WAAWA,WAAA,GAAcA,WAAA,EAAaI,KAAA;IAG/D,IAAID,eAAA,IAAmBX,cAAA,CAAeO,QAAQ,CAACI,eAAA,GAAkB;QAC/D,OAAOA,eAAA;IACT;IAEA,MAAME,eAAA,GAAkBT,OAAA,CAAQK,GAAG,CAAC;IAEpC,IAAII,eAAA,IAAmBb,cAAA,CAAeO,QAAQ,CAACM,eAAA,GAAkB;QAC/D,OAAOA,eAAA;IACT;IAEA,OAAOd,wLAAA;AACT","ignoreList":[]}},
    {"offset": {"line": 7346, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/layouts/Root/checkDependencies.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/layouts/Root/checkDependencies.ts"],"sourcesContent":["import { type CustomVersionParser, checkDependencies as payloadCheckDependencies } from 'payload'\n\nconst customReactVersionParser: CustomVersionParser = (version) => {\n  const [mainVersion, ...preReleases] = version.split('-')\n\n  if (preReleases?.length === 3) {\n    // Needs different handling, as it's in a format like 19.0.0-rc-06d0b89e-20240801 format\n    const date = preReleases[2]\n\n    const parts = mainVersion.split('.').map(Number)\n    return { parts, preReleases: [date] }\n  }\n\n  const parts = mainVersion.split('.').map(Number)\n  return { parts, preReleases }\n}\n\nlet checkedDependencies = false\n\nexport const checkDependencies = () => {\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    process.env.PAYLOAD_DISABLE_DEPENDENCY_CHECKER !== 'true' &&\n    !checkedDependencies\n  ) {\n    checkedDependencies = true\n\n    // First check if there are mismatching dependency versions of next / react packages\n    void payloadCheckDependencies({\n      dependencyGroups: [\n        {\n          name: 'react',\n          dependencies: ['react', 'react-dom'],\n          targetVersionDependency: 'react',\n        },\n      ],\n      dependencyVersions: {\n        next: {\n          required: false,\n          version: '>=15.0.0',\n        },\n        react: {\n          customVersionParser: customReactVersionParser,\n          required: false,\n          version: '>=19.0.0-rc-65a56d0e-20241020',\n        },\n        'react-dom': {\n          customVersionParser: customReactVersionParser,\n          required: false,\n          version: '>=19.0.0-rc-65a56d0e-20241020',\n        },\n      },\n    })\n  }\n}\n"],"names":["checkDependencies","payloadCheckDependencies","customReactVersionParser","version","mainVersion","preReleases","split","length","date","parts","map","Number","checkedDependencies","process","env","NODE_ENV","PAYLOAD_DISABLE_DEPENDENCY_CHECKER","dependencyGroups","name","dependencies","targetVersionDependency","dependencyVersions","next","required","react","customVersionParser"],"mappings":";;;;AAAA,SAAmCA,iBAAA,IAAqBC,wBAAwB,QAAQ;;;;;;AAExF,MAAMC,wBAAA,IAAiDC,OAAA;IACrD,MAAM,CAACC,WAAA,EAAa,GAAGC,WAAA,CAAY,GAAGF,OAAA,CAAQG,KAAK,CAAC;IAEpD,IAAID,WAAA,EAAaE,MAAA,KAAW,GAAG;QAC7B,wFAAA;QACA,MAAMC,IAAA,GAAOH,WAAW,CAAC,EAAE;QAE3B,MAAMI,KAAA,GAAQL,WAAA,CAAYE,KAAK,CAAC,KAAKI,GAAG,CAACC,MAAA;QACzC,OAAO;YAAEF,KAAA;YAAOJ,WAAA,EAAa;gBAACG,IAAA;aAAA;QAAM;IACtC;IAEA,MAAMC,KAAA,GAAQL,WAAA,CAAYE,KAAK,CAAC,KAAKI,GAAG,CAACC,MAAA;IACzC,OAAO;QAAEF,KAAA;QAAOJ;IAAY;AAC9B;AAEA,IAAIO,mBAAA,GAAsB;AAEnB,MAAMZ,iBAAA,GAAoBA,CAAA;IAC/B,IACEa,OAAA,CAAQC,GAAG,CAACC,QAAQ,gCAAK,gBACzBF,OAAA,CAAQC,GAAG,CAACE,kCAAkC,KAAK,UACnD,CAACJ,mBAAA,EACD;QACAA,mBAAA,GAAsB;QAEtB,oFAAA;QACA,SAAKX,iLAAA,EAAyB;YAC5BgB,gBAAA,EAAkB;gBAChB;oBACEC,IAAA,EAAM;oBACNC,YAAA,EAAc;wBAAC;wBAAS;qBAAY;oBACpCC,uBAAA,EAAyB;gBAC3B;aACD;YACDC,kBAAA,EAAoB;gBAClBC,IAAA,EAAM;oBACJC,QAAA,EAAU;oBACVpB,OAAA,EAAS;gBACX;gBACAqB,KAAA,EAAO;oBACLC,mBAAA,EAAqBvB,wBAAA;oBACrBqB,QAAA,EAAU;oBACVpB,OAAA,EAAS;gBACX;gBACA,aAAa;oBACXsB,mBAAA,EAAqBvB,wBAAA;oBACrBqB,QAAA,EAAU;oBACVpB,OAAA,EAAS;gBACX;YACF;QACF;IACF;AACF","ignoreList":[]}},
    {"offset": {"line": 7417, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/layouts/Root/NestProviders.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/layouts/Root/NestProviders.tsx"],"sourcesContent":["import type { Config, ImportMap, ServerProps } from 'payload'\n\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport '@payloadcms/ui/scss/app.scss'\nimport React from 'react'\n\ntype Args = {\n  readonly children: React.ReactNode\n  readonly importMap: ImportMap\n  readonly providers: Config['admin']['components']['providers']\n  readonly serverProps: ServerProps\n}\n\nexport function NestProviders({\n  children,\n  importMap,\n  providers,\n  serverProps,\n}: Args): React.ReactNode {\n  return RenderServerComponent({\n    clientProps: {\n      children:\n        providers.length > 1 ? (\n          <NestProviders\n            importMap={importMap}\n            providers={providers.slice(1)}\n            serverProps={serverProps}\n          >\n            {children}\n          </NestProviders>\n        ) : (\n          children\n        ),\n    },\n    Component: providers[0],\n    importMap,\n    serverProps,\n  })\n}\n"],"names":["RenderServerComponent","React","NestProviders","children","importMap","providers","serverProps","clientProps","length","_jsx","slice","Component"],"mappings":";;;;;AAEA,SAASA,qBAAqB,QAAQ;AAEtC,OAAOC,KAAA,MAAW;;;;;;;;AASX,SAASC,cAAc,EAC5BC,QAAQ,EACRC,SAAS,EACTC,SAAS,EACTC,WAAAA,EACK;IACL,WAAON,iNAAA,EAAsB;QAC3BO,WAAA,EAAa;YACXJ,QAAA,EACEE,SAAA,CAAUG,MAAM,GAAG,IAAA,WAAA,OACjBC,8NAAA,EAACP,aAAA,EAAA;gBACCE,SAAA,EAAWA,SAAA;gBACXC,SAAA,EAAWA,SAAA,CAAUK,KAAK,CAAC;gBAC3BJ,WAAA,EAAaA,WAAA;0BAEZH;iBAGHA;QAEN;QACAQ,SAAA,EAAWN,SAAS,CAAC,EAAE;QACvBD,SAAA;QACAE;IACF;AACF","ignoreList":[]}},
    {"offset": {"line": 7453, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@payloadcms/next/dist/layouts/Root/index.js","sources":["file:///Users/atamanov/Documents/Projects/ways2spain-landing/node_modules/%40payloadcms/next/src/layouts/Root/index.tsx"],"sourcesContent":["import type { AcceptedLanguages } from '@payloadcms/translations'\nimport type { ImportMap, LanguageOptions, SanitizedConfig, ServerFunctionClient } from 'payload'\n\nimport { rtlLanguages } from '@payloadcms/translations'\nimport { ProgressBar, RootProvider } from '@payloadcms/ui'\nimport { getClientConfig } from '@payloadcms/ui/utilities/getClientConfig'\nimport { cookies as nextCookies } from 'next/headers.js'\nimport { applyLocaleFiltering } from 'payload/shared'\nimport React from 'react'\n\nimport { getNavPrefs } from '../../elements/Nav/getNavPrefs.js'\nimport { getRequestTheme } from '../../utilities/getRequestTheme.js'\nimport { initReq } from '../../utilities/initReq.js'\nimport { checkDependencies } from './checkDependencies.js'\nimport { NestProviders } from './NestProviders.js'\n\nimport '@payloadcms/ui/scss/app.scss'\n\nexport const metadata = {\n  description: 'Generated by Next.js',\n  title: 'Next.js',\n}\n\nexport const RootLayout = async ({\n  children,\n  config: configPromise,\n  htmlProps = {},\n  importMap,\n  serverFunction,\n}: {\n  readonly children: React.ReactNode\n  readonly config: Promise<SanitizedConfig>\n  readonly htmlProps?: React.HtmlHTMLAttributes<HTMLHtmlElement>\n  readonly importMap: ImportMap\n  readonly serverFunction: ServerFunctionClient\n}) => {\n  checkDependencies()\n\n  const {\n    cookies,\n    headers,\n    languageCode,\n    permissions,\n    req,\n    req: {\n      payload: { config },\n    },\n  } = await initReq({ configPromise, importMap, key: 'RootLayout' })\n\n  const theme = getRequestTheme({\n    config,\n    cookies,\n    headers,\n  })\n\n  const dir = (rtlLanguages as unknown as AcceptedLanguages[]).includes(languageCode)\n    ? 'RTL'\n    : 'LTR'\n\n  const languageOptions: LanguageOptions = Object.entries(\n    config.i18n.supportedLanguages || {},\n  ).reduce((acc, [language, languageConfig]) => {\n    if (Object.keys(config.i18n.supportedLanguages).includes(language)) {\n      acc.push({\n        label: languageConfig.translations.general.thisLanguage,\n        value: language,\n      })\n    }\n\n    return acc\n  }, [])\n\n  async function switchLanguageServerAction(lang: string): Promise<void> {\n    'use server'\n    const cookies = await nextCookies()\n    cookies.set({\n      name: `${config.cookiePrefix || 'payload'}-lng`,\n      path: '/',\n      value: lang,\n    })\n  }\n\n  const navPrefs = await getNavPrefs(req)\n\n  const clientConfig = getClientConfig({\n    config,\n    i18n: req.i18n,\n    importMap,\n    user: req.user,\n  })\n\n  await applyLocaleFiltering({ clientConfig, config, req })\n\n  return (\n    <html\n      data-theme={theme}\n      dir={dir}\n      lang={languageCode}\n      suppressHydrationWarning={config?.admin?.suppressHydrationWarning ?? false}\n      {...htmlProps}\n    >\n      <head>\n        <style>{`@layer payload-default, payload;`}</style>\n      </head>\n      <body>\n        <RootProvider\n          config={clientConfig}\n          dateFNSKey={req.i18n.dateFNSKey}\n          fallbackLang={config.i18n.fallbackLanguage}\n          isNavOpen={navPrefs?.open ?? true}\n          languageCode={languageCode}\n          languageOptions={languageOptions}\n          locale={req.locale}\n          permissions={req.user ? permissions : null}\n          serverFunction={serverFunction}\n          switchLanguageServerAction={switchLanguageServerAction}\n          theme={theme}\n          translations={req.i18n.translations}\n          user={req.user}\n        >\n          <ProgressBar />\n          {Array.isArray(config.admin?.components?.providers) &&\n          config.admin?.components?.providers.length > 0 ? (\n            <NestProviders\n              importMap={req.payload.importMap}\n              providers={config.admin?.components?.providers}\n              serverProps={{\n                i18n: req.i18n,\n                payload: req.payload,\n                permissions,\n                user: req.user,\n              }}\n            >\n              {children}\n            </NestProviders>\n          ) : (\n            children\n          )}\n        </RootProvider>\n        <div id=\"portal\" />\n      </body>\n    </html>\n  )\n}\n"],"names":["rtlLanguages","ProgressBar","RootProvider","getClientConfig","cookies","nextCookies","applyLocaleFiltering","React","getNavPrefs","getRequestTheme","initReq","checkDependencies","NestProviders","metadata","description","title","RootLayout","children","config","configPromise","htmlProps","importMap","serverFunction","headers","languageCode","permissions","req","payload","key","theme","dir","includes","languageOptions","Object","entries","i18n","supportedLanguages","reduce","acc","language","languageConfig","keys","push","label","translations","general","thisLanguage","value","switchLanguageServerAction","lang","set","name","cookiePrefix","path","navPrefs","clientConfig","user","_jsxs","suppressHydrationWarning","admin","_jsx","dateFNSKey","fallbackLang","fallbackLanguage","isNavOpen","open","locale","Array","isArray","components","providers","length","serverProps","id"],"mappings":"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","ignoreList":[]}}]
}